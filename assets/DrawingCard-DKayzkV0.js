import{b as fa,d as pa,R as ha,r as gn,j as $n}from"./index-DiojgAgK.js";import{R as ma,u as ga,V as va,G as ba,h as ya,P as xa,M as wa,B as ka,_ as Ea,C as Sa,k as Po}from"./FirebaseUtils-Br4SKQFO.js";import{u as ja}from"./useAccountSync-Bs7tAD1P.js";import{u as _a}from"./useUserIdFromActiveDashboard-t_VW60vp.js";import"./index-e3d5d3f4-DgvfLo6j.js";import"./tslib.es6-CDuPK5Eb.js";var Qn={exports:{}},eo={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */var Co;function Oa(){return Co||(Co=1,function(yr,Fr){(function(Wr,an){yr.exports=an(fa(),pa())})(self,function(Wr,an){return function(){var Gr,Vr,Sr,ln,sn={45:function(ge,Q,t){function w(f){var c,j,A="";if(typeof f=="string"||typeof f=="number")A+=f;else if(typeof f=="object")if(Array.isArray(f))for(c=0;c<f.length;c++)f[c]&&(j=w(f[c]))&&(A&&(A+=" "),A+=j);else for(c in f)f[c]&&(A&&(A+=" "),A+=c);return A}function y(){for(var f,c,j=0,A="";j<arguments.length;)(f=arguments[j++])&&(c=w(f))&&(A&&(A+=" "),A+=c);return A}t.d(Q,{Z:function(){return y}})},6233:function(ge,Q){var t;t=function(w){w.version="0.3.0";var y=function(){for(var j=0,A=new Array(256),F=0;F!=256;++F)j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=1&(j=F)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1)?-306674912^j>>>1:j>>>1,A[F]=j;return typeof Int32Array<"u"?new Int32Array(A):A}(),f=typeof Buffer<"u";function c(j){for(var A=-1,F=0,o=j.length-7;F<o;)A=(A=(A=(A=(A=(A=(A=(A=A>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])];for(;F<o+7;)A=A>>>8^y[255&(A^j[F++])];return-1^A}w.table=y,w.bstr=function(j){if(j.length>32768&&f)return c(new Buffer(j));for(var A=-1,F=j.length-1,o=0;o<F;)A=y[255&(A^j.charCodeAt(o++))]^A>>>8,A=y[255&(A^j.charCodeAt(o++))]^A>>>8;return o===F&&(A=A>>>8^y[255&(A^j.charCodeAt(o))]),-1^A},w.buf=function(j){if(j.length>1e4)return c(j);for(var A=-1,F=0,o=j.length-3;F<o;)A=(A=(A=(A=A>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])])>>>8^y[255&(A^j[F++])];for(;F<o+3;)A=A>>>8^y[255&(A^j[F++])];return-1^A},w.str=function(j){for(var A,F,o=-1,z=0,B=j.length;z<B;)(A=j.charCodeAt(z++))<128?o=o>>>8^y[255&(o^A)]:A<2048?o=(o=o>>>8^y[255&(o^(192|A>>6&31))])>>>8^y[255&(o^(128|63&A))]:A>=55296&&A<57344?(A=64+(1023&A),F=1023&j.charCodeAt(z++),o=(o=(o=(o=o>>>8^y[255&(o^(240|A>>8&7))])>>>8^y[255&(o^(128|A>>2&63))])>>>8^y[255&(o^(128|F>>6&15|3&A))])>>>8^y[255&(o^(128|63&F))]):o=(o=(o=o>>>8^y[255&(o^(224|A>>12&15))])>>>8^y[255&(o^(128|A>>6&63))])>>>8^y[255&(o^(128|63&A))];return-1^o}},t(typeof DO_NOT_EXPORT_CRC>"u"?Q:{})},4739:function(ge,Q,t){t.d(Q,{KO:function(){return fe},Vv:function(){return I},b9:function(){return D},cn:function(){return te},zt:function(){return T}});var w=t(9787);const y=Symbol(),f=q=>!!q[y],c=q=>{var H,h;(h=(H=q[y]).c)==null||h.call(H)},j=(q,H)=>{const h=q[y].o,_=H[y].o;return h===_||q===_||f(h)&&j(h,H)},A=q=>{const H={o:q,c:null},h=new Promise(_=>{H.c=()=>{H.c=null,_()},q.then(H.c,H.c)});return h[y]=H,h};var F=Object.defineProperty,o=Object.defineProperties,z=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,G=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,k=(q,H,h)=>H in q?F(q,H,{enumerable:!0,configurable:!0,writable:!0,value:h}):q[H]=h;const se=q=>"init"in q,pe="r",Ee="w",ie="c",de="s",ye=q=>{const H=new WeakMap,h=new WeakMap,_=new Map;let W,M;if(W=new Set,M=new Set,q)for(const[Le,ne]of q){const me={v:ne,r:0,d:new Map};Object.freeze(me),se(Le)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Le),H.set(Le,me)}const re=new WeakMap,O=new WeakMap,S=Le=>{let ne=O.get(Le);return ne||(ne=new Map,O.set(Le,ne)),ne},b=(Le,ne)=>{if(Le){const me=S(Le);let ve=me.get(ne);return ve||(ve=b(Le.p,ne),ve&&("p"in ve&&ve.p.then(()=>me.delete(ne)),me.set(ne,ve))),ve}return H.get(ne)},d=(Le,ne,me)=>{if(Object.freeze(me),Le)S(Le).set(ne,me);else{const ve=H.get(ne);H.set(ne,me),_.has(ne)||_.set(ne,ve)}},x=(Le,ne=new Map,me)=>{if(!me)return ne;const ve=new Map;let we=!1;return me.forEach(Me=>{var Te;const ze=((Te=b(Le,Me))==null?void 0:Te.r)||0;ve.set(Me,ze),ne.get(Me)!==ze&&(we=!0)}),ne.size!==ve.size||we?ve:ne},P=(Le,ne,me,ve,we)=>{const Me=b(Le,ne);if(Me){if(we&&(!("p"in Me)||!j(Me.p,we)))return Me;"p"in Me&&c(Me.p)}const Te={v:me,r:(Me==null?void 0:Me.r)||0,d:x(Le,Me==null?void 0:Me.d,ve)};return Me&&"v"in Me&&Object.is(Me.v,me)?Te.d===Me.d||Te.d.size===Me.d.size&&Array.from(Te.d.keys()).every(ze=>Me.d.has(ze))||Promise.resolve().then(()=>{Fe(Le)}):(++Te.r,Te.d.has(ne)&&(Te.d=new Map(Te.d).set(ne,Te.r))),d(Le,ne,Te),Te},U=(Le,ne,me,ve,we)=>{const Me=b(Le,ne);if(Me){if(we&&(!("p"in Me)||!j(Me.p,we)))return Me;"p"in Me&&c(Me.p)}const Te={e:me,r:(Me==null?void 0:Me.r)||0,d:x(Le,Me==null?void 0:Me.d,ve)};return d(Le,ne,Te),Te},L=(Le,ne,me,ve)=>{const we=b(Le,ne);if(we&&"p"in we){if(j(we.p,me))return we;c(we.p)}((Te,ze,We)=>{let He=re.get(ze);He||(He=new Map,re.set(ze,He)),We.then(()=>{He.get(Te)===We&&(He.delete(Te),He.size||re.delete(ze))}),He.set(Te,We)})(Le,ne,me);const Me={p:me,r:(we==null?void 0:we.r)||0,d:x(Le,we==null?void 0:we.d,ve)};return d(Le,ne,Me),Me},ce=(Le,ne,me,ve)=>{if(me instanceof Promise){const we=A(me.then(Me=>{P(Le,ne,Me,ve,we),Fe(Le)}).catch(Me=>{if(Me instanceof Promise)return f(Me)?Me.then(()=>{ue(Le,ne,!0)}):Me;U(Le,ne,Me,ve,we),Fe(Le)}));return L(Le,ne,we,ve)}return P(Le,ne,me,ve)},ae=(Le,ne)=>{const me=b(Le,ne);if(me){"p"in me&&c(me.p);const Me=(ve=((Te,ze)=>{for(var We in ze||(ze={}))G.call(ze,We)&&k(Te,We,ze[We]);if(B)for(var We of B(ze))le.call(ze,We)&&k(Te,We,ze[We]);return Te})({},me),we={i:me.r},o(ve,z(we)));d(Le,ne,Me)}else console.warn("[Bug] could not invalidate non existing atom",ne);var ve,we},ue=(Le,ne,me)=>{if(!me){const we=b(Le,ne);if(we&&(we.r!==we.i&&"p"in we&&we.p[y].c||(we.d.forEach((Me,Te)=>{if(Te!==ne)if(h.has(Te)){const ze=b(Le,Te);ze&&ze.r===ze.i&&ue(Le,Te)}else ue(Le,Te)}),Array.from(we.d).every(([Me,Te])=>{const ze=b(Le,Me);return ze&&"v"in ze&&ze.r===Te}))))return we}const ve=new Set;try{const we=ne.read(Me=>{ve.add(Me);const Te=Me===ne?b(Le,Me):ue(Le,Me);if(Te){if("e"in Te)throw Te.e;if("p"in Te)throw Te.p;return Te.v}if(se(Me))return Me.init;throw new Error("no atom init")});return ce(Le,ne,we,ve)}catch(we){if(we instanceof Promise){const Me=A(we);return L(Le,ne,Me,ve)}return U(Le,ne,we,ve)}},Ce=(Le,ne)=>ue(ne,Le),Pe=(Le,ne)=>!ne.l.size&&(!ne.t.size||ne.t.size===1&&ne.t.has(Le)),N=(Le,ne)=>{const me=h.get(ne);me==null||me.t.forEach(ve=>{ve!==ne&&(ae(Le,ve),N(Le,ve))})},Y=(Le,ne,me)=>{let ve=!0;const we=(Te,ze)=>{const We=ue(Le,Te);if("e"in We)throw We.e;if("p"in We){if(ze!=null&&ze.unstable_promise)return We.p.then(()=>we(Te,ze));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",Te),We.p}if("v"in We)return We.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",Te),new Error("no value found")},Me=ne.write(we,(Te,ze)=>{let We;if(Te===ne){if(!se(Te))throw new Error("atom not writable");(Ye=>{const et=new Set,it=re.get(Ye);return it&&(re.delete(Ye),it.forEach(($e,tt)=>{c($e),et.add(tt)})),et})(Te).forEach(Ye=>{Ye!==Le&&ce(Ye,Te,ze)}),ce(Le,Te,ze),N(Le,Te)}else We=Y(Le,Te,ze);return ve||Fe(Le),We},me);return ve=!1,Le=void 0,Me},$=(Le,ne,me)=>{const ve=Y(me,Le,ne);return Fe(me),ve},xe=(Le,ne)=>{const me={t:new Set(ne&&[ne]),l:new Set};if(h.set(Le,me),M.add(Le),ue(void 0,Le).d.forEach((ve,we)=>{const Me=h.get(we);Me?Me.t.add(Le):we!==Le&&xe(we,Le)}),(ve=>!!ve.write)(Le)&&Le.onMount){const ve=Me=>$(Le,Me),we=Le.onMount(ve);we&&(me.u=we)}return me},Oe=Le=>{var ne;const me=(ne=h.get(Le))==null?void 0:ne.u;me&&me(),h.delete(Le),M.delete(Le);const ve=b(void 0,Le);ve?ve.d.forEach((we,Me)=>{if(Me!==Le){const Te=h.get(Me);Te&&(Te.t.delete(Le),Pe(Me,Te)&&Oe(Me))}}):console.warn("[Bug] could not find atom state to unmount",Le)},Ze=(Le,ne,me)=>{const ve=new Set(ne.d.keys());me==null||me.forEach((we,Me)=>{if(ve.has(Me))return void ve.delete(Me);const Te=h.get(Me);Te&&(Te.t.delete(Le),Pe(Me,Te)&&Oe(Me))}),ve.forEach(we=>{const Me=h.get(we);Me?Me.t.add(Le):h.has(Le)&&xe(we,Le)})},Fe=Le=>{if(Le)S(Le).forEach((ne,me)=>{if(ne!==H.get(me)){const ve=h.get(me);ve==null||ve.l.forEach(we=>we(Le))}});else{for(;_.size;){const ne=Array.from(_);_.clear(),ne.forEach(([me,ve])=>{const we=b(void 0,me);we&&we.d!==(ve==null?void 0:ve.d)&&Ze(me,we,ve==null?void 0:ve.d);const Me=h.get(me);Me==null||Me.l.forEach(Te=>Te())})}W.forEach(ne=>ne())}},Je=(Le,ne)=>{ne&&(me=>{S(me).forEach((ve,we)=>{const Me=H.get(we);(ve.r>((Me==null?void 0:Me.r)||0)||"v"in ve&&ve.r===(Me==null?void 0:Me.r)&&ve.d!==(Me==null?void 0:Me.d))&&(H.set(we,ve),ve.d!==(Me==null?void 0:Me.d)&&Ze(we,ve,Me==null?void 0:Me.d))})})(ne),Fe(void 0)},Ke=(Le,ne)=>{const me=(ve=>{let we=h.get(ve);return we||(we=xe(ve)),we})(Le).l;return me.add(ne),()=>{me.delete(ne),(ve=>{const we=h.get(ve);we&&Pe(ve,we)&&Oe(ve)})(Le)}},Be=(Le,ne)=>{for(const[me,ve]of Le)se(me)&&(ce(ne,me,ve),N(ne,me));Fe(ne)};return{[pe]:Ce,[Ee]:$,[ie]:Je,[de]:Ke,h:Be,n:Le=>(W.add(Le),()=>{W.delete(Le)}),l:()=>M.values(),a:Le=>H.get(Le),m:Le=>h.get(Le)}},I=q=>{const H=ye(q),h=_=>new Promise((W,M)=>{const re=H.r(_);"e"in re?M(re.e):W("p"in re?re.p.then(()=>h(_)):re.v)});return{get:_=>{const W=H.r(_);if("e"in W)throw W.e;if(!("p"in W))return W.v},asyncGet:h,set:(_,W)=>H.w(_,W),sub:(_,W)=>H.s(_,W),SECRET_INTERNAL_store:H}},J=(q,H)=>({s:H?H(q).SECRET_INTERNAL_store:ye(q)}),g=new Map,m=q=>(g.has(q)||g.set(q,(0,w.createContext)(J())),g.get(q));var C=Object.defineProperty,v=Object.defineProperties,u=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,i=(q,H,h)=>H in q?C(q,H,{enumerable:!0,configurable:!0,writable:!0,value:h}):q[H]=h,a=(q,H)=>{for(var h in H||(H={}))n.call(H,h)&&i(q,h,H[h]);if(s)for(var h of s(H))e.call(H,h)&&i(q,h,H[h]);return q};const l=q=>q.debugLabel||q.toString(),p=([q,H])=>Object.fromEntries(H.flatMap(h=>{var _,W;const M=(_=q.m)==null?void 0:_.call(q,h);if(!M)return[];const re=M.t,O=((W=q.a)==null?void 0:W.call(q,h))||{};return[[l(h),(S=a(a(a({},"e"in O&&{error:O.e}),"p"in O&&{promise:O.p}),"v"in O&&{value:O.v}),b={dependents:Array.from(re).map(l)},v(S,u(b)))]];var S,b})),T=({children:q,initialValues:H,scope:h,unstable_createStore:_,unstable_enableVersionedWrite:W})=>{const[M,re]=(0,w.useState)();(0,w.useEffect)(()=>{M&&(O.current.s.c(null,M),delete M.p)},[M]);const O=(0,w.useRef)();O.current||(O.current=J(H,_),W&&(O.current.w=b=>{re(d=>{const x=d?{p:d}:{};return b(x),x})})),W||(b=>{const{s:d}=b,[x,P]=(0,w.useState)([]);(0,w.useEffect)(()=>{var U;const L=()=>{var ae;P(Array.from(((ae=d.l)==null?void 0:ae.call(d))||[]))},ce=(U=d.n)==null?void 0:U.call(d,L);return L(),ce},[d]),(0,w.useDebugValue)([d,x],p)})(O.current);const S=m(h);return(0,w.createElement)(S.Provider,{value:O.current},q)};let X=0;function te(q,H){const h="atom"+ ++X,_={toString:()=>h};return typeof q=="function"?_.read=q:(_.init=q,_.read=W=>W(_),_.write=(W,M,re)=>M(_,typeof re=="function"?re(W(_)):re)),H&&(_.write=H),_}function R(q,H){const h=m(H),{s:_}=(0,w.useContext)(h),W=(0,w.useCallback)(b=>{const d=_.r(q,b);if("e"in d)throw d.e;if("p"in d)throw d.p;if("v"in d)return d.v;throw new Error("no atom value")},[_,q]),[[M,re,O],S]=(0,w.useReducer)((0,w.useCallback)((b,d)=>{const x=W(d);return Object.is(b[1],x)&&b[2]===q?b:[d,x,q]},[W,q]),void 0,()=>[void 0,W(void 0),q]);return O!==q&&S(void 0),(0,w.useEffect)(()=>{const b=_.s(q,S);return S(void 0),b},[_,q]),(0,w.useEffect)(()=>{_.c(q,M)}),(0,w.useDebugValue)(re),re}function D(q,H){const h=m(H),{s:_,w:W}=(0,w.useContext)(h);return(0,w.useCallback)(M=>{if(!("write"in q))throw new Error("not writable atom");const re=O=>_.w(q,M,O);return W?W(re):re()},[_,W,q])}function fe(q,H){return"scope"in q&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),H=q.scope),[R(q,H),D(q,H)]}},200:function(ge,Q,t){var w="Expected a function",y=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,j=/^0o[0-7]+$/i,A=parseInt,F=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,o=typeof self=="object"&&self&&self.Object===Object&&self,z=F||o||Function("return this")(),B=Object.prototype.toString,G=Math.max,le=Math.min,k=function(){return z.Date.now()};function se(ie,de,ye){var I,J,g,m,C,v,u=0,s=!1,n=!1,e=!0;if(typeof ie!="function")throw new TypeError(w);function i(te){var R=I,D=J;return I=J=void 0,u=te,m=ie.apply(D,R)}function a(te){return u=te,C=setTimeout(p,de),s?i(te):m}function l(te){var R=te-v;return v===void 0||R>=de||R<0||n&&te-u>=g}function p(){var te=k();if(l(te))return T(te);C=setTimeout(p,function(R){var D=de-(R-v);return n?le(D,g-(R-u)):D}(te))}function T(te){return C=void 0,e&&I?i(te):(I=J=void 0,m)}function X(){var te=k(),R=l(te);if(I=arguments,J=this,v=te,R){if(C===void 0)return a(v);if(n)return C=setTimeout(p,de),i(v)}return C===void 0&&(C=setTimeout(p,de)),m}return de=Ee(de)||0,pe(ye)&&(s=!!ye.leading,g=(n="maxWait"in ye)?G(Ee(ye.maxWait)||0,de):g,e="trailing"in ye?!!ye.trailing:e),X.cancel=function(){C!==void 0&&clearTimeout(C),u=0,I=v=J=C=void 0},X.flush=function(){return C===void 0?m:T(k())},X}function pe(ie){var de=typeof ie;return!!ie&&(de=="object"||de=="function")}function Ee(ie){if(typeof ie=="number")return ie;if(function(I){return typeof I=="symbol"||function(J){return!!J&&typeof J=="object"}(I)&&B.call(I)=="[object Symbol]"}(ie))return NaN;if(pe(ie)){var de=typeof ie.valueOf=="function"?ie.valueOf():ie;ie=pe(de)?de+"":de}if(typeof ie!="string")return ie===0?ie:+ie;ie=ie.replace(y,"");var ye=c.test(ie);return ye||j.test(ie)?A(ie.slice(2),ye?2:8):f.test(ie)?NaN:+ie}ge.exports=function(ie,de,ye){var I=!0,J=!0;if(typeof ie!="function")throw new TypeError(w);return pe(ye)&&(I="leading"in ye?!!ye.leading:I,J="trailing"in ye?!!ye.trailing:J),se(ie,de,{leading:I,maxWait:de,trailing:J})}},2744:function(ge,Q,t){var w={};(0,t(9187).assign)(w,t(4395),t(578),t(2684)),ge.exports=w},4395:function(ge,Q,t){var w=t(7651),y=t(9187),f=t(8592),c=t(5604),j=t(249),A=Object.prototype.toString;function F(z){if(!(this instanceof F))return new F(z);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},z||{});var B=this.options;B.raw&&B.windowBits>0?B.windowBits=-B.windowBits:B.gzip&&B.windowBits>0&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var G=w.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(G!==0)throw new Error(c[G]);if(B.header&&w.deflateSetHeader(this.strm,B.header),B.dictionary){var le;if(le=typeof B.dictionary=="string"?f.string2buf(B.dictionary):A.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(G=w.deflateSetDictionary(this.strm,le))!==0)throw new Error(c[G]);this._dict_set=!0}}function o(z,B){var G=new F(B);if(G.push(z,!0),G.err)throw G.msg||c[G.err];return G.result}F.prototype.push=function(z,B){var G,le,k=this.strm,se=this.options.chunkSize;if(this.ended)return!1;le=B===~~B?B:B===!0?4:0,typeof z=="string"?k.input=f.string2buf(z):A.call(z)==="[object ArrayBuffer]"?k.input=new Uint8Array(z):k.input=z,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new y.Buf8(se),k.next_out=0,k.avail_out=se),(G=w.deflate(k,le))!==1&&G!==0)return this.onEnd(G),this.ended=!0,!1;k.avail_out!==0&&(k.avail_in!==0||le!==4&&le!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(y.shrinkBuf(k.output,k.next_out))):this.onData(y.shrinkBuf(k.output,k.next_out)))}while((k.avail_in>0||k.avail_out===0)&&G!==1);return le===4?(G=w.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===0):le!==2||(this.onEnd(0),k.avail_out=0,!0)},F.prototype.onData=function(z){this.chunks.push(z)},F.prototype.onEnd=function(z){z===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},Q.Deflate=F,Q.deflate=o,Q.deflateRaw=function(z,B){return(B=B||{}).raw=!0,o(z,B)},Q.gzip=function(z,B){return(B=B||{}).gzip=!0,o(z,B)}},578:function(ge,Q,t){var w=t(7823),y=t(9187),f=t(8592),c=t(2684),j=t(5604),A=t(249),F=t(9968),o=Object.prototype.toString;function z(G){if(!(this instanceof z))return new z(G);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},G||{});var le=this.options;le.raw&&le.windowBits>=0&&le.windowBits<16&&(le.windowBits=-le.windowBits,le.windowBits===0&&(le.windowBits=-15)),!(le.windowBits>=0&&le.windowBits<16)||G&&G.windowBits||(le.windowBits+=32),le.windowBits>15&&le.windowBits<48&&(15&le.windowBits)==0&&(le.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var k=w.inflateInit2(this.strm,le.windowBits);if(k!==c.Z_OK)throw new Error(j[k]);if(this.header=new F,w.inflateGetHeader(this.strm,this.header),le.dictionary&&(typeof le.dictionary=="string"?le.dictionary=f.string2buf(le.dictionary):o.call(le.dictionary)==="[object ArrayBuffer]"&&(le.dictionary=new Uint8Array(le.dictionary)),le.raw&&(k=w.inflateSetDictionary(this.strm,le.dictionary))!==c.Z_OK))throw new Error(j[k])}function B(G,le){var k=new z(le);if(k.push(G,!0),k.err)throw k.msg||j[k.err];return k.result}z.prototype.push=function(G,le){var k,se,pe,Ee,ie,de=this.strm,ye=this.options.chunkSize,I=this.options.dictionary,J=!1;if(this.ended)return!1;se=le===~~le?le:le===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof G=="string"?de.input=f.binstring2buf(G):o.call(G)==="[object ArrayBuffer]"?de.input=new Uint8Array(G):de.input=G,de.next_in=0,de.avail_in=de.input.length;do{if(de.avail_out===0&&(de.output=new y.Buf8(ye),de.next_out=0,de.avail_out=ye),(k=w.inflate(de,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(k=w.inflateSetDictionary(this.strm,I)),k===c.Z_BUF_ERROR&&J===!0&&(k=c.Z_OK,J=!1),k!==c.Z_STREAM_END&&k!==c.Z_OK)return this.onEnd(k),this.ended=!0,!1;de.next_out&&(de.avail_out!==0&&k!==c.Z_STREAM_END&&(de.avail_in!==0||se!==c.Z_FINISH&&se!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(pe=f.utf8border(de.output,de.next_out),Ee=de.next_out-pe,ie=f.buf2string(de.output,pe),de.next_out=Ee,de.avail_out=ye-Ee,Ee&&y.arraySet(de.output,de.output,pe,Ee,0),this.onData(ie)):this.onData(y.shrinkBuf(de.output,de.next_out)))),de.avail_in===0&&de.avail_out===0&&(J=!0)}while((de.avail_in>0||de.avail_out===0)&&k!==c.Z_STREAM_END);return k===c.Z_STREAM_END&&(se=c.Z_FINISH),se===c.Z_FINISH?(k=w.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===c.Z_OK):se!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),de.avail_out=0,!0)},z.prototype.onData=function(G){this.chunks.push(G)},z.prototype.onEnd=function(G){G===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg},Q.Inflate=z,Q.inflate=B,Q.inflateRaw=function(G,le){return(le=le||{}).raw=!0,B(G,le)},Q.ungzip=B},9187:function(ge,Q){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function w(c,j){return Object.prototype.hasOwnProperty.call(c,j)}Q.assign=function(c){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var A=j.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var F in A)w(A,F)&&(c[F]=A[F])}}return c},Q.shrinkBuf=function(c,j){return c.length===j?c:c.subarray?c.subarray(0,j):(c.length=j,c)};var y={arraySet:function(c,j,A,F,o){if(j.subarray&&c.subarray)c.set(j.subarray(A,A+F),o);else for(var z=0;z<F;z++)c[o+z]=j[A+z]},flattenChunks:function(c){var j,A,F,o,z,B;for(F=0,j=0,A=c.length;j<A;j++)F+=c[j].length;for(B=new Uint8Array(F),o=0,j=0,A=c.length;j<A;j++)z=c[j],B.set(z,o),o+=z.length;return B}},f={arraySet:function(c,j,A,F,o){for(var z=0;z<F;z++)c[o+z]=j[A+z]},flattenChunks:function(c){return[].concat.apply([],c)}};Q.setTyped=function(c){c?(Q.Buf8=Uint8Array,Q.Buf16=Uint16Array,Q.Buf32=Int32Array,Q.assign(Q,y)):(Q.Buf8=Array,Q.Buf16=Array,Q.Buf32=Array,Q.assign(Q,f))},Q.setTyped(t)},8592:function(ge,Q,t){var w=t(9187),y=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var c=new w.Buf8(256),j=0;j<256;j++)c[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;function A(F,o){if(o<65534&&(F.subarray&&f||!F.subarray&&y))return String.fromCharCode.apply(null,w.shrinkBuf(F,o));for(var z="",B=0;B<o;B++)z+=String.fromCharCode(F[B]);return z}c[254]=c[254]=1,Q.string2buf=function(F){var o,z,B,G,le,k=F.length,se=0;for(G=0;G<k;G++)(64512&(z=F.charCodeAt(G)))==55296&&G+1<k&&(64512&(B=F.charCodeAt(G+1)))==56320&&(z=65536+(z-55296<<10)+(B-56320),G++),se+=z<128?1:z<2048?2:z<65536?3:4;for(o=new w.Buf8(se),le=0,G=0;le<se;G++)(64512&(z=F.charCodeAt(G)))==55296&&G+1<k&&(64512&(B=F.charCodeAt(G+1)))==56320&&(z=65536+(z-55296<<10)+(B-56320),G++),z<128?o[le++]=z:z<2048?(o[le++]=192|z>>>6,o[le++]=128|63&z):z<65536?(o[le++]=224|z>>>12,o[le++]=128|z>>>6&63,o[le++]=128|63&z):(o[le++]=240|z>>>18,o[le++]=128|z>>>12&63,o[le++]=128|z>>>6&63,o[le++]=128|63&z);return o},Q.buf2binstring=function(F){return A(F,F.length)},Q.binstring2buf=function(F){for(var o=new w.Buf8(F.length),z=0,B=o.length;z<B;z++)o[z]=F.charCodeAt(z);return o},Q.buf2string=function(F,o){var z,B,G,le,k=o||F.length,se=new Array(2*k);for(B=0,z=0;z<k;)if((G=F[z++])<128)se[B++]=G;else if((le=c[G])>4)se[B++]=65533,z+=le-1;else{for(G&=le===2?31:le===3?15:7;le>1&&z<k;)G=G<<6|63&F[z++],le--;le>1?se[B++]=65533:G<65536?se[B++]=G:(G-=65536,se[B++]=55296|G>>10&1023,se[B++]=56320|1023&G)}return A(se,B)},Q.utf8border=function(F,o){var z;for((o=o||F.length)>F.length&&(o=F.length),z=o-1;z>=0&&(192&F[z])==128;)z--;return z<0||z===0?o:z+c[F[z]]>o?z:o}},3693:function(ge){ge.exports=function(Q,t,w,y){for(var f=65535&Q|0,c=Q>>>16&65535|0,j=0;w!==0;){w-=j=w>2e3?2e3:w;do c=c+(f=f+t[y++]|0)|0;while(--j);f%=65521,c%=65521}return f|c<<16|0}},2684:function(ge){ge.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(ge){var Q=function(){for(var t,w=[],y=0;y<256;y++){t=y;for(var f=0;f<8;f++)t=1&t?3988292384^t>>>1:t>>>1;w[y]=t}return w}();ge.exports=function(t,w,y,f){var c=Q,j=f+y;t^=-1;for(var A=f;A<j;A++)t=t>>>8^c[255&(t^w[A])];return-1^t}},7651:function(ge,Q,t){var w,y=t(9187),f=t(8676),c=t(3693),j=t(8464),A=t(5604),F=-2,o=258,z=262,B=103,G=113,le=666;function k(e,i){return e.msg=A[i],i}function se(e){return(e<<1)-(e>4?9:0)}function pe(e){for(var i=e.length;--i>=0;)e[i]=0}function Ee(e){var i=e.state,a=i.pending;a>e.avail_out&&(a=e.avail_out),a!==0&&(y.arraySet(e.output,i.pending_buf,i.pending_out,a,e.next_out),e.next_out+=a,i.pending_out+=a,e.total_out+=a,e.avail_out-=a,i.pending-=a,i.pending===0&&(i.pending_out=0))}function ie(e,i){f._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,Ee(e.strm)}function de(e,i){e.pending_buf[e.pending++]=i}function ye(e,i){e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=255&i}function I(e,i){var a,l,p=e.max_chain_length,T=e.strstart,X=e.prev_length,te=e.nice_match,R=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,D=e.window,fe=e.w_mask,q=e.prev,H=e.strstart+o,h=D[T+X-1],_=D[T+X];e.prev_length>=e.good_match&&(p>>=2),te>e.lookahead&&(te=e.lookahead);do if(D[(a=i)+X]===_&&D[a+X-1]===h&&D[a]===D[T]&&D[++a]===D[T+1]){T+=2,a++;do;while(D[++T]===D[++a]&&D[++T]===D[++a]&&D[++T]===D[++a]&&D[++T]===D[++a]&&D[++T]===D[++a]&&D[++T]===D[++a]&&D[++T]===D[++a]&&D[++T]===D[++a]&&T<H);if(l=o-(H-T),T=H-o,l>X){if(e.match_start=i,X=l,l>=te)break;h=D[T+X-1],_=D[T+X]}}while((i=q[i&fe])>R&&--p!=0);return X<=e.lookahead?X:e.lookahead}function J(e){var i,a,l,p,T,X,te,R,D,fe,q=e.w_size;do{if(p=e.window_size-e.lookahead-e.strstart,e.strstart>=q+(q-z)){y.arraySet(e.window,e.window,q,q,0),e.match_start-=q,e.strstart-=q,e.block_start-=q,i=a=e.hash_size;do l=e.head[--i],e.head[i]=l>=q?l-q:0;while(--a);i=a=q;do l=e.prev[--i],e.prev[i]=l>=q?l-q:0;while(--a);p+=q}if(e.strm.avail_in===0)break;if(X=e.strm,te=e.window,R=e.strstart+e.lookahead,D=p,fe=void 0,(fe=X.avail_in)>D&&(fe=D),a=fe===0?0:(X.avail_in-=fe,y.arraySet(te,X.input,X.next_in,fe,R),X.state.wrap===1?X.adler=c(X.adler,te,fe,R):X.state.wrap===2&&(X.adler=j(X.adler,te,fe,R)),X.next_in+=fe,X.total_in+=fe,fe),e.lookahead+=a,e.lookahead+e.insert>=3)for(T=e.strstart-e.insert,e.ins_h=e.window[T],e.ins_h=(e.ins_h<<e.hash_shift^e.window[T+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[T+3-1])&e.hash_mask,e.prev[T&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=T,T++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<z&&e.strm.avail_in!==0)}function g(e,i){for(var a,l;;){if(e.lookahead<z){if(J(e),e.lookahead<z&&i===0)return 1;if(e.lookahead===0)break}if(a=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),a!==0&&e.strstart-a<=e.w_size-z&&(e.match_length=I(e,a)),e.match_length>=3)if(l=f._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else l=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(l&&(ie(e,!1),e.strm.avail_out===0))return 1}return e.insert=e.strstart<2?e.strstart:2,i===4?(ie(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?1:2}function m(e,i){for(var a,l,p;;){if(e.lookahead<z){if(J(e),e.lookahead<z&&i===0)return 1;if(e.lookahead===0)break}if(a=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,a!==0&&e.prev_length<e.max_lazy_match&&e.strstart-a<=e.w_size-z&&(e.match_length=I(e,a),e.match_length<=5&&(e.strategy===1||e.match_length===3&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){p=e.strstart+e.lookahead-3,l=f._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=p&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=2,e.strstart++,l&&(ie(e,!1),e.strm.avail_out===0))return 1}else if(e.match_available){if((l=f._tr_tally(e,0,e.window[e.strstart-1]))&&ie(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(l=f._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,i===4?(ie(e,!0),e.strm.avail_out===0?3:4):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?1:2}function C(e,i,a,l,p){this.good_length=e,this.max_lazy=i,this.nice_length=a,this.max_chain=l,this.func=p}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(e){var i;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(i=e.state).pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap?42:G,e.adler=i.wrap===2?0:1,i.last_flush=0,f._tr_init(i),0):k(e,F)}function s(e){var i,a=u(e);return a===0&&((i=e.state).window_size=2*i.w_size,pe(i.head),i.max_lazy_match=w[i.level].max_lazy,i.good_match=w[i.level].good_length,i.nice_match=w[i.level].nice_length,i.max_chain_length=w[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),a}function n(e,i,a,l,p,T){if(!e)return F;var X=1;if(i===-1&&(i=6),l<0?(X=0,l=-l):l>15&&(X=2,l-=16),p<1||p>9||a!==8||l<8||l>15||i<0||i>9||T<0||T>4)return k(e,F);l===8&&(l=9);var te=new v;return e.state=te,te.strm=e,te.wrap=X,te.gzhead=null,te.w_bits=l,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=p+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+3-1)/3),te.window=new y.Buf8(2*te.w_size),te.head=new y.Buf16(te.hash_size),te.prev=new y.Buf16(te.w_size),te.lit_bufsize=1<<p+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new y.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=i,te.strategy=T,te.method=a,s(e)}w=[new C(0,0,0,0,function(e,i){var a=65535;for(a>e.pending_buf_size-5&&(a=e.pending_buf_size-5);;){if(e.lookahead<=1){if(J(e),e.lookahead===0&&i===0)return 1;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var l=e.block_start+a;if((e.strstart===0||e.strstart>=l)&&(e.lookahead=e.strstart-l,e.strstart=l,ie(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-z&&(ie(e,!1),e.strm.avail_out===0))return 1}return e.insert=0,i===4?(ie(e,!0),e.strm.avail_out===0?3:4):(e.strstart>e.block_start&&(ie(e,!1),e.strm.avail_out),1)}),new C(4,4,8,4,g),new C(4,5,16,8,g),new C(4,6,32,32,g),new C(4,4,16,16,m),new C(8,16,32,32,m),new C(8,16,128,128,m),new C(8,32,128,256,m),new C(32,128,258,1024,m),new C(32,258,258,4096,m)],Q.deflateInit=function(e,i){return n(e,i,8,15,8,0)},Q.deflateInit2=n,Q.deflateReset=s,Q.deflateResetKeep=u,Q.deflateSetHeader=function(e,i){return e&&e.state?e.state.wrap!==2?F:(e.state.gzhead=i,0):F},Q.deflate=function(e,i){var a,l,p,T;if(!e||!e.state||i>5||i<0)return e?k(e,F):F;if(l=e.state,!e.output||!e.input&&e.avail_in!==0||l.status===le&&i!==4)return k(e,e.avail_out===0?-5:F);if(l.strm=e,a=l.last_flush,l.last_flush=i,l.status===42)if(l.wrap===2)e.adler=0,de(l,31),de(l,139),de(l,8),l.gzhead?(de(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),de(l,255&l.gzhead.time),de(l,l.gzhead.time>>8&255),de(l,l.gzhead.time>>16&255),de(l,l.gzhead.time>>24&255),de(l,l.level===9?2:l.strategy>=2||l.level<2?4:0),de(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(de(l,255&l.gzhead.extra.length),de(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=j(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(de(l,0),de(l,0),de(l,0),de(l,0),de(l,0),de(l,l.level===9?2:l.strategy>=2||l.level<2?4:0),de(l,3),l.status=G);else{var X=8+(l.w_bits-8<<4)<<8;X|=(l.strategy>=2||l.level<2?0:l.level<6?1:l.level===6?2:3)<<6,l.strstart!==0&&(X|=32),X+=31-X%31,l.status=G,ye(l,X),l.strstart!==0&&(ye(l,e.adler>>>16),ye(l,65535&e.adler)),e.adler=1}if(l.status===69)if(l.gzhead.extra){for(p=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),Ee(e),p=l.pending,l.pending!==l.pending_buf_size));)de(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(l.status===73)if(l.gzhead.name){p=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),Ee(e),p=l.pending,l.pending===l.pending_buf_size)){T=1;break}T=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,de(l,T)}while(T!==0);l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),T===0&&(l.gzindex=0,l.status=91)}else l.status=91;if(l.status===91)if(l.gzhead.comment){p=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),Ee(e),p=l.pending,l.pending===l.pending_buf_size)){T=1;break}T=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,de(l,T)}while(T!==0);l.gzhead.hcrc&&l.pending>p&&(e.adler=j(e.adler,l.pending_buf,l.pending-p,p)),T===0&&(l.status=B)}else l.status=B;if(l.status===B&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&Ee(e),l.pending+2<=l.pending_buf_size&&(de(l,255&e.adler),de(l,e.adler>>8&255),e.adler=0,l.status=G)):l.status=G),l.pending!==0){if(Ee(e),e.avail_out===0)return l.last_flush=-1,0}else if(e.avail_in===0&&se(i)<=se(a)&&i!==4)return k(e,-5);if(l.status===le&&e.avail_in!==0)return k(e,-5);if(e.avail_in!==0||l.lookahead!==0||i!==0&&l.status!==le){var te=l.strategy===2?function(R,D){for(var fe;;){if(R.lookahead===0&&(J(R),R.lookahead===0)){if(D===0)return 1;break}if(R.match_length=0,fe=f._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,fe&&(ie(R,!1),R.strm.avail_out===0))return 1}return R.insert=0,D===4?(ie(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&(ie(R,!1),R.strm.avail_out===0)?1:2}(l,i):l.strategy===3?function(R,D){for(var fe,q,H,h,_=R.window;;){if(R.lookahead<=o){if(J(R),R.lookahead<=o&&D===0)return 1;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=3&&R.strstart>0&&(q=_[H=R.strstart-1])===_[++H]&&q===_[++H]&&q===_[++H]){h=R.strstart+o;do;while(q===_[++H]&&q===_[++H]&&q===_[++H]&&q===_[++H]&&q===_[++H]&&q===_[++H]&&q===_[++H]&&q===_[++H]&&H<h);R.match_length=o-(h-H),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=3?(fe=f._tr_tally(R,1,R.match_length-3),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(fe=f._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),fe&&(ie(R,!1),R.strm.avail_out===0))return 1}return R.insert=0,D===4?(ie(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&(ie(R,!1),R.strm.avail_out===0)?1:2}(l,i):w[l.level].func(l,i);if(te!==3&&te!==4||(l.status=le),te===1||te===3)return e.avail_out===0&&(l.last_flush=-1),0;if(te===2&&(i===1?f._tr_align(l):i!==5&&(f._tr_stored_block(l,0,0,!1),i===3&&(pe(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),Ee(e),e.avail_out===0))return l.last_flush=-1,0}return i!==4?0:l.wrap<=0?1:(l.wrap===2?(de(l,255&e.adler),de(l,e.adler>>8&255),de(l,e.adler>>16&255),de(l,e.adler>>24&255),de(l,255&e.total_in),de(l,e.total_in>>8&255),de(l,e.total_in>>16&255),de(l,e.total_in>>24&255)):(ye(l,e.adler>>>16),ye(l,65535&e.adler)),Ee(e),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?0:1)},Q.deflateEnd=function(e){var i;return e&&e.state?(i=e.state.status)!==42&&i!==69&&i!==73&&i!==91&&i!==B&&i!==G&&i!==le?k(e,F):(e.state=null,i===G?k(e,-3):0):F},Q.deflateSetDictionary=function(e,i){var a,l,p,T,X,te,R,D,fe=i.length;if(!e||!e.state||(T=(a=e.state).wrap)===2||T===1&&a.status!==42||a.lookahead)return F;for(T===1&&(e.adler=c(e.adler,i,fe,0)),a.wrap=0,fe>=a.w_size&&(T===0&&(pe(a.head),a.strstart=0,a.block_start=0,a.insert=0),D=new y.Buf8(a.w_size),y.arraySet(D,i,fe-a.w_size,a.w_size,0),i=D,fe=a.w_size),X=e.avail_in,te=e.next_in,R=e.input,e.avail_in=fe,e.next_in=0,e.input=i,J(a);a.lookahead>=3;){l=a.strstart,p=a.lookahead-2;do a.ins_h=(a.ins_h<<a.hash_shift^a.window[l+3-1])&a.hash_mask,a.prev[l&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=l,l++;while(--p);a.strstart=l,a.lookahead=2,J(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=2,a.match_available=0,e.next_in=te,e.input=R,e.avail_in=X,a.wrap=T,0},Q.deflateInfo="pako deflate (from Nodeca project)"},9968:function(ge){ge.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(ge){ge.exports=function(Q,t){var w,y,f,c,j,A,F,o,z,B,G,le,k,se,pe,Ee,ie,de,ye,I,J,g,m,C,v;w=Q.state,y=Q.next_in,C=Q.input,f=y+(Q.avail_in-5),c=Q.next_out,v=Q.output,j=c-(t-Q.avail_out),A=c+(Q.avail_out-257),F=w.dmax,o=w.wsize,z=w.whave,B=w.wnext,G=w.window,le=w.hold,k=w.bits,se=w.lencode,pe=w.distcode,Ee=(1<<w.lenbits)-1,ie=(1<<w.distbits)-1;e:do{k<15&&(le+=C[y++]<<k,k+=8,le+=C[y++]<<k,k+=8),de=se[le&Ee];t:for(;;){if(le>>>=ye=de>>>24,k-=ye,(ye=de>>>16&255)===0)v[c++]=65535&de;else{if(!(16&ye)){if((64&ye)==0){de=se[(65535&de)+(le&(1<<ye)-1)];continue t}if(32&ye){w.mode=12;break e}Q.msg="invalid literal/length code",w.mode=30;break e}I=65535&de,(ye&=15)&&(k<ye&&(le+=C[y++]<<k,k+=8),I+=le&(1<<ye)-1,le>>>=ye,k-=ye),k<15&&(le+=C[y++]<<k,k+=8,le+=C[y++]<<k,k+=8),de=pe[le&ie];r:for(;;){if(le>>>=ye=de>>>24,k-=ye,!(16&(ye=de>>>16&255))){if((64&ye)==0){de=pe[(65535&de)+(le&(1<<ye)-1)];continue r}Q.msg="invalid distance code",w.mode=30;break e}if(J=65535&de,k<(ye&=15)&&(le+=C[y++]<<k,(k+=8)<ye&&(le+=C[y++]<<k,k+=8)),(J+=le&(1<<ye)-1)>F){Q.msg="invalid distance too far back",w.mode=30;break e}if(le>>>=ye,k-=ye,J>(ye=c-j)){if((ye=J-ye)>z&&w.sane){Q.msg="invalid distance too far back",w.mode=30;break e}if(g=0,m=G,B===0){if(g+=o-ye,ye<I){I-=ye;do v[c++]=G[g++];while(--ye);g=c-J,m=v}}else if(B<ye){if(g+=o+B-ye,(ye-=B)<I){I-=ye;do v[c++]=G[g++];while(--ye);if(g=0,B<I){I-=ye=B;do v[c++]=G[g++];while(--ye);g=c-J,m=v}}}else if(g+=B-ye,ye<I){I-=ye;do v[c++]=G[g++];while(--ye);g=c-J,m=v}for(;I>2;)v[c++]=m[g++],v[c++]=m[g++],v[c++]=m[g++],I-=3;I&&(v[c++]=m[g++],I>1&&(v[c++]=m[g++]))}else{g=c-J;do v[c++]=v[g++],v[c++]=v[g++],v[c++]=v[g++],I-=3;while(I>2);I&&(v[c++]=v[g++],I>1&&(v[c++]=v[g++]))}break}}break}}while(y<f&&c<A);y-=I=k>>3,le&=(1<<(k-=I<<3))-1,Q.next_in=y,Q.next_out=c,Q.avail_in=y<f?f-y+5:5-(y-f),Q.avail_out=c<A?A-c+257:257-(c-A),w.hold=le,w.bits=k}},7823:function(ge,Q,t){var w=t(9187),y=t(3693),f=t(8464),c=t(9365),j=t(6446),A=-2,F=12,o=30;function z(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function G(I){var J;return I&&I.state?(J=I.state,I.total_in=I.total_out=J.total=0,I.msg="",J.wrap&&(I.adler=1&J.wrap),J.mode=1,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new w.Buf32(852),J.distcode=J.distdyn=new w.Buf32(592),J.sane=1,J.back=-1,0):A}function le(I){var J;return I&&I.state?((J=I.state).wsize=0,J.whave=0,J.wnext=0,G(I)):A}function k(I,J){var g,m;return I&&I.state?(m=I.state,J<0?(g=0,J=-J):(g=1+(J>>4),J<48&&(J&=15)),J&&(J<8||J>15)?A:(m.window!==null&&m.wbits!==J&&(m.window=null),m.wrap=g,m.wbits=J,le(I))):A}function se(I,J){var g,m;return I?(m=new B,I.state=m,m.window=null,(g=k(I,J))!==0&&(I.state=null),g):A}var pe,Ee,ie=!0;function de(I){if(ie){var J;for(pe=new w.Buf32(512),Ee=new w.Buf32(32),J=0;J<144;)I.lens[J++]=8;for(;J<256;)I.lens[J++]=9;for(;J<280;)I.lens[J++]=7;for(;J<288;)I.lens[J++]=8;for(j(1,I.lens,0,288,pe,0,I.work,{bits:9}),J=0;J<32;)I.lens[J++]=5;j(2,I.lens,0,32,Ee,0,I.work,{bits:5}),ie=!1}I.lencode=pe,I.lenbits=9,I.distcode=Ee,I.distbits=5}function ye(I,J,g,m){var C,v=I.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new w.Buf8(v.wsize)),m>=v.wsize?(w.arraySet(v.window,J,g-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):((C=v.wsize-v.wnext)>m&&(C=m),w.arraySet(v.window,J,g-m,C,v.wnext),(m-=C)?(w.arraySet(v.window,J,g-m,m,0),v.wnext=m,v.whave=v.wsize):(v.wnext+=C,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=C))),0}Q.inflateReset=le,Q.inflateReset2=k,Q.inflateResetKeep=G,Q.inflateInit=function(I){return se(I,15)},Q.inflateInit2=se,Q.inflate=function(I,J){var g,m,C,v,u,s,n,e,i,a,l,p,T,X,te,R,D,fe,q,H,h,_,W,M,re=0,O=new w.Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return A;(g=I.state).mode===F&&(g.mode=13),u=I.next_out,C=I.output,n=I.avail_out,v=I.next_in,m=I.input,s=I.avail_in,e=g.hold,i=g.bits,a=s,l=n,_=0;e:for(;;)switch(g.mode){case 1:if(g.wrap===0){g.mode=13;break}for(;i<16;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(2&g.wrap&&e===35615){g.check=0,O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0),e=0,i=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&e)<<8)+(e>>8))%31){I.msg="incorrect header check",g.mode=o;break}if((15&e)!=8){I.msg="unknown compression method",g.mode=o;break}if(i-=4,h=8+(15&(e>>>=4)),g.wbits===0)g.wbits=h;else if(h>g.wbits){I.msg="invalid window size",g.mode=o;break}g.dmax=1<<h,I.adler=g.check=1,g.mode=512&e?10:F,e=0,i=0;break;case 2:for(;i<16;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(g.flags=e,(255&g.flags)!=8){I.msg="unknown compression method",g.mode=o;break}if(57344&g.flags){I.msg="unknown header flags set",g.mode=o;break}g.head&&(g.head.text=e>>8&1),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0)),e=0,i=0,g.mode=3;case 3:for(;i<32;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}g.head&&(g.head.time=e),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,O[2]=e>>>16&255,O[3]=e>>>24&255,g.check=f(g.check,O,4,0)),e=0,i=0,g.mode=4;case 4:for(;i<16;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}g.head&&(g.head.xflags=255&e,g.head.os=e>>8),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0)),e=0,i=0,g.mode=5;case 5:if(1024&g.flags){for(;i<16;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}g.length=e,g.head&&(g.head.extra_len=e),512&g.flags&&(O[0]=255&e,O[1]=e>>>8&255,g.check=f(g.check,O,2,0)),e=0,i=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&((p=g.length)>s&&(p=s),p&&(g.head&&(h=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),w.arraySet(g.head.extra,m,v,p,h)),512&g.flags&&(g.check=f(g.check,m,p,v)),s-=p,v+=p,g.length-=p),g.length))break e;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(s===0)break e;p=0;do h=m[v+p++],g.head&&h&&g.length<65536&&(g.head.name+=String.fromCharCode(h));while(h&&p<s);if(512&g.flags&&(g.check=f(g.check,m,p,v)),s-=p,v+=p,h)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(s===0)break e;p=0;do h=m[v+p++],g.head&&h&&g.length<65536&&(g.head.comment+=String.fromCharCode(h));while(h&&p<s);if(512&g.flags&&(g.check=f(g.check,m,p,v)),s-=p,v+=p,h)break e}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;i<16;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(e!==(65535&g.check)){I.msg="header crc mismatch",g.mode=o;break}e=0,i=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),I.adler=g.check=0,g.mode=F;break;case 10:for(;i<32;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}I.adler=g.check=z(e),e=0,i=0,g.mode=11;case 11:if(g.havedict===0)return I.next_out=u,I.avail_out=n,I.next_in=v,I.avail_in=s,g.hold=e,g.bits=i,2;I.adler=g.check=1,g.mode=F;case F:if(J===5||J===6)break e;case 13:if(g.last){e>>>=7&i,i-=7&i,g.mode=27;break}for(;i<3;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}switch(g.last=1&e,i-=1,3&(e>>>=1)){case 0:g.mode=14;break;case 1:if(de(g),g.mode=20,J===6){e>>>=2,i-=2;break e}break;case 2:g.mode=17;break;case 3:I.msg="invalid block type",g.mode=o}e>>>=2,i-=2;break;case 14:for(e>>>=7&i,i-=7&i;i<32;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if((65535&e)!=(e>>>16^65535)){I.msg="invalid stored block lengths",g.mode=o;break}if(g.length=65535&e,e=0,i=0,g.mode=15,J===6)break e;case 15:g.mode=16;case 16:if(p=g.length){if(p>s&&(p=s),p>n&&(p=n),p===0)break e;w.arraySet(C,m,v,p,u),s-=p,v+=p,n-=p,u+=p,g.length-=p;break}g.mode=F;break;case 17:for(;i<14;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(g.nlen=257+(31&e),e>>>=5,i-=5,g.ndist=1+(31&e),e>>>=5,i-=5,g.ncode=4+(15&e),e>>>=4,i-=4,g.nlen>286||g.ndist>30){I.msg="too many length or distance symbols",g.mode=o;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;i<3;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}g.lens[S[g.have++]]=7&e,e>>>=3,i-=3}for(;g.have<19;)g.lens[S[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,W={bits:g.lenbits},_=j(0,g.lens,0,19,g.lencode,0,g.work,W),g.lenbits=W.bits,_){I.msg="invalid code lengths set",g.mode=o;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;R=(re=g.lencode[e&(1<<g.lenbits)-1])>>>16&255,D=65535&re,!((te=re>>>24)<=i);){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(D<16)e>>>=te,i-=te,g.lens[g.have++]=D;else{if(D===16){for(M=te+2;i<M;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(e>>>=te,i-=te,g.have===0){I.msg="invalid bit length repeat",g.mode=o;break}h=g.lens[g.have-1],p=3+(3&e),e>>>=2,i-=2}else if(D===17){for(M=te+3;i<M;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}i-=te,h=0,p=3+(7&(e>>>=te)),e>>>=3,i-=3}else{for(M=te+7;i<M;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}i-=te,h=0,p=11+(127&(e>>>=te)),e>>>=7,i-=7}if(g.have+p>g.nlen+g.ndist){I.msg="invalid bit length repeat",g.mode=o;break}for(;p--;)g.lens[g.have++]=h}}if(g.mode===o)break;if(g.lens[256]===0){I.msg="invalid code -- missing end-of-block",g.mode=o;break}if(g.lenbits=9,W={bits:g.lenbits},_=j(1,g.lens,0,g.nlen,g.lencode,0,g.work,W),g.lenbits=W.bits,_){I.msg="invalid literal/lengths set",g.mode=o;break}if(g.distbits=6,g.distcode=g.distdyn,W={bits:g.distbits},_=j(2,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,W),g.distbits=W.bits,_){I.msg="invalid distances set",g.mode=o;break}if(g.mode=20,J===6)break e;case 20:g.mode=21;case 21:if(s>=6&&n>=258){I.next_out=u,I.avail_out=n,I.next_in=v,I.avail_in=s,g.hold=e,g.bits=i,c(I,l),u=I.next_out,C=I.output,n=I.avail_out,v=I.next_in,m=I.input,s=I.avail_in,e=g.hold,i=g.bits,g.mode===F&&(g.back=-1);break}for(g.back=0;R=(re=g.lencode[e&(1<<g.lenbits)-1])>>>16&255,D=65535&re,!((te=re>>>24)<=i);){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(R&&(240&R)==0){for(fe=te,q=R,H=D;R=(re=g.lencode[H+((e&(1<<fe+q)-1)>>fe)])>>>16&255,D=65535&re,!(fe+(te=re>>>24)<=i);){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}e>>>=fe,i-=fe,g.back+=fe}if(e>>>=te,i-=te,g.back+=te,g.length=D,R===0){g.mode=26;break}if(32&R){g.back=-1,g.mode=F;break}if(64&R){I.msg="invalid literal/length code",g.mode=o;break}g.extra=15&R,g.mode=22;case 22:if(g.extra){for(M=g.extra;i<M;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}g.length+=e&(1<<g.extra)-1,e>>>=g.extra,i-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;R=(re=g.distcode[e&(1<<g.distbits)-1])>>>16&255,D=65535&re,!((te=re>>>24)<=i);){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if((240&R)==0){for(fe=te,q=R,H=D;R=(re=g.distcode[H+((e&(1<<fe+q)-1)>>fe)])>>>16&255,D=65535&re,!(fe+(te=re>>>24)<=i);){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}e>>>=fe,i-=fe,g.back+=fe}if(e>>>=te,i-=te,g.back+=te,64&R){I.msg="invalid distance code",g.mode=o;break}g.offset=D,g.extra=15&R,g.mode=24;case 24:if(g.extra){for(M=g.extra;i<M;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}g.offset+=e&(1<<g.extra)-1,e>>>=g.extra,i-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){I.msg="invalid distance too far back",g.mode=o;break}g.mode=25;case 25:if(n===0)break e;if(p=l-n,g.offset>p){if((p=g.offset-p)>g.whave&&g.sane){I.msg="invalid distance too far back",g.mode=o;break}p>g.wnext?(p-=g.wnext,T=g.wsize-p):T=g.wnext-p,p>g.length&&(p=g.length),X=g.window}else X=C,T=u-g.offset,p=g.length;p>n&&(p=n),n-=p,g.length-=p;do C[u++]=X[T++];while(--p);g.length===0&&(g.mode=21);break;case 26:if(n===0)break e;C[u++]=g.length,n--,g.mode=21;break;case 27:if(g.wrap){for(;i<32;){if(s===0)break e;s--,e|=m[v++]<<i,i+=8}if(l-=n,I.total_out+=l,g.total+=l,l&&(I.adler=g.check=g.flags?f(g.check,C,l,u-l):y(g.check,C,l,u-l)),l=n,(g.flags?e:z(e))!==g.check){I.msg="incorrect data check",g.mode=o;break}e=0,i=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;i<32;){if(s===0)break e;s--,e+=m[v++]<<i,i+=8}if(e!==(4294967295&g.total)){I.msg="incorrect length check",g.mode=o;break}e=0,i=0}g.mode=29;case 29:_=1;break e;case o:_=-3;break e;case 31:return-4;default:return A}return I.next_out=u,I.avail_out=n,I.next_in=v,I.avail_in=s,g.hold=e,g.bits=i,(g.wsize||l!==I.avail_out&&g.mode<o&&(g.mode<27||J!==4))&&ye(I,I.output,I.next_out,l-I.avail_out)?(g.mode=31,-4):(a-=I.avail_in,l-=I.avail_out,I.total_in+=a,I.total_out+=l,g.total+=l,g.wrap&&l&&(I.adler=g.check=g.flags?f(g.check,C,l,I.next_out-l):y(g.check,C,l,I.next_out-l)),I.data_type=g.bits+(g.last?64:0)+(g.mode===F?128:0)+(g.mode===20||g.mode===15?256:0),(a===0&&l===0||J===4)&&_===0&&(_=-5),_)},Q.inflateEnd=function(I){if(!I||!I.state)return A;var J=I.state;return J.window&&(J.window=null),I.state=null,0},Q.inflateGetHeader=function(I,J){var g;return I&&I.state?(2&(g=I.state).wrap)==0?A:(g.head=J,J.done=!1,0):A},Q.inflateSetDictionary=function(I,J){var g,m=J.length;return I&&I.state?(g=I.state).wrap!==0&&g.mode!==11?A:g.mode===11&&y(1,J,m,0)!==g.check?-3:ye(I,J,m,m)?(g.mode=31,-4):(g.havedict=1,0):A},Q.inflateInfo="pako inflate (from Nodeca project)"},6446:function(ge,Q,t){var w=t(9187),y=15,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ge.exports=function(F,o,z,B,G,le,k,se){var pe,Ee,ie,de,ye,I,J,g,m,C=se.bits,v=0,u=0,s=0,n=0,e=0,i=0,a=0,l=0,p=0,T=0,X=null,te=0,R=new w.Buf16(16),D=new w.Buf16(16),fe=null,q=0;for(v=0;v<=y;v++)R[v]=0;for(u=0;u<B;u++)R[o[z+u]]++;for(e=C,n=y;n>=1&&R[n]===0;n--);if(e>n&&(e=n),n===0)return G[le++]=20971520,G[le++]=20971520,se.bits=1,0;for(s=1;s<n&&R[s]===0;s++);for(e<s&&(e=s),l=1,v=1;v<=y;v++)if(l<<=1,(l-=R[v])<0)return-1;if(l>0&&(F===0||n!==1))return-1;for(D[1]=0,v=1;v<y;v++)D[v+1]=D[v]+R[v];for(u=0;u<B;u++)o[z+u]!==0&&(k[D[o[z+u]]++]=u);if(F===0?(X=fe=k,I=19):F===1?(X=f,te-=257,fe=c,q-=257,I=256):(X=j,fe=A,I=-1),T=0,u=0,v=s,ye=le,i=e,a=0,ie=-1,de=(p=1<<e)-1,F===1&&p>852||F===2&&p>592)return 1;for(;;){J=v-a,k[u]<I?(g=0,m=k[u]):k[u]>I?(g=fe[q+k[u]],m=X[te+k[u]]):(g=96,m=0),pe=1<<v-a,s=Ee=1<<i;do G[ye+(T>>a)+(Ee-=pe)]=J<<24|g<<16|m|0;while(Ee!==0);for(pe=1<<v-1;T&pe;)pe>>=1;if(pe!==0?(T&=pe-1,T+=pe):T=0,u++,--R[v]==0){if(v===n)break;v=o[z+k[u]]}if(v>e&&(T&de)!==ie){for(a===0&&(a=e),ye+=s,l=1<<(i=v-a);i+a<n&&!((l-=R[i+a])<=0);)i++,l<<=1;if(p+=1<<i,F===1&&p>852||F===2&&p>592)return 1;G[ie=T&de]=e<<24|i<<16|ye-le|0}}return T!==0&&(G[ye+T]=v-a<<24|4194304|0),se.bits=e,0}},5604:function(ge){ge.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(ge,Q,t){var w=t(9187);function y(D){for(var fe=D.length;--fe>=0;)D[fe]=0}var f=256,c=286,j=30,A=15,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(576);y(G);var le=new Array(60);y(le);var k=new Array(512);y(k);var se=new Array(256);y(se);var pe=new Array(29);y(pe);var Ee,ie,de,ye=new Array(j);function I(D,fe,q,H,h){this.static_tree=D,this.extra_bits=fe,this.extra_base=q,this.elems=H,this.max_length=h,this.has_stree=D&&D.length}function J(D,fe){this.dyn_tree=D,this.max_code=0,this.stat_desc=fe}function g(D){return D<256?k[D]:k[256+(D>>>7)]}function m(D,fe){D.pending_buf[D.pending++]=255&fe,D.pending_buf[D.pending++]=fe>>>8&255}function C(D,fe,q){D.bi_valid>16-q?(D.bi_buf|=fe<<D.bi_valid&65535,m(D,D.bi_buf),D.bi_buf=fe>>16-D.bi_valid,D.bi_valid+=q-16):(D.bi_buf|=fe<<D.bi_valid&65535,D.bi_valid+=q)}function v(D,fe,q){C(D,q[2*fe],q[2*fe+1])}function u(D,fe){var q=0;do q|=1&D,D>>>=1,q<<=1;while(--fe>0);return q>>>1}function s(D,fe,q){var H,h,_=new Array(16),W=0;for(H=1;H<=A;H++)_[H]=W=W+q[H-1]<<1;for(h=0;h<=fe;h++){var M=D[2*h+1];M!==0&&(D[2*h]=u(_[M]++,M))}}function n(D){var fe;for(fe=0;fe<c;fe++)D.dyn_ltree[2*fe]=0;for(fe=0;fe<j;fe++)D.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)D.bl_tree[2*fe]=0;D.dyn_ltree[512]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function e(D){D.bi_valid>8?m(D,D.bi_buf):D.bi_valid>0&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function i(D,fe,q,H){var h=2*fe,_=2*q;return D[h]<D[_]||D[h]===D[_]&&H[fe]<=H[q]}function a(D,fe,q){for(var H=D.heap[q],h=q<<1;h<=D.heap_len&&(h<D.heap_len&&i(fe,D.heap[h+1],D.heap[h],D.depth)&&h++,!i(fe,H,D.heap[h],D.depth));)D.heap[q]=D.heap[h],q=h,h<<=1;D.heap[q]=H}function l(D,fe,q){var H,h,_,W,M=0;if(D.last_lit!==0)do H=D.pending_buf[D.d_buf+2*M]<<8|D.pending_buf[D.d_buf+2*M+1],h=D.pending_buf[D.l_buf+M],M++,H===0?v(D,h,fe):(v(D,(_=se[h])+f+1,fe),(W=F[_])!==0&&C(D,h-=pe[_],W),v(D,_=g(--H),q),(W=o[_])!==0&&C(D,H-=ye[_],W));while(M<D.last_lit);v(D,256,fe)}function p(D,fe){var q,H,h,_=fe.dyn_tree,W=fe.stat_desc.static_tree,M=fe.stat_desc.has_stree,re=fe.stat_desc.elems,O=-1;for(D.heap_len=0,D.heap_max=573,q=0;q<re;q++)_[2*q]!==0?(D.heap[++D.heap_len]=O=q,D.depth[q]=0):_[2*q+1]=0;for(;D.heap_len<2;)_[2*(h=D.heap[++D.heap_len]=O<2?++O:0)]=1,D.depth[h]=0,D.opt_len--,M&&(D.static_len-=W[2*h+1]);for(fe.max_code=O,q=D.heap_len>>1;q>=1;q--)a(D,_,q);h=re;do q=D.heap[1],D.heap[1]=D.heap[D.heap_len--],a(D,_,1),H=D.heap[1],D.heap[--D.heap_max]=q,D.heap[--D.heap_max]=H,_[2*h]=_[2*q]+_[2*H],D.depth[h]=(D.depth[q]>=D.depth[H]?D.depth[q]:D.depth[H])+1,_[2*q+1]=_[2*H+1]=h,D.heap[1]=h++,a(D,_,1);while(D.heap_len>=2);D.heap[--D.heap_max]=D.heap[1],function(S,b){var d,x,P,U,L,ce,ae=b.dyn_tree,ue=b.max_code,Ce=b.stat_desc.static_tree,Pe=b.stat_desc.has_stree,N=b.stat_desc.extra_bits,Y=b.stat_desc.extra_base,$=b.stat_desc.max_length,xe=0;for(U=0;U<=A;U++)S.bl_count[U]=0;for(ae[2*S.heap[S.heap_max]+1]=0,d=S.heap_max+1;d<573;d++)(U=ae[2*ae[2*(x=S.heap[d])+1]+1]+1)>$&&(U=$,xe++),ae[2*x+1]=U,x>ue||(S.bl_count[U]++,L=0,x>=Y&&(L=N[x-Y]),ce=ae[2*x],S.opt_len+=ce*(U+L),Pe&&(S.static_len+=ce*(Ce[2*x+1]+L)));if(xe!==0){do{for(U=$-1;S.bl_count[U]===0;)U--;S.bl_count[U]--,S.bl_count[U+1]+=2,S.bl_count[$]--,xe-=2}while(xe>0);for(U=$;U!==0;U--)for(x=S.bl_count[U];x!==0;)(P=S.heap[--d])>ue||(ae[2*P+1]!==U&&(S.opt_len+=(U-ae[2*P+1])*ae[2*P],ae[2*P+1]=U),x--)}}(D,fe),s(_,O,D.bl_count)}function T(D,fe,q){var H,h,_=-1,W=fe[1],M=0,re=7,O=4;for(W===0&&(re=138,O=3),fe[2*(q+1)+1]=65535,H=0;H<=q;H++)h=W,W=fe[2*(H+1)+1],++M<re&&h===W||(M<O?D.bl_tree[2*h]+=M:h!==0?(h!==_&&D.bl_tree[2*h]++,D.bl_tree[32]++):M<=10?D.bl_tree[34]++:D.bl_tree[36]++,M=0,_=h,W===0?(re=138,O=3):h===W?(re=6,O=3):(re=7,O=4))}function X(D,fe,q){var H,h,_=-1,W=fe[1],M=0,re=7,O=4;for(W===0&&(re=138,O=3),H=0;H<=q;H++)if(h=W,W=fe[2*(H+1)+1],!(++M<re&&h===W)){if(M<O)do v(D,h,D.bl_tree);while(--M!=0);else h!==0?(h!==_&&(v(D,h,D.bl_tree),M--),v(D,16,D.bl_tree),C(D,M-3,2)):M<=10?(v(D,17,D.bl_tree),C(D,M-3,3)):(v(D,18,D.bl_tree),C(D,M-11,7));M=0,_=h,W===0?(re=138,O=3):h===W?(re=6,O=3):(re=7,O=4)}}y(ye);var te=!1;function R(D,fe,q,H){C(D,0+(H?1:0),3),function(h,_,W,M){e(h),m(h,W),m(h,~W),w.arraySet(h.pending_buf,h.window,_,W,h.pending),h.pending+=W}(D,fe,q)}Q._tr_init=function(D){te||(function(){var fe,q,H,h,_,W=new Array(16);for(H=0,h=0;h<28;h++)for(pe[h]=H,fe=0;fe<1<<F[h];fe++)se[H++]=h;for(se[H-1]=h,_=0,h=0;h<16;h++)for(ye[h]=_,fe=0;fe<1<<o[h];fe++)k[_++]=h;for(_>>=7;h<j;h++)for(ye[h]=_<<7,fe=0;fe<1<<o[h]-7;fe++)k[256+_++]=h;for(q=0;q<=A;q++)W[q]=0;for(fe=0;fe<=143;)G[2*fe+1]=8,fe++,W[8]++;for(;fe<=255;)G[2*fe+1]=9,fe++,W[9]++;for(;fe<=279;)G[2*fe+1]=7,fe++,W[7]++;for(;fe<=287;)G[2*fe+1]=8,fe++,W[8]++;for(s(G,287,W),fe=0;fe<j;fe++)le[2*fe+1]=5,le[2*fe]=u(fe,5);Ee=new I(G,F,257,c,A),ie=new I(le,o,0,j,A),de=new I(new Array(0),z,0,19,7)}(),te=!0),D.l_desc=new J(D.dyn_ltree,Ee),D.d_desc=new J(D.dyn_dtree,ie),D.bl_desc=new J(D.bl_tree,de),D.bi_buf=0,D.bi_valid=0,n(D)},Q._tr_stored_block=R,Q._tr_flush_block=function(D,fe,q,H){var h,_,W=0;D.level>0?(D.strm.data_type===2&&(D.strm.data_type=function(M){var re,O=4093624447;for(re=0;re<=31;re++,O>>>=1)if(1&O&&M.dyn_ltree[2*re]!==0)return 0;if(M.dyn_ltree[18]!==0||M.dyn_ltree[20]!==0||M.dyn_ltree[26]!==0)return 1;for(re=32;re<f;re++)if(M.dyn_ltree[2*re]!==0)return 1;return 0}(D)),p(D,D.l_desc),p(D,D.d_desc),W=function(M){var re;for(T(M,M.dyn_ltree,M.l_desc.max_code),T(M,M.dyn_dtree,M.d_desc.max_code),p(M,M.bl_desc),re=18;re>=3&&M.bl_tree[2*B[re]+1]===0;re--);return M.opt_len+=3*(re+1)+5+5+4,re}(D),h=D.opt_len+3+7>>>3,(_=D.static_len+3+7>>>3)<=h&&(h=_)):h=_=q+5,q+4<=h&&fe!==-1?R(D,fe,q,H):D.strategy===4||_===h?(C(D,2+(H?1:0),3),l(D,G,le)):(C(D,4+(H?1:0),3),function(M,re,O,S){var b;for(C(M,re-257,5),C(M,O-1,5),C(M,S-4,4),b=0;b<S;b++)C(M,M.bl_tree[2*B[b]+1],3);X(M,M.dyn_ltree,re-1),X(M,M.dyn_dtree,O-1)}(D,D.l_desc.max_code+1,D.d_desc.max_code+1,W+1),l(D,D.dyn_ltree,D.dyn_dtree)),n(D),H&&e(D)},Q._tr_tally=function(D,fe,q){return D.pending_buf[D.d_buf+2*D.last_lit]=fe>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&fe,D.pending_buf[D.l_buf+D.last_lit]=255&q,D.last_lit++,fe===0?D.dyn_ltree[2*q]++:(D.matches++,fe--,D.dyn_ltree[2*(se[q]+f+1)]++,D.dyn_dtree[2*g(fe)]++),D.last_lit===D.lit_bufsize-1},Q._tr_align=function(D){C(D,2,3),v(D,256,G),function(fe){fe.bi_valid===16?(m(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):fe.bi_valid>=8&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(D)}},249:function(ge){ge.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(ge){ge.exports=function(Q){Q.data&&Q.name&&(Q=Q.data);for(var t=!0,w="",y="",f=0;f<Q.length;f++){var c=Q[f];if(t)c?y+=String.fromCharCode(c):t=!1;else{if(!c)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");w+=String.fromCharCode(c)}}return{keyword:y,text:w}}},9686:function(ge){ge.exports=function(Q,t){if(Q=String(Q),t=String(t),!/^[\x00-\xFF]+$/.test(Q)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(Q.length>=80)throw new Error('Keyword "'+Q+'" is longer than the 79-character limit imposed by the PNG specification');for(var w,y=Q.length+t.length+1,f=new Uint8Array(y),c=0,j=0;j<Q.length;j++){if(!(w=Q.charCodeAt(j)))throw new Error("0x00 character is not permitted in tEXt keywords");f[c++]=w}f[c++]=0;for(var A=0;A<t.length;A++){if(!(w=t.charCodeAt(A)))throw new Error("0x00 character is not permitted in tEXt content");f[c++]=w}return{name:"tEXt",data:f}}},1194:function(ge,Q,t){Q.encode=t(9686),Q.decode=t(9066)},3434:function(ge,Q,t){var w=t(5714),y=t(6233);ge.exports=function(A){var F,o=8,z=o;for(F=0;F<A.length;F++)o+=A[F].data.length,o+=12;var B=new Uint8Array(o);for(B[0]=137,B[1]=80,B[2]=78,B[3]=71,B[4]=13,B[5]=10,B[6]=26,B[7]=10,F=0;F<A.length;F++){var G=A[F],le=G.name,k=G.data,se=k.length,pe=[le.charCodeAt(0),le.charCodeAt(1),le.charCodeAt(2),le.charCodeAt(3)];j[0]=se,B[z++]=f[3],B[z++]=f[2],B[z++]=f[1],B[z++]=f[0],B[z++]=pe[0],B[z++]=pe[1],B[z++]=pe[2],B[z++]=pe[3];for(var Ee=0;Ee<se;)B[z++]=k[Ee++];var ie=pe.concat(w(k)),de=y.buf(ie);c[0]=de,B[z++]=f[3],B[z++]=f[2],B[z++]=f[1],B[z++]=f[0]}return B};var f=new Uint8Array(4),c=new Int32Array(f.buffer),j=new Uint32Array(f.buffer)},2983:function(ge,Q,t){var w=t(6233);ge.exports=function(j){if(j[0]!==137)throw new Error("Invalid .png file header");if(j[1]!==80)throw new Error("Invalid .png file header");if(j[2]!==78)throw new Error("Invalid .png file header");if(j[3]!==71)throw new Error("Invalid .png file header");if(j[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(j[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(j[6]!==26)throw new Error("Invalid .png file header");if(j[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var A=!1,F=[],o=8;o<j.length;){y[3]=j[o++],y[2]=j[o++],y[1]=j[o++],y[0]=j[o++];var z=c[0]+4,B=new Uint8Array(z);B[0]=j[o++],B[1]=j[o++],B[2]=j[o++],B[3]=j[o++];var G=String.fromCharCode(B[0])+String.fromCharCode(B[1])+String.fromCharCode(B[2])+String.fromCharCode(B[3]);if(!F.length&&G!=="IHDR")throw new Error("IHDR header missing");if(G==="IEND"){A=!0,F.push({name:G,data:new Uint8Array(0)});break}for(var le=4;le<z;le++)B[le]=j[o++];y[3]=j[o++],y[2]=j[o++],y[1]=j[o++],y[0]=j[o++];var k=f[0];if(w.buf(B)!==k)throw new Error("CRC values for "+G+" header do not match, PNG file is likely corrupted");var se=new Uint8Array(B.buffer.slice(4));F.push({name:G,data:se})}if(!A)throw new Error(".png file ended prematurely: no IEND header was found");return F};var y=new Uint8Array(4),f=new Int32Array(y.buffer),c=new Uint32Array(y.buffer)},1493:function(ge,Q,t){function w(o,z){return Math.pow(o[0]-z[0],2)+Math.pow(o[1]-z[1],2)}function y(o,z,B){const G=w(z,B);if(G===0)return w(o,z);let le=((o[0]-z[0])*(B[0]-z[0])+(o[1]-z[1])*(B[1]-z[1]))/G;return le=Math.max(0,Math.min(1,le)),w(o,f(z,B,le))}function f(o,z,B){return[o[0]+(z[0]-o[0])*B,o[1]+(z[1]-o[1])*B]}function c(o,z,B,G){const le=G||[];if(function(pe,Ee){const ie=pe[Ee+0],de=pe[Ee+1],ye=pe[Ee+2],I=pe[Ee+3];let J=3*de[0]-2*ie[0]-I[0];J*=J;let g=3*de[1]-2*ie[1]-I[1];g*=g;let m=3*ye[0]-2*I[0]-ie[0];m*=m;let C=3*ye[1]-2*I[1]-ie[1];return C*=C,J<m&&(J=m),g<C&&(g=C),J+g}(o,z)<B){const pe=o[z+0];le.length?(k=le[le.length-1],se=pe,Math.sqrt(w(k,se))>1&&le.push(pe)):le.push(pe),le.push(o[z+3])}else{const Ee=o[z+0],ie=o[z+1],de=o[z+2],ye=o[z+3],I=f(Ee,ie,.5),J=f(ie,de,.5),g=f(de,ye,.5),m=f(I,J,.5),C=f(J,g,.5),v=f(m,C,.5);c([Ee,I,m,v],0,B,le),c([v,C,g,ye],0,B,le)}var k,se;return le}function j(o,z){return A(o,0,o.length,z)}function A(o,z,B,G,le){const k=le||[],se=o[z],pe=o[B-1];let Ee=0,ie=1;for(let de=z+1;de<B-1;++de){const ye=y(o[de],se,pe);ye>Ee&&(Ee=ye,ie=de)}return Math.sqrt(Ee)>G?(A(o,z,ie+1,G,k),A(o,ie,B,G,k)):(k.length||k.push(se),k.push(pe)),k}function F(o,z=.15,B){const G=[],le=(o.length-1)/3;for(let k=0;k<le;k++)c(o,3*k,z,G);return B&&B>0?A(G,0,G.length,B):G}t.d(Q,{o:function(){return j},s:function(){return F}})},6094:function(ge,Q,t){var w=t(9787),y=Symbol.for("react.element"),f=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,j=w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function F(o,z,B){var G,le={},k=null,se=null;for(G in B!==void 0&&(k=""+B),z.key!==void 0&&(k=""+z.key),z.ref!==void 0&&(se=z.ref),z)c.call(z,G)&&!A.hasOwnProperty(G)&&(le[G]=z[G]);if(o&&o.defaultProps)for(G in z=o.defaultProps)le[G]===void 0&&(le[G]=z[G]);return{$$typeof:y,type:o,key:k,ref:se,props:le,_owner:j.current}}Q.Fragment=f,Q.jsx=F,Q.jsxs=F},4512:function(ge,Q,t){ge.exports=t(6094)},8152:function(ge,Q,t){function w(){return Math.floor(Math.random()*2147483648)}t.d(Q,{W:function(){return w},k:function(){return y}});class y{constructor(c){this.seed=c}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(ge,Q,t){function w(O,S,b){if(O&&O.length){const[d,x]=S,P=Math.PI/180*b,U=Math.cos(P),L=Math.sin(P);O.forEach(ce=>{const[ae,ue]=ce;ce[0]=(ae-d)*U-(ue-x)*L+d,ce[1]=(ae-d)*L+(ue-x)*U+x})}}function y(O){const S=O[0],b=O[1];return Math.sqrt(Math.pow(S[0]-b[0],2)+Math.pow(S[1]-b[1],2))}function f(O,S){const b=S.hachureAngle+90;let d=S.hachureGap;d<0&&(d=4*S.strokeWidth),d=Math.max(d,.1);const x=[0,0];if(b)for(const U of O)w(U,x,b);const P=function(U,L){const ce=[];for(const N of U){const Y=[...N];Y[0].join(",")!==Y[Y.length-1].join(",")&&Y.push([Y[0][0],Y[0][1]]),Y.length>2&&ce.push(Y)}const ae=[];L=Math.max(L,.1);const ue=[];for(const N of ce)for(let Y=0;Y<N.length-1;Y++){const $=N[Y],xe=N[Y+1];if($[1]!==xe[1]){const Oe=Math.min($[1],xe[1]);ue.push({ymin:Oe,ymax:Math.max($[1],xe[1]),x:Oe===$[1]?$[0]:xe[0],islope:(xe[0]-$[0])/(xe[1]-$[1])})}}if(ue.sort((N,Y)=>N.ymin<Y.ymin?-1:N.ymin>Y.ymin?1:N.x<Y.x?-1:N.x>Y.x?1:N.ymax===Y.ymax?0:(N.ymax-Y.ymax)/Math.abs(N.ymax-Y.ymax)),!ue.length)return ae;let Ce=[],Pe=ue[0].ymin;for(;Ce.length||ue.length;){if(ue.length){let N=-1;for(let Y=0;Y<ue.length&&!(ue[Y].ymin>Pe);Y++)N=Y;ue.splice(0,N+1).forEach(Y=>{Ce.push({s:Pe,edge:Y})})}if(Ce=Ce.filter(N=>!(N.edge.ymax<=Pe)),Ce.sort((N,Y)=>N.edge.x===Y.edge.x?0:(N.edge.x-Y.edge.x)/Math.abs(N.edge.x-Y.edge.x)),Ce.length>1)for(let N=0;N<Ce.length;N+=2){const Y=N+1;if(Y>=Ce.length)break;const $=Ce[N].edge,xe=Ce[Y].edge;ae.push([[Math.round($.x),Pe],[Math.round(xe.x),Pe]])}Pe+=L,Ce.forEach(N=>{N.edge.x=N.edge.x+L*N.edge.islope})}return ae}(O,d);if(b){for(const U of O)w(U,x,-b);(function(U,L,ce){const ae=[];U.forEach(ue=>ae.push(...ue)),w(ae,L,ce)})(P,x,-b)}return P}t.d(Q,{Z:function(){return re}});class c{constructor(S){this.helper=S}fillPolygons(S,b){return this._fillPolygons(S,b)}_fillPolygons(S,b){const d=f(S,b);return{type:"fillSketch",ops:this.renderLines(d,b)}}renderLines(S,b){const d=[];for(const x of S)d.push(...this.helper.doubleLineOps(x[0][0],x[0][1],x[1][0],x[1][1],b));return d}}class j extends c{fillPolygons(S,b){let d=b.hachureGap;d<0&&(d=4*b.strokeWidth),d=Math.max(d,.1);const x=f(S,Object.assign({},b,{hachureGap:d})),P=Math.PI/180*b.hachureAngle,U=[],L=.5*d*Math.cos(P),ce=.5*d*Math.sin(P);for(const[ae,ue]of x)y([ae,ue])&&U.push([[ae[0]-L,ae[1]+ce],[...ue]],[[ae[0]+L,ae[1]-ce],[...ue]]);return{type:"fillSketch",ops:this.renderLines(U,b)}}}class A extends c{fillPolygons(S,b){const d=this._fillPolygons(S,b),x=Object.assign({},b,{hachureAngle:b.hachureAngle+90}),P=this._fillPolygons(S,x);return d.ops=d.ops.concat(P.ops),d}}class F{constructor(S){this.helper=S}fillPolygons(S,b){const d=f(S,b=Object.assign({},b,{hachureAngle:0}));return this.dotsOnLines(d,b)}dotsOnLines(S,b){const d=[];let x=b.hachureGap;x<0&&(x=4*b.strokeWidth),x=Math.max(x,.1);let P=b.fillWeight;P<0&&(P=b.strokeWidth/2);const U=x/4;for(const L of S){const ce=y(L),ae=ce/x,ue=Math.ceil(ae)-1,Ce=ce-ue*x,Pe=(L[0][0]+L[1][0])/2-x/4,N=Math.min(L[0][1],L[1][1]);for(let Y=0;Y<ue;Y++){const $=N+Ce+Y*x,xe=Pe-U+2*Math.random()*U,Oe=$-U+2*Math.random()*U,Ze=this.helper.ellipse(xe,Oe,P,P,b);d.push(...Ze.ops)}}return{type:"fillSketch",ops:d}}}class o{constructor(S){this.helper=S}fillPolygons(S,b){const d=f(S,b);return{type:"fillSketch",ops:this.dashedLine(d,b)}}dashedLine(S,b){const d=b.dashOffset<0?b.hachureGap<0?4*b.strokeWidth:b.hachureGap:b.dashOffset,x=b.dashGap<0?b.hachureGap<0?4*b.strokeWidth:b.hachureGap:b.dashGap,P=[];return S.forEach(U=>{const L=y(U),ce=Math.floor(L/(d+x)),ae=(L+x-ce*(d+x))/2;let ue=U[0],Ce=U[1];ue[0]>Ce[0]&&(ue=U[1],Ce=U[0]);const Pe=Math.atan((Ce[1]-ue[1])/(Ce[0]-ue[0]));for(let N=0;N<ce;N++){const Y=N*(d+x),$=Y+d,xe=[ue[0]+Y*Math.cos(Pe)+ae*Math.cos(Pe),ue[1]+Y*Math.sin(Pe)+ae*Math.sin(Pe)],Oe=[ue[0]+$*Math.cos(Pe)+ae*Math.cos(Pe),ue[1]+$*Math.sin(Pe)+ae*Math.sin(Pe)];P.push(...this.helper.doubleLineOps(xe[0],xe[1],Oe[0],Oe[1],b))}}),P}}class z{constructor(S){this.helper=S}fillPolygons(S,b){const d=b.hachureGap<0?4*b.strokeWidth:b.hachureGap,x=b.zigzagOffset<0?d:b.zigzagOffset,P=f(S,b=Object.assign({},b,{hachureGap:d+x}));return{type:"fillSketch",ops:this.zigzagLines(P,x,b)}}zigzagLines(S,b,d){const x=[];return S.forEach(P=>{const U=y(P),L=Math.round(U/(2*b));let ce=P[0],ae=P[1];ce[0]>ae[0]&&(ce=P[1],ae=P[0]);const ue=Math.atan((ae[1]-ce[1])/(ae[0]-ce[0]));for(let Ce=0;Ce<L;Ce++){const Pe=2*Ce*b,N=2*(Ce+1)*b,Y=Math.sqrt(2*Math.pow(b,2)),$=[ce[0]+Pe*Math.cos(ue),ce[1]+Pe*Math.sin(ue)],xe=[ce[0]+N*Math.cos(ue),ce[1]+N*Math.sin(ue)],Oe=[$[0]+Y*Math.cos(ue+Math.PI/4),$[1]+Y*Math.sin(ue+Math.PI/4)];x.push(...this.helper.doubleLineOps($[0],$[1],Oe[0],Oe[1],d),...this.helper.doubleLineOps(Oe[0],Oe[1],xe[0],xe[1],d))}}),x}}const B={};var G=t(8152);const le={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(O,S){return O.type===S}function se(O){const S=[],b=function(U){const L=new Array;for(;U!=="";)if(U.match(/^([ \t\r\n,]+)/))U=U.substr(RegExp.$1.length);else if(U.match(/^([aAcChHlLmMqQsStTvVzZ])/))L[L.length]={type:0,text:RegExp.$1},U=U.substr(RegExp.$1.length);else{if(!U.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];L[L.length]={type:1,text:`${parseFloat(RegExp.$1)}`},U=U.substr(RegExp.$1.length)}return L[L.length]={type:2,text:""},L}(O);let d="BOD",x=0,P=b[x];for(;!k(P,2);){let U=0;const L=[];if(d==="BOD"){if(P.text!=="M"&&P.text!=="m")return se("M0,0"+O);x++,U=le[P.text],d=P.text}else k(P,1)?U=le[d]:(x++,U=le[P.text],d=P.text);if(!(x+U<b.length))throw new Error("Path data ended short");for(let ce=x;ce<x+U;ce++){const ae=b[ce];if(!k(ae,1))throw new Error("Param not a number: "+d+","+ae.text);L[L.length]=+ae.text}if(typeof le[d]!="number")throw new Error("Bad segment: "+d);{const ce={key:d,data:L};S.push(ce),x+=U,P=b[x],d==="M"&&(d="L"),d==="m"&&(d="l")}}return S}function pe(O){let S=0,b=0,d=0,x=0;const P=[];for(const{key:U,data:L}of O)switch(U){case"M":P.push({key:"M",data:[...L]}),[S,b]=L,[d,x]=L;break;case"m":S+=L[0],b+=L[1],P.push({key:"M",data:[S,b]}),d=S,x=b;break;case"L":P.push({key:"L",data:[...L]}),[S,b]=L;break;case"l":S+=L[0],b+=L[1],P.push({key:"L",data:[S,b]});break;case"C":P.push({key:"C",data:[...L]}),S=L[4],b=L[5];break;case"c":{const ce=L.map((ae,ue)=>ue%2?ae+b:ae+S);P.push({key:"C",data:ce}),S=ce[4],b=ce[5];break}case"Q":P.push({key:"Q",data:[...L]}),S=L[2],b=L[3];break;case"q":{const ce=L.map((ae,ue)=>ue%2?ae+b:ae+S);P.push({key:"Q",data:ce}),S=ce[2],b=ce[3];break}case"A":P.push({key:"A",data:[...L]}),S=L[5],b=L[6];break;case"a":S+=L[5],b+=L[6],P.push({key:"A",data:[L[0],L[1],L[2],L[3],L[4],S,b]});break;case"H":P.push({key:"H",data:[...L]}),S=L[0];break;case"h":S+=L[0],P.push({key:"H",data:[S]});break;case"V":P.push({key:"V",data:[...L]}),b=L[0];break;case"v":b+=L[0],P.push({key:"V",data:[b]});break;case"S":P.push({key:"S",data:[...L]}),S=L[2],b=L[3];break;case"s":{const ce=L.map((ae,ue)=>ue%2?ae+b:ae+S);P.push({key:"S",data:ce}),S=ce[2],b=ce[3];break}case"T":P.push({key:"T",data:[...L]}),S=L[0],b=L[1];break;case"t":S+=L[0],b+=L[1],P.push({key:"T",data:[S,b]});break;case"Z":case"z":P.push({key:"Z",data:[]}),S=d,b=x}return P}function Ee(O){const S=[];let b="",d=0,x=0,P=0,U=0,L=0,ce=0;for(const{key:ae,data:ue}of O){switch(ae){case"M":S.push({key:"M",data:[...ue]}),[d,x]=ue,[P,U]=ue;break;case"C":S.push({key:"C",data:[...ue]}),d=ue[4],x=ue[5],L=ue[2],ce=ue[3];break;case"L":S.push({key:"L",data:[...ue]}),[d,x]=ue;break;case"H":d=ue[0],S.push({key:"L",data:[d,x]});break;case"V":x=ue[0],S.push({key:"L",data:[d,x]});break;case"S":{let Ce=0,Pe=0;b==="C"||b==="S"?(Ce=d+(d-L),Pe=x+(x-ce)):(Ce=d,Pe=x),S.push({key:"C",data:[Ce,Pe,...ue]}),L=ue[0],ce=ue[1],d=ue[2],x=ue[3];break}case"T":{const[Ce,Pe]=ue;let N=0,Y=0;b==="Q"||b==="T"?(N=d+(d-L),Y=x+(x-ce)):(N=d,Y=x);const $=d+2*(N-d)/3,xe=x+2*(Y-x)/3,Oe=Ce+2*(N-Ce)/3,Ze=Pe+2*(Y-Pe)/3;S.push({key:"C",data:[$,xe,Oe,Ze,Ce,Pe]}),L=N,ce=Y,d=Ce,x=Pe;break}case"Q":{const[Ce,Pe,N,Y]=ue,$=d+2*(Ce-d)/3,xe=x+2*(Pe-x)/3,Oe=N+2*(Ce-N)/3,Ze=Y+2*(Pe-Y)/3;S.push({key:"C",data:[$,xe,Oe,Ze,N,Y]}),L=Ce,ce=Pe,d=N,x=Y;break}case"A":{const Ce=Math.abs(ue[0]),Pe=Math.abs(ue[1]),N=ue[2],Y=ue[3],$=ue[4],xe=ue[5],Oe=ue[6];Ce===0||Pe===0?(S.push({key:"C",data:[d,x,xe,Oe,xe,Oe]}),d=xe,x=Oe):(d!==xe||x!==Oe)&&(de(d,x,xe,Oe,Ce,Pe,N,Y,$).forEach(function(Ze){S.push({key:"C",data:Ze})}),d=xe,x=Oe);break}case"Z":S.push({key:"Z",data:[]}),d=P,x=U}b=ae}return S}function ie(O,S,b){return[O*Math.cos(b)-S*Math.sin(b),O*Math.sin(b)+S*Math.cos(b)]}function de(O,S,b,d,x,P,U,L,ce,ae){const ue=(Ce=U,Math.PI*Ce/180);var Ce;let Pe=[],N=0,Y=0,$=0,xe=0;if(ae)[N,Y,$,xe]=ae;else{[O,S]=ie(O,S,-ue),[b,d]=ie(b,d,-ue);const Te=(O-b)/2,ze=(S-d)/2;let We=Te*Te/(x*x)+ze*ze/(P*P);We>1&&(We=Math.sqrt(We),x*=We,P*=We);const He=x*x,Ye=P*P,et=He*Ye-He*ze*ze-Ye*Te*Te,it=He*ze*ze+Ye*Te*Te,$e=(L===ce?-1:1)*Math.sqrt(Math.abs(et/it));$=$e*x*ze/P+(O+b)/2,xe=$e*-P*Te/x+(S+d)/2,N=Math.asin(parseFloat(((S-xe)/P).toFixed(9))),Y=Math.asin(parseFloat(((d-xe)/P).toFixed(9))),O<$&&(N=Math.PI-N),b<$&&(Y=Math.PI-Y),N<0&&(N=2*Math.PI+N),Y<0&&(Y=2*Math.PI+Y),ce&&N>Y&&(N-=2*Math.PI),!ce&&Y>N&&(Y-=2*Math.PI)}let Oe=Y-N;if(Math.abs(Oe)>120*Math.PI/180){const Te=Y,ze=b,We=d;Y=ce&&Y>N?N+120*Math.PI/180*1:N+120*Math.PI/180*-1,Pe=de(b=$+x*Math.cos(Y),d=xe+P*Math.sin(Y),ze,We,x,P,U,0,ce,[Y,Te,$,xe])}Oe=Y-N;const Ze=Math.cos(N),Fe=Math.sin(N),Je=Math.cos(Y),Ke=Math.sin(Y),Be=Math.tan(Oe/4),Le=4/3*x*Be,ne=4/3*P*Be,me=[O,S],ve=[O+Le*Fe,S-ne*Ze],we=[b+Le*Ke,d-ne*Je],Me=[b,d];if(ve[0]=2*me[0]-ve[0],ve[1]=2*me[1]-ve[1],ae)return[ve,we,Me].concat(Pe);{Pe=[ve,we,Me].concat(Pe);const Te=[];for(let ze=0;ze<Pe.length;ze+=3){const We=ie(Pe[ze][0],Pe[ze][1],ue),He=ie(Pe[ze+1][0],Pe[ze+1][1],ue),Ye=ie(Pe[ze+2][0],Pe[ze+2][1],ue);Te.push([We[0],We[1],He[0],He[1],Ye[0],Ye[1]])}return Te}}const ye={randOffset:function(O,S){return a(O,S)},randOffsetWithRange:function(O,S,b){return i(O,S,b)},ellipse:function(O,S,b,d,x){const P=C(b,d,x);return v(O,S,x,P).opset},doubleLineOps:function(O,S,b,d,x){return l(O,S,b,d,x,!0)}};function I(O,S,b,d,x){return{type:"path",ops:l(O,S,b,d,x)}}function J(O,S,b){const d=(O||[]).length;if(d>2){const x=[];for(let P=0;P<d-1;P++)x.push(...l(O[P][0],O[P][1],O[P+1][0],O[P+1][1],b));return S&&x.push(...l(O[d-1][0],O[d-1][1],O[0][0],O[0][1],b)),{type:"path",ops:x}}return d===2?I(O[0][0],O[0][1],O[1][0],O[1][1],b):{type:"path",ops:[]}}function g(O,S,b,d,x){return function(P,U){return J(P,!0,U)}([[O,S],[O+b,S],[O+b,S+d],[O,S+d]],x)}function m(O,S){let b=T(O,1*(1+.2*S.roughness),S);if(!S.disableMultiStroke){const d=T(O,1.5*(1+.22*S.roughness),function(x){const P=Object.assign({},x);return P.randomizer=void 0,x.seed&&(P.seed=x.seed+1),P}(S));b=b.concat(d)}return{type:"path",ops:b}}function C(O,S,b){const d=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(O/2,2)+Math.pow(S/2,2))/2)),x=Math.ceil(Math.max(b.curveStepCount,b.curveStepCount/Math.sqrt(200)*d)),P=2*Math.PI/x;let U=Math.abs(O/2),L=Math.abs(S/2);const ce=1-b.curveFitting;return U+=a(U*ce,b),L+=a(L*ce,b),{increment:P,rx:U,ry:L}}function v(O,S,b,d){const[x,P]=te(d.increment,O,S,d.rx,d.ry,1,d.increment*i(.1,i(.4,1,b),b),b);let U=X(x,null,b);if(!b.disableMultiStroke&&b.roughness!==0){const[L]=te(d.increment,O,S,d.rx,d.ry,1.5,0,b),ce=X(L,null,b);U=U.concat(ce)}return{estimatedPoints:P,opset:{type:"path",ops:U}}}function u(O,S,b,d,x,P,U,L,ce){const ae=O,ue=S;let Ce=Math.abs(b/2),Pe=Math.abs(d/2);Ce+=a(.01*Ce,ce),Pe+=a(.01*Pe,ce);let N=x,Y=P;for(;N<0;)N+=2*Math.PI,Y+=2*Math.PI;Y-N>2*Math.PI&&(N=0,Y=2*Math.PI);const $=2*Math.PI/ce.curveStepCount,xe=Math.min($/2,(Y-N)/2),Oe=R(xe,ae,ue,Ce,Pe,N,Y,1,ce);if(!ce.disableMultiStroke){const Ze=R(xe,ae,ue,Ce,Pe,N,Y,1.5,ce);Oe.push(...Ze)}return U&&(L?Oe.push(...l(ae,ue,ae+Ce*Math.cos(N),ue+Pe*Math.sin(N),ce),...l(ae,ue,ae+Ce*Math.cos(Y),ue+Pe*Math.sin(Y),ce)):Oe.push({op:"lineTo",data:[ae,ue]},{op:"lineTo",data:[ae+Ce*Math.cos(N),ue+Pe*Math.sin(N)]})),{type:"path",ops:Oe}}function s(O,S){const b=[];for(const d of O)if(d.length){const x=S.maxRandomnessOffset||0,P=d.length;if(P>2){b.push({op:"move",data:[d[0][0]+a(x,S),d[0][1]+a(x,S)]});for(let U=1;U<P;U++)b.push({op:"lineTo",data:[d[U][0]+a(x,S),d[U][1]+a(x,S)]})}}return{type:"fillPath",ops:b}}function n(O,S){return function(b,d){let x=b.fillStyle||"hachure";if(!B[x])switch(x){case"zigzag":B[x]||(B[x]=new j(d));break;case"cross-hatch":B[x]||(B[x]=new A(d));break;case"dots":B[x]||(B[x]=new F(d));break;case"dashed":B[x]||(B[x]=new o(d));break;case"zigzag-line":B[x]||(B[x]=new z(d));break;default:x="hachure",B[x]||(B[x]=new c(d))}return B[x]}(S,ye).fillPolygons(O,S)}function e(O){return O.randomizer||(O.randomizer=new G.k(O.seed||0)),O.randomizer.next()}function i(O,S,b,d=1){return b.roughness*d*(e(b)*(S-O)+O)}function a(O,S,b=1){return i(-O,O,S,b)}function l(O,S,b,d,x,P=!1){const U=P?x.disableMultiStrokeFill:x.disableMultiStroke,L=p(O,S,b,d,x,!0,!1);if(U)return L;const ce=p(O,S,b,d,x,!0,!0);return L.concat(ce)}function p(O,S,b,d,x,P,U){const L=Math.pow(O-b,2)+Math.pow(S-d,2),ce=Math.sqrt(L);let ae=1;ae=ce<200?1:ce>500?.4:-.0016668*ce+1.233334;let ue=x.maxRandomnessOffset||0;ue*ue*100>L&&(ue=ce/10);const Ce=ue/2,Pe=.2+.2*e(x);let N=x.bowing*x.maxRandomnessOffset*(d-S)/200,Y=x.bowing*x.maxRandomnessOffset*(O-b)/200;N=a(N,x,ae),Y=a(Y,x,ae);const $=[],xe=()=>a(Ce,x,ae),Oe=()=>a(ue,x,ae),Ze=x.preserveVertices;return U?$.push({op:"move",data:[O+(Ze?0:xe()),S+(Ze?0:xe())]}):$.push({op:"move",data:[O+(Ze?0:a(ue,x,ae)),S+(Ze?0:a(ue,x,ae))]}),U?$.push({op:"bcurveTo",data:[N+O+(b-O)*Pe+xe(),Y+S+(d-S)*Pe+xe(),N+O+2*(b-O)*Pe+xe(),Y+S+2*(d-S)*Pe+xe(),b+(Ze?0:xe()),d+(Ze?0:xe())]}):$.push({op:"bcurveTo",data:[N+O+(b-O)*Pe+Oe(),Y+S+(d-S)*Pe+Oe(),N+O+2*(b-O)*Pe+Oe(),Y+S+2*(d-S)*Pe+Oe(),b+(Ze?0:Oe()),d+(Ze?0:Oe())]}),$}function T(O,S,b){const d=[];d.push([O[0][0]+a(S,b),O[0][1]+a(S,b)]),d.push([O[0][0]+a(S,b),O[0][1]+a(S,b)]);for(let x=1;x<O.length;x++)d.push([O[x][0]+a(S,b),O[x][1]+a(S,b)]),x===O.length-1&&d.push([O[x][0]+a(S,b),O[x][1]+a(S,b)]);return X(d,null,b)}function X(O,S,b){const d=O.length,x=[];if(d>3){const P=[],U=1-b.curveTightness;x.push({op:"move",data:[O[1][0],O[1][1]]});for(let L=1;L+2<d;L++){const ce=O[L];P[0]=[ce[0],ce[1]],P[1]=[ce[0]+(U*O[L+1][0]-U*O[L-1][0])/6,ce[1]+(U*O[L+1][1]-U*O[L-1][1])/6],P[2]=[O[L+1][0]+(U*O[L][0]-U*O[L+2][0])/6,O[L+1][1]+(U*O[L][1]-U*O[L+2][1])/6],P[3]=[O[L+1][0],O[L+1][1]],x.push({op:"bcurveTo",data:[P[1][0],P[1][1],P[2][0],P[2][1],P[3][0],P[3][1]]})}}else d===3?(x.push({op:"move",data:[O[1][0],O[1][1]]}),x.push({op:"bcurveTo",data:[O[1][0],O[1][1],O[2][0],O[2][1],O[2][0],O[2][1]]})):d===2&&x.push(...l(O[0][0],O[0][1],O[1][0],O[1][1],b));return x}function te(O,S,b,d,x,P,U,L){const ce=[],ae=[];if(L.roughness===0){O/=4,ae.push([S+d*Math.cos(-O),b+x*Math.sin(-O)]);for(let ue=0;ue<=2*Math.PI;ue+=O){const Ce=[S+d*Math.cos(ue),b+x*Math.sin(ue)];ce.push(Ce),ae.push(Ce)}ae.push([S+d*Math.cos(0),b+x*Math.sin(0)]),ae.push([S+d*Math.cos(O),b+x*Math.sin(O)])}else{const ue=a(.5,L)-Math.PI/2;ae.push([a(P,L)+S+.9*d*Math.cos(ue-O),a(P,L)+b+.9*x*Math.sin(ue-O)]);const Ce=2*Math.PI+ue-.01;for(let Pe=ue;Pe<Ce;Pe+=O){const N=[a(P,L)+S+d*Math.cos(Pe),a(P,L)+b+x*Math.sin(Pe)];ce.push(N),ae.push(N)}ae.push([a(P,L)+S+d*Math.cos(ue+2*Math.PI+.5*U),a(P,L)+b+x*Math.sin(ue+2*Math.PI+.5*U)]),ae.push([a(P,L)+S+.98*d*Math.cos(ue+U),a(P,L)+b+.98*x*Math.sin(ue+U)]),ae.push([a(P,L)+S+.9*d*Math.cos(ue+.5*U),a(P,L)+b+.9*x*Math.sin(ue+.5*U)])}return[ae,ce]}function R(O,S,b,d,x,P,U,L,ce){const ae=P+a(.1,ce),ue=[];ue.push([a(L,ce)+S+.9*d*Math.cos(ae-O),a(L,ce)+b+.9*x*Math.sin(ae-O)]);for(let Ce=ae;Ce<=U;Ce+=O)ue.push([a(L,ce)+S+d*Math.cos(Ce),a(L,ce)+b+x*Math.sin(Ce)]);return ue.push([S+d*Math.cos(U),b+x*Math.sin(U)]),ue.push([S+d*Math.cos(U),b+x*Math.sin(U)]),X(ue,null,ce)}function D(O,S,b,d,x,P,U,L){const ce=[],ae=[L.maxRandomnessOffset||1,(L.maxRandomnessOffset||1)+.3];let ue=[0,0];const Ce=L.disableMultiStroke?1:2,Pe=L.preserveVertices;for(let N=0;N<Ce;N++)N===0?ce.push({op:"move",data:[U[0],U[1]]}):ce.push({op:"move",data:[U[0]+(Pe?0:a(ae[0],L)),U[1]+(Pe?0:a(ae[0],L))]}),ue=Pe?[x,P]:[x+a(ae[N],L),P+a(ae[N],L)],ce.push({op:"bcurveTo",data:[O+a(ae[N],L),S+a(ae[N],L),b+a(ae[N],L),d+a(ae[N],L),ue[0],ue[1]]});return ce}function fe(O){return[...O]}var q=t(1493);const H="none";class h{constructor(S){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=S||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,G.W)()}_o(S){return S?Object.assign({},this.defaultOptions,S):this.defaultOptions}_d(S,b,d){return{shape:S,sets:b||[],options:d||this.defaultOptions}}line(S,b,d,x,P){const U=this._o(P);return this._d("line",[I(S,b,d,x,U)],U)}rectangle(S,b,d,x,P){const U=this._o(P),L=[],ce=g(S,b,d,x,U);if(U.fill){const ae=[[S,b],[S+d,b],[S+d,b+x],[S,b+x]];U.fillStyle==="solid"?L.push(s([ae],U)):L.push(n([ae],U))}return U.stroke!==H&&L.push(ce),this._d("rectangle",L,U)}ellipse(S,b,d,x,P){const U=this._o(P),L=[],ce=C(d,x,U),ae=v(S,b,U,ce);if(U.fill)if(U.fillStyle==="solid"){const ue=v(S,b,U,ce).opset;ue.type="fillPath",L.push(ue)}else L.push(n([ae.estimatedPoints],U));return U.stroke!==H&&L.push(ae.opset),this._d("ellipse",L,U)}circle(S,b,d,x){const P=this.ellipse(S,b,d,d,x);return P.shape="circle",P}linearPath(S,b){const d=this._o(b);return this._d("linearPath",[J(S,!1,d)],d)}arc(S,b,d,x,P,U,L=!1,ce){const ae=this._o(ce),ue=[],Ce=u(S,b,d,x,P,U,L,!0,ae);if(L&&ae.fill)if(ae.fillStyle==="solid"){const Pe=Object.assign({},ae);Pe.disableMultiStroke=!0;const N=u(S,b,d,x,P,U,!0,!1,Pe);N.type="fillPath",ue.push(N)}else ue.push(function(Pe,N,Y,$,xe,Oe,Ze){const Fe=Pe,Je=N;let Ke=Math.abs(Y/2),Be=Math.abs($/2);Ke+=a(.01*Ke,Ze),Be+=a(.01*Be,Ze);let Le=xe,ne=Oe;for(;Le<0;)Le+=2*Math.PI,ne+=2*Math.PI;ne-Le>2*Math.PI&&(Le=0,ne=2*Math.PI);const me=(ne-Le)/Ze.curveStepCount,ve=[];for(let we=Le;we<=ne;we+=me)ve.push([Fe+Ke*Math.cos(we),Je+Be*Math.sin(we)]);return ve.push([Fe+Ke*Math.cos(ne),Je+Be*Math.sin(ne)]),ve.push([Fe,Je]),n([ve],Ze)}(S,b,d,x,P,U,ae));return ae.stroke!==H&&ue.push(Ce),this._d("arc",ue,ae)}curve(S,b){const d=this._o(b),x=[],P=m(S,d);if(d.fill&&d.fill!==H&&S.length>=3){const U=function(ce,ae=0){const ue=ce.length;if(ue<3)throw new Error("A curve must have at least three points.");const Ce=[];if(ue===3)Ce.push(fe(ce[0]),fe(ce[1]),fe(ce[2]),fe(ce[2]));else{const Pe=[];Pe.push(ce[0],ce[0]);for(let $=1;$<ce.length;$++)Pe.push(ce[$]),$===ce.length-1&&Pe.push(ce[$]);const N=[],Y=1-ae;Ce.push(fe(Pe[0]));for(let $=1;$+2<Pe.length;$++){const xe=Pe[$];N[0]=[xe[0],xe[1]],N[1]=[xe[0]+(Y*Pe[$+1][0]-Y*Pe[$-1][0])/6,xe[1]+(Y*Pe[$+1][1]-Y*Pe[$-1][1])/6],N[2]=[Pe[$+1][0]+(Y*Pe[$][0]-Y*Pe[$+2][0])/6,Pe[$+1][1]+(Y*Pe[$][1]-Y*Pe[$+2][1])/6],N[3]=[Pe[$+1][0],Pe[$+1][1]],Ce.push(N[1],N[2],N[3])}}return Ce}(S),L=(0,q.s)(U,10,(1+d.roughness)/2);d.fillStyle==="solid"?x.push(s([L],d)):x.push(n([L],d))}return d.stroke!==H&&x.push(P),this._d("curve",x,d)}polygon(S,b){const d=this._o(b),x=[],P=J(S,!0,d);return d.fill&&(d.fillStyle==="solid"?x.push(s([S],d)):x.push(n([S],d))),d.stroke!==H&&x.push(P),this._d("polygon",x,d)}path(S,b){const d=this._o(b),x=[];if(!S)return this._d("path",x,d);S=(S||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const P=d.fill&&d.fill!=="transparent"&&d.fill!==H,U=d.stroke!==H,L=!!(d.simplification&&d.simplification<1),ce=function(ae,ue,Ce){const Pe=Ee(pe(se(ae))),N=[];let Y=[],$=[0,0],xe=[];const Oe=()=>{xe.length>=4&&Y.push(...(0,q.s)(xe,ue)),xe=[]},Ze=()=>{Oe(),Y.length&&(N.push(Y),Y=[])};for(const{key:Je,data:Ke}of Pe)switch(Je){case"M":Ze(),$=[Ke[0],Ke[1]],Y.push($);break;case"L":Oe(),Y.push([Ke[0],Ke[1]]);break;case"C":if(!xe.length){const Be=Y.length?Y[Y.length-1]:$;xe.push([Be[0],Be[1]])}xe.push([Ke[0],Ke[1]]),xe.push([Ke[2],Ke[3]]),xe.push([Ke[4],Ke[5]]);break;case"Z":Oe(),Y.push([$[0],$[1]])}if(Ze(),!Ce)return N;const Fe=[];for(const Je of N){const Ke=(0,q.o)(Je,Ce);Ke.length&&Fe.push(Ke)}return Fe}(S,1,L?4-4*d.simplification:(1+d.roughness)/2);return P&&(d.fillStyle==="solid"?x.push(s(ce,d)):x.push(n(ce,d))),U&&(L?ce.forEach(ae=>{x.push(J(ae,!1,d))}):x.push(function(ae,ue){const Ce=Ee(pe(se(ae))),Pe=[];let N=[0,0],Y=[0,0];for(const{key:$,data:xe}of Ce)switch($){case"M":{const Oe=1*(ue.maxRandomnessOffset||0),Ze=ue.preserveVertices;Pe.push({op:"move",data:xe.map(Fe=>Fe+(Ze?0:a(Oe,ue)))}),Y=[xe[0],xe[1]],N=[xe[0],xe[1]];break}case"L":Pe.push(...l(Y[0],Y[1],xe[0],xe[1],ue)),Y=[xe[0],xe[1]];break;case"C":{const[Oe,Ze,Fe,Je,Ke,Be]=xe;Pe.push(...D(Oe,Ze,Fe,Je,Ke,Be,Y,ue)),Y=[Ke,Be];break}case"Z":Pe.push(...l(Y[0],Y[1],N[0],N[1],ue)),Y=[N[0],N[1]]}return{type:"path",ops:Pe}}(S,d))),this._d("path",x,d)}opsToPath(S,b){let d="";for(const x of S.ops){const P=typeof b=="number"&&b>=0?x.data.map(U=>+U.toFixed(b)):x.data;switch(x.op){case"move":d+=`M${P[0]} ${P[1]} `;break;case"bcurveTo":d+=`C${P[0]} ${P[1]}, ${P[2]} ${P[3]}, ${P[4]} ${P[5]} `;break;case"lineTo":d+=`L${P[0]} ${P[1]} `}}return d.trim()}toPaths(S){const b=S.sets||[],d=S.options||this.defaultOptions,x=[];for(const P of b){let U=null;switch(P.type){case"path":U={d:this.opsToPath(P),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:H};break;case"fillPath":U={d:this.opsToPath(P),stroke:H,strokeWidth:0,fill:d.fill||H};break;case"fillSketch":U=this.fillSketch(P,d)}U&&x.push(U)}return x}fillSketch(S,b){let d=b.fillWeight;return d<0&&(d=b.strokeWidth/2),{d:this.opsToPath(S),stroke:b.fill||H,strokeWidth:d,fill:H}}}class _{constructor(S,b){this.canvas=S,this.ctx=this.canvas.getContext("2d"),this.gen=new h(b)}draw(S){const b=S.sets||[],d=S.options||this.getDefaultOptions(),x=this.ctx,P=S.options.fixedDecimalPlaceDigits;for(const U of b)switch(U.type){case"path":x.save(),x.strokeStyle=d.stroke==="none"?"transparent":d.stroke,x.lineWidth=d.strokeWidth,d.strokeLineDash&&x.setLineDash(d.strokeLineDash),d.strokeLineDashOffset&&(x.lineDashOffset=d.strokeLineDashOffset),this._drawToContext(x,U,P),x.restore();break;case"fillPath":{x.save(),x.fillStyle=d.fill||"";const L=S.shape==="curve"||S.shape==="polygon"||S.shape==="path"?"evenodd":"nonzero";this._drawToContext(x,U,P,L),x.restore();break}case"fillSketch":this.fillSketch(x,U,d)}}fillSketch(S,b,d){let x=d.fillWeight;x<0&&(x=d.strokeWidth/2),S.save(),d.fillLineDash&&S.setLineDash(d.fillLineDash),d.fillLineDashOffset&&(S.lineDashOffset=d.fillLineDashOffset),S.strokeStyle=d.fill||"",S.lineWidth=x,this._drawToContext(S,b,d.fixedDecimalPlaceDigits),S.restore()}_drawToContext(S,b,d,x="nonzero"){S.beginPath();for(const P of b.ops){const U=typeof d=="number"&&d>=0?P.data.map(L=>+L.toFixed(d)):P.data;switch(P.op){case"move":S.moveTo(U[0],U[1]);break;case"bcurveTo":S.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5]);break;case"lineTo":S.lineTo(U[0],U[1])}}b.type==="fillPath"?S.fill(x):S.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(S,b,d,x,P){const U=this.gen.line(S,b,d,x,P);return this.draw(U),U}rectangle(S,b,d,x,P){const U=this.gen.rectangle(S,b,d,x,P);return this.draw(U),U}ellipse(S,b,d,x,P){const U=this.gen.ellipse(S,b,d,x,P);return this.draw(U),U}circle(S,b,d,x){const P=this.gen.circle(S,b,d,x);return this.draw(P),P}linearPath(S,b){const d=this.gen.linearPath(S,b);return this.draw(d),d}polygon(S,b){const d=this.gen.polygon(S,b);return this.draw(d),d}arc(S,b,d,x,P,U,L=!1,ce){const ae=this.gen.arc(S,b,d,x,P,U,L,ce);return this.draw(ae),ae}curve(S,b){const d=this.gen.curve(S,b);return this.draw(d),d}path(S,b){const d=this.gen.path(S,b);return this.draw(d),d}}const W="http://www.w3.org/2000/svg";class M{constructor(S,b){this.svg=S,this.gen=new h(b)}draw(S){const b=S.sets||[],d=S.options||this.getDefaultOptions(),x=this.svg.ownerDocument||window.document,P=x.createElementNS(W,"g"),U=S.options.fixedDecimalPlaceDigits;for(const L of b){let ce=null;switch(L.type){case"path":ce=x.createElementNS(W,"path"),ce.setAttribute("d",this.opsToPath(L,U)),ce.setAttribute("stroke",d.stroke),ce.setAttribute("stroke-width",d.strokeWidth+""),ce.setAttribute("fill","none"),d.strokeLineDash&&ce.setAttribute("stroke-dasharray",d.strokeLineDash.join(" ").trim()),d.strokeLineDashOffset&&ce.setAttribute("stroke-dashoffset",`${d.strokeLineDashOffset}`);break;case"fillPath":ce=x.createElementNS(W,"path"),ce.setAttribute("d",this.opsToPath(L,U)),ce.setAttribute("stroke","none"),ce.setAttribute("stroke-width","0"),ce.setAttribute("fill",d.fill||""),S.shape!=="curve"&&S.shape!=="polygon"||ce.setAttribute("fill-rule","evenodd");break;case"fillSketch":ce=this.fillSketch(x,L,d)}ce&&P.appendChild(ce)}return P}fillSketch(S,b,d){let x=d.fillWeight;x<0&&(x=d.strokeWidth/2);const P=S.createElementNS(W,"path");return P.setAttribute("d",this.opsToPath(b,d.fixedDecimalPlaceDigits)),P.setAttribute("stroke",d.fill||""),P.setAttribute("stroke-width",x+""),P.setAttribute("fill","none"),d.fillLineDash&&P.setAttribute("stroke-dasharray",d.fillLineDash.join(" ").trim()),d.fillLineDashOffset&&P.setAttribute("stroke-dashoffset",`${d.fillLineDashOffset}`),P}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(S,b){return this.gen.opsToPath(S,b)}line(S,b,d,x,P){const U=this.gen.line(S,b,d,x,P);return this.draw(U)}rectangle(S,b,d,x,P){const U=this.gen.rectangle(S,b,d,x,P);return this.draw(U)}ellipse(S,b,d,x,P){const U=this.gen.ellipse(S,b,d,x,P);return this.draw(U)}circle(S,b,d,x){const P=this.gen.circle(S,b,d,x);return this.draw(P)}linearPath(S,b){const d=this.gen.linearPath(S,b);return this.draw(d)}polygon(S,b){const d=this.gen.polygon(S,b);return this.draw(d)}arc(S,b,d,x,P,U,L=!1,ce){const ae=this.gen.arc(S,b,d,x,P,U,L,ce);return this.draw(ae)}curve(S,b){const d=this.gen.curve(S,b);return this.draw(d)}path(S,b){const d=this.gen.path(S,b);return this.draw(d)}}var re={canvas:(O,S)=>new _(O,S),svg:(O,S)=>new M(O,S),generator:O=>new h(O),newSeed:()=>h.newSeed()}},5714:function(ge){ge.exports=function(Q,t,w){var y=[],f=Q.length;if(f===0)return y;var c=t<0?Math.max(0,t+f):t||0;for(w!==void 0&&(f=w<0?w+f:w);f-- >c;)y[f-c]=Q[f];return y}},5422:function(ge,Q,t){var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),F=t(4010),o=t.n(F),z=t(1469),B=t.n(z),G=t(9329),le=t.n(G),k=t(2044),se={};se.styleTagTransform=le(),se.setAttributes=o(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=B(),y()(k.Z,se),k.Z&&k.Z.locals&&k.Z.locals},487:function(ge){var Q=[];function t(f){for(var c=-1,j=0;j<Q.length;j++)if(Q[j].identifier===f){c=j;break}return c}function w(f,c){for(var j={},A=[],F=0;F<f.length;F++){var o=f[F],z=c.base?o[0]+c.base:o[0],B=j[z]||0,G="".concat(z," ").concat(B);j[z]=B+1;var le=t(G),k={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(le!==-1)Q[le].references++,Q[le].updater(k);else{var se=y(k,c);c.byIndex=F,Q.splice(F,0,{identifier:G,updater:se,references:1})}A.push(G)}return A}function y(f,c){var j=c.domAPI(c);return j.update(f),function(A){if(A){if(A.css===f.css&&A.media===f.media&&A.sourceMap===f.sourceMap&&A.supports===f.supports&&A.layer===f.layer)return;j.update(f=A)}else j.remove()}}ge.exports=function(f,c){var j=w(f=f||[],c=c||{});return function(A){A=A||[];for(var F=0;F<j.length;F++){var o=t(j[F]);Q[o].references--}for(var z=w(A,c),B=0;B<j.length;B++){var G=t(j[B]);Q[G].references===0&&(Q[G].updater(),Q.splice(G,1))}j=z}}},2052:function(ge){var Q={};ge.exports=function(t,w){var y=function(f){if(Q[f]===void 0){var c=document.querySelector(f);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch{c=null}Q[f]=c}return Q[f]}(t);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");y.appendChild(w)}},1469:function(ge){ge.exports=function(Q){var t=document.createElement("style");return Q.setAttributes(t,Q.attributes),Q.insert(t,Q.options),t}},4010:function(ge,Q,t){ge.exports=function(w){var y=t.nc;y&&w.setAttribute("nonce",y)}},631:function(ge){ge.exports=function(Q){var t=Q.insertStyleElement(Q);return{update:function(w){(function(y,f,c){var j="";c.supports&&(j+="@supports (".concat(c.supports,") {")),c.media&&(j+="@media ".concat(c.media," {"));var A=c.layer!==void 0;A&&(j+="@layer".concat(c.layer.length>0?" ".concat(c.layer):""," {")),j+=c.css,A&&(j+="}"),c.media&&(j+="}"),c.supports&&(j+="}");var F=c.sourceMap;F&&typeof btoa<"u"&&(j+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),f.styleTagTransform(j,y,f.options)})(t,Q,w)},remove:function(){(function(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w)})(t)}}}},9329:function(ge){ge.exports=function(Q,t){if(t.styleSheet)t.styleSheet.cssText=Q;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(Q))}}},2173:function(ge,Q,t){var w=t(9787),y=typeof Object.is=="function"?Object.is:function(z,B){return z===B&&(z!==0||1/z==1/B)||z!=z&&B!=B},f=w.useState,c=w.useEffect,j=w.useLayoutEffect,A=w.useDebugValue;function F(z){var B=z.getSnapshot;z=z.value;try{var G=B();return!y(z,G)}catch{return!0}}var o=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(z,B){return B()}:function(z,B){var G=B(),le=f({inst:{value:G,getSnapshot:B}}),k=le[0].inst,se=le[1];return j(function(){k.value=G,k.getSnapshot=B,F(k)&&se({inst:k})},[z,G,B]),c(function(){return F(k)&&se({inst:k}),z(function(){F(k)&&se({inst:k})})},[z]),A(G),G};Q.useSyncExternalStore=w.useSyncExternalStore!==void 0?w.useSyncExternalStore:o},5917:function(ge,Q,t){var w=t(9787),y=t(1374),f=typeof Object.is=="function"?Object.is:function(z,B){return z===B&&(z!==0||1/z==1/B)||z!=z&&B!=B},c=y.useSyncExternalStore,j=w.useRef,A=w.useEffect,F=w.useMemo,o=w.useDebugValue;Q.useSyncExternalStoreWithSelector=function(z,B,G,le,k){var se=j(null);if(se.current===null){var pe={hasValue:!1,value:null};se.current=pe}else pe=se.current;se=F(function(){function ie(g){if(!I){if(I=!0,de=g,g=le(g),k!==void 0&&pe.hasValue){var m=pe.value;if(k(m,g))return ye=m}return ye=g}if(m=ye,f(de,g))return m;var C=le(g);return k!==void 0&&k(m,C)?m:(de=g,ye=C)}var de,ye,I=!1,J=G===void 0?null:G;return[function(){return ie(B())},J===null?void 0:function(){return ie(J())}]},[B,G,le,k]);var Ee=c(z,se[0],se[1]);return A(function(){pe.hasValue=!0,pe.value=Ee},[Ee]),o(Ee),Ee}},1374:function(ge,Q,t){ge.exports=t(2173)},5668:function(ge,Q,t){ge.exports=t(5917)},940:function(ge,Q,t){var w={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function y(f){if(!t.o(w,f))return Promise.resolve().then(function(){var A=new Error("Cannot find module '"+f+"'");throw A.code="MODULE_NOT_FOUND",A});var c=w[f],j=c[0];return Promise.all(c.slice(1).map(t.e)).then(function(){return t.t(j,19)})}y.keys=function(){return Object.keys(w)},y.id=940,ge.exports=y},9713:function(ge){ge.exports=function(Q,t,w){return t in Q?Object.defineProperty(Q,t,{value:w,enumerable:!0,configurable:!0,writable:!0}):Q[t]=w,Q}},6479:function(ge,Q,t){var w=t(7316);ge.exports=function(y,f){if(y==null)return{};var c,j,A=w(y,f);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(y);for(j=0;j<F.length;j++)c=F[j],f.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(y,c)&&(A[c]=y[c])}return A}},7316:function(ge){ge.exports=function(Q,t){if(Q==null)return{};var w,y,f={},c=Object.keys(Q);for(y=0;y<c.length;y++)w=c[y],t.indexOf(w)>=0||(f[w]=Q[w]);return f}},4295:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),F=new URL(t(3940),t.b),o=new URL(t(3147),t.b),z=new URL(t(8303),t.b),B=new URL(t(1273),t.b),G=new URL(t(9577),t.b),le=new URL(t(9729),t.b),k=c()(y()),se=A()(F),pe=A()(o),Ee=A()(z),ie=A()(B),de=A()(G),ye=A()(le);k.push([ge.id,'@font-face{font-family:"Virgil";src:url('+se+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+pe+');font-display:swap}@font-face{font-family:"Assistant";src:url('+Ee+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ie+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+de+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+ye+");font-display:swap;font-weight:700}",""]),Q.Z=k},6086:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),Q.Z=c},3729:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),Q.Z=c},3137:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),F=new URL(t(7984),t.b),o=new URL(t(1639),t.b),z=c()(y()),B=A()(F),G=A()(o);z.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+B+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+G+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),Q.Z=z},4241:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),Q.Z=c},6029:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),Q.Z=c},2345:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),F=new URL(t(9669),t.b),o=c()(y()),z=A()(F);o.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+z+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),Q.Z=o},9393:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),Q.Z=c},6578:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),Q.Z=c},9482:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),Q.Z=c},6148:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),Q.Z=c},7955:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),F=new URL(t(9669),t.b),o=c()(y()),z=A()(F);o.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+z+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),Q.Z=o},3195:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),Q.Z=c},2978:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),Q.Z=c},1587:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),Q.Z=c},9478:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),Q.Z=c},7369:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),Q.Z=c},1434:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),Q.Z=c},2316:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),Q.Z=c},8923:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),Q.Z=c},6440:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),Q.Z=c},2701:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),Q.Z=c},6843:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),Q.Z=c},8461:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),Q.Z=c},9935:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px}",""]),Q.Z=c},532:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),Q.Z=c},7589:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}",""]),Q.Z=c},8208:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),Q.Z=c},8465:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),Q.Z=c},5892:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),Q.Z=c},3874:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),Q.Z=c},2681:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),Q.Z=c},6759:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),Q.Z=c},9650:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),Q.Z=c},2044:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),Q.Z=c},9144:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),Q.Z=c},6626:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),Q.Z=c},6359:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),Q.Z=c},7399:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),Q.Z=c},8793:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),Q.Z=c},3397:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),Q.Z=c},4343:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),Q.Z=c},1569:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),Q.Z=c},9915:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),Q.Z=c},9310:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f),j=t(1667),A=t.n(j),F=new URL(t(7984),t.b),o=new URL(t(1639),t.b),z=c()(y()),B=A()(F),G=A()(o);z.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+B+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+G+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:hidden;max-width:100vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),Q.Z=z},6464:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,"",""]),c.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},Q.Z=c},5260:function(ge,Q,t){var w=t(8081),y=t.n(w),f=t(3645),c=t.n(f)()(y());c.push([ge.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),Q.Z=c},3645:function(ge){ge.exports=function(Q){var t=[];return t.toString=function(){return this.map(function(w){var y="",f=w[5]!==void 0;return w[4]&&(y+="@supports (".concat(w[4],") {")),w[2]&&(y+="@media ".concat(w[2]," {")),f&&(y+="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {")),y+=Q(w),f&&(y+="}"),w[2]&&(y+="}"),w[4]&&(y+="}"),y}).join("")},t.i=function(w,y,f,c,j){typeof w=="string"&&(w=[[null,w,void 0]]);var A={};if(f)for(var F=0;F<this.length;F++){var o=this[F][0];o!=null&&(A[o]=!0)}for(var z=0;z<w.length;z++){var B=[].concat(w[z]);f&&A[B[0]]||(j!==void 0&&(B[5]===void 0||(B[1]="@layer".concat(B[5].length>0?" ".concat(B[5]):""," {").concat(B[1],"}")),B[5]=j),y&&(B[2]&&(B[1]="@media ".concat(B[2]," {").concat(B[1],"}")),B[2]=y),c&&(B[4]?(B[1]="@supports (".concat(B[4],") {").concat(B[1],"}"),B[4]=c):B[4]="".concat(c)),t.push(B))}},t}},1667:function(ge){ge.exports=function(Q,t){return t||(t={}),Q&&(Q=String(Q.__esModule?Q.default:Q),/^['"].*['"]$/.test(Q)&&(Q=Q.slice(1,-1)),t.hash&&(Q+=t.hash),/["'() \t\n]|(%20)/.test(Q)||t.needQuotes?'"'.concat(Q.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):Q)}},8081:function(ge){ge.exports=function(Q){return Q[1]}},2416:function(ge,Q,t){t.d(Q,{CZ:function(){return m},Lo:function(){return g},Zp:function(){return u},eF:function(){return s},mo:function(){return J}});var w=t(2577),y=t(7169),f=t(4499),c=t(3646),j=t(1319),A=t(2335),F=t(1047),o=t(8211),z=t(6066),B=t(75),G=t(2264),le=t(746),k=t(6340),se=t(7901),pe=t(1894),Ee=t(1935),ie=t(8897),de=t(4512);function ye(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),i.push.apply(i,a)}return i}function I(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ye(Object(i),!0).forEach(function(a){(0,y.Z)(n,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ye(Object(i)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(i,a))})}return n}(0,se.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(n,e,i,a){return!!a.props.UIOptions.canvasActions.changeViewBackgroundColor&&!e.viewModeEnabled},perform:function(n,e,i){return{appState:I(I({},e),i),commitToHistory:!!i.viewBackgroundColor}},PanelComponent:function(n){var e=n.elements,i=n.appState,a=n.updateData;return(0,de.jsx)("div",{style:{position:"relative"},children:(0,de.jsx)(f.z,{label:(0,o.t)("labels.canvasBackground"),type:"canvasBackground",color:i.viewBackgroundColor,onChange:function(l){return a({viewBackgroundColor:l})},isActive:i.openPopup==="canvasColorPicker",setActive:function(l){return a({openPopup:l?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:e,appState:i})})}});var J=(0,se.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(n,e,i,a){return!!a.props.UIOptions.canvasActions.clearCanvas&&!e.viewModeEnabled},perform:function(n,e,i,a){return a.imageCache.clear(),{elements:n.map(function(l){return(0,Ee.BE)(l,{isDeleted:!0})}),appState:I(I({},(0,ie.im)()),{},{files:{},theme:e.theme,penMode:e.penMode,penDetected:e.penDetected,exportBackground:e.exportBackground,exportEmbedScene:e.exportEmbedScene,gridSize:e.gridSize,showStats:e.showStats,pasteDialog:e.pasteDialog,activeTool:e.activeTool.type==="image"?I(I({},e.activeTool),{},{type:"selection"}):e.activeTool}),commitToHistory:!0}}}),g=(0,se.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,e,i,a){return{appState:I(I({},e),(0,le.E)({viewportX:e.width/2+e.offsetLeft,viewportY:e.height/2+e.offsetTop,nextZoom:(0,B.j)(e.zoom.value+A.V4)},e)),commitToHistory:!1}},PanelComponent:function(n){var e=n.updateData;return(0,de.jsx)(j.V,{type:"button",className:"zoom-in-button zoom-button",icon:c.Sd,title:"".concat((0,o.t)("buttons.zoomIn"),"  ").concat((0,k.uY)("CtrlOrCmd++")),"aria-label":(0,o.t)("buttons.zoomIn"),onClick:function(){e(null)}})},keyTest:function(n){return(n.code===z.aU.EQUAL||n.code===z.aU.NUM_ADD)&&(n[z.tW.CTRL_OR_CMD]||n.shiftKey)}}),m=(0,se.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,e,i,a){return{appState:I(I({},e),(0,le.E)({viewportX:e.width/2+e.offsetLeft,viewportY:e.height/2+e.offsetTop,nextZoom:(0,B.j)(e.zoom.value-A.V4)},e)),commitToHistory:!1}},PanelComponent:function(n){var e=n.updateData;return(0,de.jsx)(j.V,{type:"button",className:"zoom-out-button zoom-button",icon:c.xL,title:"".concat((0,o.t)("buttons.zoomOut"),"  ").concat((0,k.uY)("CtrlOrCmd+-")),"aria-label":(0,o.t)("buttons.zoomOut"),onClick:function(){e(null)}})},keyTest:function(n){return(n.code===z.aU.MINUS||n.code===z.aU.NUM_SUBTRACT)&&(n[z.tW.CTRL_OR_CMD]||n.shiftKey)}}),C=((0,se.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,e,i,a){return{appState:I(I({},e),(0,le.E)({viewportX:e.width/2+e.offsetLeft,viewportY:e.height/2+e.offsetTop,nextZoom:(0,B.j)(1)},e)),commitToHistory:!1}},PanelComponent:function(n){var e=n.updateData,i=n.appState;return(0,de.jsx)(pe.u,{label:(0,o.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,de.jsxs)(j.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,o.t)("buttons.resetZoom"),"aria-label":(0,o.t)("buttons.resetZoom"),onClick:function(){e(null)},children:[(100*i.zoom.value).toFixed(0),"%"]})})},keyTest:function(n){return(n.code===z.aU.ZERO||n.code===z.aU.NUM_ZERO)&&(n[z.tW.CTRL_OR_CMD]||n.shiftKey)}}),function(n,e){var i=(0,w.Z)(n,4),a=i[0],l=i[1],p=i[2],T=i[3],X=p-a,te=e.width/X,R=T-l,D=e.height/R,fe=Math.min(te,D),q=Math.floor(fe/A.V4)*A.V4;return Math.min(Math.max(q,A.Zj),1)}),v=function(n,e,i){var a=(0,F.Lm)(n),l=(0,B.eD)(a,e),p=i&&l.length>0?(0,F.KP)(l):(0,F.KP)(a),T={value:C(p,{width:e.width,height:e.height})},X=(0,w.Z)(p,4),te=X[0],R=X[1],D=(te+X[2])/2,fe=(R+X[3])/2;return{appState:I(I(I({},e),(0,G.s)({scenePoint:{x:D,y:fe},viewportDimensions:{width:e.width,height:e.height},zoom:T})),{},{zoom:T}),commitToHistory:!1}},u=((0,se.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(n,e){return v(n,e,!0)},keyTest:function(n){return n.code===z.aU.TWO&&n.shiftKey&&!n.altKey&&!n[z.tW.CTRL_OR_CMD]}}),(0,se.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,e){return v(n,e,!1)},keyTest:function(n){return n.code===z.aU.ONE&&n.shiftKey&&!n.altKey&&!n[z.tW.CTRL_OR_CMD]}}),(0,se.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(n,e,i){return{appState:I(I({},e),{},{theme:i||(e.theme===A.C6.LIGHT?A.C6.DARK:A.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(n){return n.altKey&&n.shiftKey&&n.code===z.aU.D},predicate:function(n,e,i,a){return!!a.props.UIOptions.canvasActions.toggleTheme}})),s=((0,se.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(n,e){var i;return i=(0,ie.EN)(e)?(0,k.Om)(e,I(I({},e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,k.Om)(e,{type:"eraser",lastActiveToolBeforeEraser:e.activeTool}),{appState:I(I({},e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:i}),commitToHistory:!0}},keyTest:function(n){return n.key===z.tW.E}}),(0,se.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(n,e,i,a){var l;return(0,ie.l$)(e)?l=(0,k.Om)(e,I(I({},e.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(l=(0,k.Om)(e,{type:"hand",lastActiveToolBeforeEraser:e.activeTool}),(0,k.KJ)(a.canvas,A.oc.GRAB)),{appState:I(I({},e),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:l}),commitToHistory:!0}},keyTest:function(n){return n.key===z.tW.H}}))},4688:function(ge,Q,t){t.d(Q,{FA:function(){return I},ZM:function(){return ye},jK:function(){return J},uN:function(){return ie},yQ:function(){return de},zp:function(){return g}});var w=t(7169),y=t(8950),f=t(2975),c=t.n(f),j=t(6066),A=t(7901),F=t(6665),o=t(533),z=t(1868),B=t(9485),G=t(1047),le=t(8211);function k(m,C){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);C&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),v.push.apply(v,u)}return v}function se(m){for(var C=1;C<arguments.length;C++){var v=arguments[C]!=null?arguments[C]:{};C%2?k(Object(v),!0).forEach(function(u){(0,w.Z)(m,u,v[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):k(Object(v)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(v,u))})}return m}var pe,Ee,ie=(0,A.z)({name:"copy",trackEvent:{category:"element"},perform:function(m,C,v,u){var s=(0,z.eD)(m,C,!0);return(0,F.vQ)(s,C,u.files),{commitToHistory:!1}},predicate:function(m,C,v,u){return u.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),de=(0,A.z)({name:"paste",trackEvent:{category:"element"},perform:function(m,C,v,u){return u.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(m,C,v,u){return u.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),ye=(0,A.z)({name:"cut",trackEvent:{category:"element"},perform:function(m,C,v,u){return ie.perform(m,C,v,u),o.X.perform(m,C)},predicate:function(m,C,v,u){return u.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(m){return m[j.tW.CTRL_OR_CMD]&&m.key===j.tW.X}}),I=(0,A.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(pe=(0,y.Z)(c().mark(function m(C,v,u,s){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return n=(0,z.eD)((0,G.Lm)(C),v,!0),e.prev=3,e.next=6,(0,B.p1)("clipboard-svg",n.length?n:(0,G.Lm)(C),v,s.files,v);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:se(se({},v),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}},m,null,[[3,9]])})),function(m,C,v,u){return pe.apply(this,arguments)}),predicate:function(m){return F.wx&&m.length>0},contextItemLabel:"labels.copyAsSvg"}),J=(0,A.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(Ee=(0,y.Z)(c().mark(function m(C,v,u,s){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return n=(0,z.eD)((0,G.Lm)(C),v,!0),e.prev=3,e.next=6,(0,B.p1)("clipboard",n.length?n:(0,G.Lm)(C),v,s.files,v);case 6:return e.abrupt("return",{appState:se(se({},v),{},{toast:{message:(0,le.t)("toast.copyToClipboardAsPng",{exportSelection:n.length?(0,le.t)("toast.selection"):(0,le.t)("toast.canvas"),exportColorScheme:v.exportWithDarkMode?(0,le.t)("buttons.darkMode"):(0,le.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:se(se({},v),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}},m,null,[[3,9]])})),function(m,C,v,u){return Ee.apply(this,arguments)}),predicate:function(m){return F.vt&&m.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(m){return m.code===j.aU.C&&m.altKey&&m.shiftKey}}),g=(0,A.z)({name:"copyText",trackEvent:{category:"element"},perform:function(m,C){var v=(0,z.eD)((0,G.Lm)(m),C,!0).reduce(function(u,s){return(0,G.iB)(s)&&u.push(s.text),u},[]).join(`

`);return(0,F.dd)(v),{commitToHistory:!1}},predicate:function(m,C){return F.wx&&(0,z.eD)(m,C,!0).some(G.iB)},contextItemLabel:"labels.copyText"})},533:function(ge,Q,t){t.d(Q,{X:function(){return ye}});var w=t(7169),y=t(75),f=t(6066),c=t(1319),j=t(8211),A=t(7901),F=t(1047),o=t(1935),z=t(242),B=t(6938),G=t(8290),le=t(1974),k=t(6340),se=t(3646),pe=t(4512);function Ee(I,J){var g=Object.keys(I);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(I);J&&(m=m.filter(function(C){return Object.getOwnPropertyDescriptor(I,C).enumerable})),g.push.apply(g,m)}return g}function ie(I){for(var J=1;J<arguments.length;J++){var g=arguments[J]!=null?arguments[J]:{};J%2?Ee(Object(g),!0).forEach(function(m){(0,w.Z)(I,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(g)):Ee(Object(g)).forEach(function(m){Object.defineProperty(I,m,Object.getOwnPropertyDescriptor(g,m))})}return I}var de=function(I,J){if(I.editingGroupId){var g=(0,z.Fb)((0,F.Lm)(J),I.editingGroupId);if(g.length)return ie(ie({},I),{},{selectedElementIds:(0,w.Z)({},g[0].id,!0)})}return I},ye=(0,A.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(I,J){if(J.editingLinearElement){var g=J.editingLinearElement,m=g.elementId,C=g.selectedPointsIndices,v=g.startBindingElement,u=g.endBindingElement,s=B._.getElement(m);if(!s||C==null)return!1;if(s.points.length<2){var n=I.map(function(p){return p.id===s.id?(0,o.BE)(p,{isDeleted:!0}):p});return{elements:n,appState:ie(ie({},de(J,n)),{},{editingLinearElement:null}),commitToHistory:!1}}var e={startBindingElement:C!=null&&C.includes(0)?null:v,endBindingElement:C!=null&&C.includes(s.points.length-1)?null:u};return B._.deletePoints(s,C),{elements:I,appState:ie(ie({},J),{},{editingLinearElement:ie(ie(ie({},J.editingLinearElement),e),{},{selectedPointsIndices:(C==null?void 0:C[0])>0?[C[0]-1]:[0]})}),commitToHistory:!0}}var i=function(p,T){return{elements:p.map(function(X){return T.selectedElementIds[X.id]||(0,le.Xh)(X)&&T.selectedElementIds[X.containerId]?(0,o.BE)(X,{isDeleted:!0}):X}),appState:ie(ie({},T),{},{selectedElementIds:{}})}}(I,J),a=i.elements,l=i.appState;return(0,G.$q)(a,I.filter(function(p){var T=p.id;return J.selectedElementIds[T]})),{elements:a,appState:ie(ie({},l=de(l,a)),{},{activeTool:(0,k.Om)(J,{type:"selection"}),multiElement:null}),commitToHistory:(0,y.N)((0,F.Lm)(I),J)}},contextItemLabel:"labels.delete",keyTest:function(I){return I.key===f.tW.BACKSPACE||I.key===f.tW.DELETE},PanelComponent:function(I){var J=I.elements,g=I.appState,m=I.updateData;return(0,pe.jsx)(c.V,{type:"button",icon:se.XH,title:(0,j.t)("labels.delete"),"aria-label":(0,j.t)("labels.delete"),onClick:function(){return m(null)},visible:(0,y.N)((0,F.Lm)(J),g)})}})},8671:function(ge,Q,t){t.d(Q,{_d:function(){return U},mM:function(){return P},ns:function(){return x}});var w=t(8950),y=t(2577),f=t(7169),c=t(2975),j=t.n(c),A=t(3646),F=t(487),o=t.n(F),z=t(631),B=t.n(z),G=t(2052),le=t.n(G),k=t(4010),se=t.n(k),pe=t(1469),Ee=t.n(pe),ie=t(9329),de=t.n(ie),ye=t(6759),I={};I.styleTagTransform=de(),I.setAttributes=se(),I.insert=le().bind(null,"head"),I.domAPI=B(),I.insertStyleElement=Ee(),o()(ye.Z,I),ye.Z&&ye.Z.locals&&ye.Z.locals;var J=t(9787),g=t(6340),m=t(532),C={};C.styleTagTransform=de(),C.setAttributes=se(),C.insert=le().bind(null,"head"),C.domAPI=B(),C.insertStyleElement=Ee(),o()(m.Z,C),m.Z&&m.Z.locals&&m.Z.locals;var v=t(4206),u=t(4512),s=function(L){var ce=(0,v.J0)().id,ae=(0,J.useState)(L.value),ue=(0,y.Z)(ae,2),Ce=ue[0],Pe=ue[1];return(0,u.jsxs)("div",{className:"ProjectName",children:[(0,u.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(L.label).concat(L.isNameEditable?"":":")}),L.isNameEditable?(0,u.jsx)("input",{type:"text",className:"TextInput",onBlur:function(N){(0,g.qz)(N.target);var Y=N.target.value;Y!==L.value&&L.onChange(Y)},onKeyDown:function(N){if(N.key==="Enter"){if(N.preventDefault(),N.nativeEvent.isComposing||N.keyCode===229)return;N.currentTarget.blur()}},id:"".concat(ce,"-filename"),value:Ce,onChange:function(N){return Pe(N.target.value)}}):(0,u.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(ce,"-filename"),children:L.value})]})},n=t(1319),e=t(1894),i=(t(5422),t(8211)),a=t(2335),l=function(L){var ce=L.title||(L.value==="dark"?(0,i.t)("buttons.lightMode"):(0,i.t)("buttons.darkMode"));return(0,u.jsx)(n.V,{type:"icon",icon:L.value===a.C6.LIGHT?p.MOON:p.SUN,title:ce,"aria-label":ce,onClick:function(){return L.onChange(L.value===a.C6.DARK?a.C6.LIGHT:a.C6.DARK)},"data-testid":"toggle-dark-mode"})},p={SUN:(0,u.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,u.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,u.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,u.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},T=t(9485),X=t(1047),te=t(434);function R(L,ce){var ae=Object.keys(L);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(L);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(L,Ce).enumerable})),ae.push.apply(ae,ue)}return ae}function D(L){for(var ce=1;ce<arguments.length;ce++){var ae=arguments[ce]!=null?arguments[ce]:{};ce%2?R(Object(ae),!0).forEach(function(ue){(0,f.Z)(L,ue,ae[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ae)):R(Object(ae)).forEach(function(ue){Object.defineProperty(L,ue,Object.getOwnPropertyDescriptor(ae,ue))})}return L}var fe=function(){var L=(0,w.Z)(j().mark(function ce(ae,ue,Ce){var Pe,N,Y,$,xe,Oe;return j().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(N=(Pe=ue).exportBackground,Y=Pe.viewBackgroundColor,$=Pe.name,xe=Pe.fileHandle,Oe=(0,te.Qk)(xe),xe&&(0,te.DQ)(Oe)){Ze.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return ue=D(D({},ue),{},{exportEmbedScene:!0}),Ze.next=7,(0,T.p1)(Oe,(0,X.Lm)(ae),ue,Ce,{exportBackground:N,viewBackgroundColor:Y,name:$,fileHandle:xe});case 7:return Ze.abrupt("return",{fileHandle:xe});case 8:case"end":return Ze.stop()}},ce)}));return function(ce,ae,ue){return L.apply(this,arguments)}}(),q=t(6066),H=t(7901),h=t(3807),_=t(4162),W=t(75),M=t(1393);function re(L,ce){var ae=Object.keys(L);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(L);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(L,Ce).enumerable})),ae.push.apply(ae,ue)}return ae}function O(L){for(var ce=1;ce<arguments.length;ce++){var ae=arguments[ce]!=null?arguments[ce]:{};ce%2?re(Object(ae),!0).forEach(function(ue){(0,f.Z)(L,ue,ae[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ae)):re(Object(ae)).forEach(function(ue){Object.defineProperty(L,ue,Object.getOwnPropertyDescriptor(ae,ue))})}return L}(0,H.z)({name:"changeProjectName",trackEvent:!1,perform:function(L,ce,ae){return{appState:O(O({},ce),{},{name:ae}),commitToHistory:!1}},PanelComponent:function(L){var ce=L.appState,ae=L.updateData,ue=L.appProps;return(0,u.jsx)(s,{label:(0,i.t)("labels.fileTitle"),value:ce.name||"Unnamed",onChange:function(Ce){return ae(Ce)},isNameEditable:ue.name===void 0&&!ce.viewModeEnabled})}}),(0,H.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(L,ce,ae){return{appState:O(O({},ce),{},{exportScale:ae}),commitToHistory:!1}},PanelComponent:function(L){var ce=L.elements,ae=L.appState,ue=L.updateData,Ce=(0,X.Lm)(ce),Pe=(0,W.N)(Ce,ae)?(0,W.eD)(Ce,ae):Ce;return(0,u.jsx)(u.Fragment,{children:a.ZB.map(function(N){var Y=(0,_.Cg)(Pe,a.qy,N),$=(0,y.Z)(Y,2),xe=$[0],Oe=$[1],Ze="".concat((0,i.t)("buttons.scale")," ").concat(N,"x (").concat(xe,"x").concat(Oe,")");return(0,u.jsx)(n.V,{size:"small",type:"radio",icon:"".concat(N,"x"),name:"export-canvas-scale",title:Ze,"aria-label":Ze,id:"export-canvas-scale",checked:N===ae.exportScale,onChange:function(){return ue(N)}},N)})})}}),(0,H.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(L,ce,ae){return{appState:O(O({},ce),{},{exportBackground:ae}),commitToHistory:!1}},PanelComponent:function(L){var ce=L.appState,ae=L.updateData;return(0,u.jsx)(h.o,{checked:ce.exportBackground,onChange:function(ue){return ae(ue)},children:(0,i.t)("labels.withBackground")})}}),(0,H.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(L,ce,ae){return{appState:O(O({},ce),{},{exportEmbedScene:ae}),commitToHistory:!1}},PanelComponent:function(L){var ce=L.appState,ae=L.updateData;return(0,u.jsxs)(h.o,{checked:ce.exportEmbedScene,onChange:function(ue){return ae(ue)},children:[(0,i.t)("labels.exportEmbedScene"),(0,u.jsx)(e.u,{label:(0,i.t)("labels.exportEmbedScene_details"),long:!0,children:(0,u.jsx)("div",{className:"excalidraw-tooltip-icon",children:A.Vl})})]})}});var S,b,d,x=(0,H.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(L,ce,ae,ue){return!!ue.props.UIOptions.canvasActions.saveToActiveFile&&!!ce.fileHandle&&!ce.viewModeEnabled},perform:(S=(0,w.Z)(j().mark(function L(ce,ae,ue,Ce){var Pe,N,Y;return j().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(Pe=!!ae.fileHandle,$.prev=1,!(0,te.g8)(ae.fileHandle)){$.next=8;break}return $.next=5,fe(ce,ae,Ce.files);case 5:$.t0=$.sent,$.next=11;break;case 8:return $.next=10,(0,T.Um)(ce,ae,Ce.files);case 10:$.t0=$.sent;case 11:return N=$.t0,Y=N.fileHandle,$.abrupt("return",{commitToHistory:!1,appState:O(O({},ae),{},{fileHandle:Y,toast:Pe?{message:Y!=null&&Y.name?(0,i.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Y.name,'"')):(0,i.t)("toast.fileSaved")}:null})});case 16:return $.prev=16,$.t1=$.catch(1),($.t1===null||$.t1===void 0?void 0:$.t1.name)!=="AbortError"?console.error($.t1):console.warn($.t1),$.abrupt("return",{commitToHistory:!1});case 20:case"end":return $.stop()}},L,null,[[1,16]])})),function(L,ce,ae,ue){return S.apply(this,arguments)}),keyTest:function(L){return L.key===q.tW.S&&L[q.tW.CTRL_OR_CMD]&&!L.shiftKey}}),P=(0,H.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(b=(0,w.Z)(j().mark(function L(ce,ae,ue,Ce){var Pe,N;return j().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.prev=0,Y.next=3,(0,T.Um)(ce,O(O({},ae),{},{fileHandle:null}),Ce.files);case 3:return Pe=Y.sent,N=Pe.fileHandle,Y.abrupt("return",{commitToHistory:!1,appState:O(O({},ae),{},{fileHandle:N})});case 8:return Y.prev=8,Y.t0=Y.catch(0),(Y.t0===null||Y.t0===void 0?void 0:Y.t0.name)!=="AbortError"?console.error(Y.t0):console.warn(Y.t0),Y.abrupt("return",{commitToHistory:!1});case 12:case"end":return Y.stop()}},L,null,[[0,8]])})),function(L,ce,ae,ue){return b.apply(this,arguments)}),keyTest:function(L){return L.key===q.tW.S&&L.shiftKey&&L[q.tW.CTRL_OR_CMD]},PanelComponent:function(L){var ce=L.updateData;return(0,u.jsx)(n.V,{type:"button",icon:A.po,title:(0,i.t)("buttons.saveAs"),"aria-label":(0,i.t)("buttons.saveAs"),showAriaLabel:(0,v.Fy)().isMobile,hidden:!M.kr,onClick:function(){return ce(null)},"data-testid":"save-as-button"})}}),U=(0,H.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(L,ce,ae,ue){return!!ue.props.UIOptions.canvasActions.loadScene&&!ce.viewModeEnabled},perform:(d=(0,w.Z)(j().mark(function L(ce,ae,ue,Ce){var Pe,N,Y,$;return j().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.prev=0,xe.next=3,(0,T.n8)(ae,ce);case 3:return Pe=xe.sent,N=Pe.elements,Y=Pe.appState,$=Pe.files,xe.abrupt("return",{elements:N,appState:Y,files:$,commitToHistory:!0});case 10:if(xe.prev=10,xe.t0=xe.catch(0),(xe.t0===null||xe.t0===void 0?void 0:xe.t0.name)!=="AbortError"){xe.next=15;break}return console.warn(xe.t0),xe.abrupt("return",!1);case 15:return xe.abrupt("return",{elements:ce,appState:O(O({},ae),{},{errorMessage:xe.t0.message}),files:Ce.files,commitToHistory:!1});case 16:case"end":return xe.stop()}},L,null,[[0,10]])})),function(L,ce,ae,ue){return d.apply(this,arguments)}),keyTest:function(L){return L[q.tW.CTRL_OR_CMD]&&L.key===q.tW.O}});(0,H.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(L,ce,ae){return{appState:O(O({},ce),{},{exportWithDarkMode:ae}),commitToHistory:!1}},PanelComponent:function(L){var ce=L.appState,ae=L.updateData;return(0,u.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,u.jsx)(l,{value:ce.exportWithDarkMode?a.C6.DARK:a.C6.LIGHT,onChange:function(ue){ae(ue===a.C6.DARK)},title:(0,i.t)("labels.toggleExportColorScheme")})})}})},6208:function(ge,Q,t){t.d(Q,{Tu:function(){return O},Zq:function(){return S}});var w=t(1930),y=t(7169),f=t(45),c=t(4512),j=function(b){var d=b.options,x=b.value,P=b.onChange,U=b.group;return(0,c.jsx)("div",{className:"buttonList buttonListIcon",children:d.map(function(L){return(0,c.jsxs)("label",{className:(0,f.Z)({active:x===L.value}),title:L.text,children:[(0,c.jsx)("input",{type:"radio",name:U,onChange:function(){return P(L.value)},checked:x===L.value,"data-testid":L.testId}),L.icon]},L.text)})})},A=t(4499),F=t(2577),o=t(9787),z=t.n(o),B=t(2891),G=t(487),le=t.n(G),k=t(631),se=t.n(k),pe=t(2052),Ee=t.n(pe),ie=t(4010),de=t.n(ie),ye=t(1469),I=t.n(ye),J=t(9329),g=t.n(J),m=t(9478),C={};C.styleTagTransform=g(),C.setAttributes=de(),C.insert=Ee().bind(null,"head"),C.domAPI=se(),C.insertStyleElement=I(),le()(m.Z,C),m.Z&&m.Z.locals&&m.Z.locals;var v=t(6066),u=t(8211);function s(b,d){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(b);d&&(P=P.filter(function(U){return Object.getOwnPropertyDescriptor(b,U).enumerable})),x.push.apply(x,P)}return x}function n(b){for(var d=1;d<arguments.length;d++){var x=arguments[d]!=null?arguments[d]:{};d%2?s(Object(x),!0).forEach(function(P){(0,y.Z)(b,P,x[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):s(Object(x)).forEach(function(P){Object.defineProperty(b,P,Object.getOwnPropertyDescriptor(x,P))})}return b}function e(b){var d=b.options,x=b.value,P=b.label,U=b.onChange,L=b.onClose,ce=z().useRef(),ae=z().useRef(),ue=z().useRef(null);return z().useEffect(function(){ae.current?ae.current.focus():ue.current&&ue.current.focus()},[]),(0,c.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":P,onKeyDown:function(Ce){var Pe=d.find(function(Fe){return Fe.keyBinding===Ce.key.toLowerCase()});if(Ce.metaKey||Ce.altKey||Ce.ctrlKey||!Pe)if(Ce.key===v.tW.TAB)setTimeout(function(){ae.current!==document.activeElement&&L()},0);else if((0,v.Wl)(Ce.key)){var N=document.activeElement,Y=(0,u.G3)().rtl,$=Array.prototype.indexOf.call(ue.current.children,N);if($!==-1){var xe=d.length,Oe=$;switch(Ce.key){case(Y?v.tW.ARROW_LEFT:v.tW.ARROW_RIGHT):case v.tW.ARROW_DOWN:Oe=($+1)%xe;break;case(Y?v.tW.ARROW_RIGHT:v.tW.ARROW_LEFT):case v.tW.ARROW_UP:Oe=(xe+$-1)%xe}ue.current.children[Oe].focus()}Ce.preventDefault()}else Ce.key!==v.tW.ESCAPE&&Ce.key!==v.tW.ENTER||(Ce.preventDefault(),L());else{var Ze=d.indexOf(Pe);ue.current.children[Ze].focus(),Ce.preventDefault()}Ce.nativeEvent.stopImmediatePropagation(),Ce.stopPropagation()},children:(0,c.jsx)("div",{className:"picker-content",ref:ue,children:d.map(function(Ce,Pe){return(0,c.jsxs)("button",{className:(0,f.Z)("picker-option",{active:x===Ce.value}),onClick:function(N){N.currentTarget.focus(),U(Ce.value)},title:"".concat(Ce.text,"  ").concat(Ce.keyBinding.toUpperCase()),"aria-label":Ce.text||"none","aria-keyshortcuts":Ce.keyBinding,ref:function(N){N&&Pe===0&&(ce.current=N),N&&Ce.value===x&&(ae.current=N)},onFocus:function(){U(Ce.value)},children:[Ce.icon,(0,c.jsx)("span",{className:"picker-keybinding",children:Ce.keyBinding})]},Ce.text)})})})}function i(b){var d,x=b.value,P=b.label,U=b.options,L=b.onChange,ce=b.group,ae=ce===void 0?"":ce,ue=z().useState(!1),Ce=(0,F.Z)(ue,2),Pe=Ce[0],N=Ce[1],Y=z().useRef(null),$=(0,u.G3)().rtl;return(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{name:ae,className:Pe?"active":"","aria-label":P,onClick:function(){return N(!Pe)},ref:Y,children:(d=U.find(function(xe){return xe.value===x}))===null||d===void 0?void 0:d.icon}),(0,c.jsx)(z().Suspense,{fallback:"",children:Pe?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(B.J,n(n({onCloseRequest:function(xe){return xe.target!==Y.current&&N(!1)}},$?{right:5.5}:{left:-5.5}),{},{children:(0,c.jsx)(e,{options:U,value:x,label:P,onChange:L,onClose:function(){var xe;N(!1),(xe=Y.current)===null||xe===void 0||xe.focus()}})})),(0,c.jsx)("div",{className:"picker-triangle"})]}):null})]})}var a=t(3646),l=t(2335),p=t(1047),T=t(1935),X=t(5710),te=t(1974),R=t(6954),D=t(75),fe=t(8120),q=t(6340),H=t(7901);function h(b,d){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(b);d&&(P=P.filter(function(U){return Object.getOwnPropertyDescriptor(b,U).enumerable})),x.push.apply(x,P)}return x}function _(b){for(var d=1;d<arguments.length;d++){var x=arguments[d]!=null?arguments[d]:{};d%2?h(Object(x),!0).forEach(function(P){(0,y.Z)(b,P,x[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):h(Object(x)).forEach(function(P){Object.defineProperty(b,P,Object.getOwnPropertyDescriptor(x,P))})}return b}var W=function(b,d,x){var P=arguments.length>3&&arguments[3]!==void 0&&arguments[3],U=(0,q.xn)((0,D.eD)(b,d,P));return b.map(function(L){var ce;return U.get(L.id)||L.id===((ce=d.editingElement)===null||ce===void 0?void 0:ce.id)?x(L):L})},M=function(b,d,x,P){var U,L,ce=d.editingElement,ae=(0,p.Lm)(b);return(U=(L=ce&&x(ce))!==null&&L!==void 0?L:(0,D.N)(ae,d)?(0,D.PR)(ae,d,x):P)!==null&&U!==void 0?U:null},re=function(b,d,x,P){var U=new Set;return{elements:W(b,d,function(L){if((0,p.iB)(L)){var ce=x(L);U.add(ce);var ae=(0,T.BE)(L,{fontSize:ce});return(0,p.oN)(ae,(0,X.tl)(L)),ue=L,Ce=ae,ae=(0,te.Xh)(Ce)?Ce:(0,T.DR)(Ce,{x:ue.textAlign==="left"?ue.x:ue.x+(ue.width-Ce.width)/(ue.textAlign==="center"?2:1),y:ue.y+(ue.height-Ce.height)/2},!1)}var ue,Ce;return L},!0),appState:_(_({},d),{},{currentItemFontSize:U.size===1?(0,w.Z)(U)[0]:P??d.currentItemFontSize}),commitToHistory:!0}},O=((0,H.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(b,d,x){return _(_({},x.currentItemStrokeColor&&{elements:W(b,d,function(P){return(0,fe.PD)(P.type)?(0,T.BE)(P,{strokeColor:x.currentItemStrokeColor}):P},!0)}),{},{appState:_(_({},d),x),commitToHistory:!!x.currentItemStrokeColor})},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{"aria-hidden":"true",children:(0,u.t)("labels.stroke")}),(0,c.jsx)(A.z,{type:"elementStroke",label:(0,u.t)("labels.stroke"),color:M(d,x,function(U){return U.strokeColor},x.currentItemStrokeColor),onChange:function(U){return P({currentItemStrokeColor:U})},isActive:x.openPopup==="strokeColorPicker",setActive:function(U){return P({openPopup:U?"strokeColorPicker":null})},elements:d,appState:x})]})}}),(0,H.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(b,d,x){return _(_({},x.currentItemBackgroundColor&&{elements:W(b,d,function(P){return(0,T.BE)(P,{backgroundColor:x.currentItemBackgroundColor})})}),{},{appState:_(_({},d),x),commitToHistory:!!x.currentItemBackgroundColor})},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{"aria-hidden":"true",children:(0,u.t)("labels.background")}),(0,c.jsx)(A.z,{type:"elementBackground",label:(0,u.t)("labels.background"),color:M(d,x,function(U){return U.backgroundColor},x.currentItemBackgroundColor),onChange:function(U){return P({currentItemBackgroundColor:U})},isActive:x.openPopup==="backgroundColorPicker",setActive:function(U){return P({openPopup:U?"backgroundColorPicker":null})},elements:d,appState:x})]})}}),(0,H.z)({name:"changeFillStyle",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{fillStyle:x})}),appState:_(_({},d),{},{currentItemFillStyle:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.fill")}),(0,c.jsx)(j,{options:[{value:"hachure",text:(0,u.t)("labels.hachure"),icon:a.a0},{value:"cross-hatch",text:(0,u.t)("labels.crossHatch"),icon:a.np},{value:"solid",text:(0,u.t)("labels.solid"),icon:a.X7}],group:"fill",value:M(d,x,function(U){return U.fillStyle},x.currentItemFillStyle),onChange:function(U){P(U)}})]})}}),(0,H.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{strokeWidth:x})}),appState:_(_({},d),{},{currentItemStrokeWidth:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.strokeWidth")}),(0,c.jsx)(j,{group:"stroke-width",options:[{value:1,text:(0,u.t)("labels.thin"),icon:a.ZA},{value:2,text:(0,u.t)("labels.bold"),icon:a.Wl},{value:4,text:(0,u.t)("labels.extraBold"),icon:a.m9}],value:M(d,x,function(U){return U.strokeWidth},x.currentItemStrokeWidth),onChange:function(U){return P(U)}})]})}}),(0,H.z)({name:"changeSloppiness",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{seed:(0,R.LU)(),roughness:x})}),appState:_(_({},d),{},{currentItemRoughness:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.sloppiness")}),(0,c.jsx)(j,{group:"sloppiness",options:[{value:0,text:(0,u.t)("labels.architect"),icon:a.bf},{value:1,text:(0,u.t)("labels.artist"),icon:a.kM},{value:2,text:(0,u.t)("labels.cartoonist"),icon:a.W2}],value:M(d,x,function(U){return U.roughness},x.currentItemRoughness),onChange:function(U){return P(U)}})]})}}),(0,H.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{strokeStyle:x})}),appState:_(_({},d),{},{currentItemStrokeStyle:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.strokeStyle")}),(0,c.jsx)(j,{group:"strokeStyle",options:[{value:"solid",text:(0,u.t)("labels.strokeStyle_solid"),icon:a.ZA},{value:"dashed",text:(0,u.t)("labels.strokeStyle_dashed"),icon:a.a5},{value:"dotted",text:(0,u.t)("labels.strokeStyle_dotted"),icon:a.aT}],value:M(d,x,function(U){return U.strokeStyle},x.currentItemStrokeStyle),onChange:function(U){return P(U)}})]})}}),(0,H.z)({name:"changeOpacity",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{opacity:x})},!0),appState:_(_({},d),{},{currentItemOpacity:x}),commitToHistory:!0}},PanelComponent:function(b){var d,x=b.elements,P=b.appState,U=b.updateData;return(0,c.jsxs)("label",{className:"control-label",children:[(0,u.t)("labels.opacity"),(0,c.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(L){return U(+L.target.value)},value:(d=M(x,P,function(L){return L.opacity},P.currentItemOpacity))!==null&&d!==void 0?d:void 0})]})}}),(0,H.z)({name:"changeFontSize",trackEvent:!1,perform:function(b,d,x){return re(b,d,function(){return x},x)},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.fontSize")}),(0,c.jsx)(j,{group:"font-size",options:[{value:16,text:(0,u.t)("labels.small"),icon:a.q0,testId:"fontSize-small"},{value:20,text:(0,u.t)("labels.medium"),icon:a.nq,testId:"fontSize-medium"},{value:28,text:(0,u.t)("labels.large"),icon:a.tW,testId:"fontSize-large"},{value:36,text:(0,u.t)("labels.veryLarge"),icon:a.OA,testId:"fontSize-veryLarge"}],value:M(d,x,function(U){if((0,p.iB)(U))return U.fontSize;var L=(0,X.WJ)(U);return L?L.fontSize:null},x.currentItemFontSize||l.n5),onChange:function(U){return P(U)}})]})}}),(0,H.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(b,d,x){return re(b,d,function(P){return Math.round(1/1.1*P.fontSize)})},keyTest:function(b){return b[v.tW.CTRL_OR_CMD]&&b.shiftKey&&(b.key===v.tW.CHEVRON_LEFT||b.key===v.tW.COMMA)}})),S=(0,H.z)({name:"increaseFontSize",trackEvent:!1,perform:function(b,d,x){return re(b,d,function(P){return Math.round(1.1*P.fontSize)})},keyTest:function(b){return b[v.tW.CTRL_OR_CMD]&&b.shiftKey&&(b.key===v.tW.CHEVRON_RIGHT||b.key===v.tW.PERIOD)}});(0,H.z)({name:"changeFontFamily",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,p.iB)(P)){var U=(0,T.BE)(P,{fontFamily:x});return(0,p.oN)(U,(0,X.tl)(P)),U}return P},!0),appState:_(_({},d),{},{currentItemFontFamily:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData,U=[{value:l.ut.Virgil,text:(0,u.t)("labels.handDrawn"),icon:a.Pm},{value:l.ut.Helvetica,text:(0,u.t)("labels.normal"),icon:a.vo},{value:l.ut.Cascadia,text:(0,u.t)("labels.code"),icon:a.z6}];return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.fontFamily")}),(0,c.jsx)(j,{group:"font-family",options:U,value:M(d,x,function(L){if((0,p.iB)(L))return L.fontFamily;var ce=(0,X.WJ)(L);return ce?ce.fontFamily:null},x.currentItemFontFamily||l.rk),onChange:function(L){return P(L)}})]})}}),(0,H.z)({name:"changeTextAlign",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,p.iB)(P)){var U=(0,T.BE)(P,{textAlign:x});return(0,p.oN)(U,(0,X.tl)(P)),U}return P},!0),appState:_(_({},d),{},{currentItemTextAlign:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.textAlign")}),(0,c.jsx)(j,{group:"text-align",options:[{value:"left",text:(0,u.t)("labels.left"),icon:a.rr},{value:"center",text:(0,u.t)("labels.center"),icon:a.o3},{value:"right",text:(0,u.t)("labels.right"),icon:a.oT}],value:M(d,x,function(U){if((0,p.iB)(U))return U.textAlign;var L=(0,X.WJ)(U);return L?L.textAlign:null},x.currentItemTextAlign),onChange:function(U){return P(U)}})]})}}),(0,H.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,p.iB)(P)){var U=(0,T.BE)(P,{verticalAlign:x});return(0,p.oN)(U,(0,X.tl)(P)),U}return P},!0),appState:_({},d),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData;return(0,c.jsx)("fieldset",{children:(0,c.jsx)(j,{group:"text-align",options:[{value:l.oX.TOP,text:(0,u.t)("labels.alignTop"),icon:(0,c.jsx)(a.EO,{theme:x.theme}),testId:"align-top"},{value:l.oX.MIDDLE,text:(0,u.t)("labels.centerVertically"),icon:(0,c.jsx)(a.P7,{theme:x.theme}),testId:"align-middle"},{value:l.oX.BOTTOM,text:(0,u.t)("labels.alignBottom"),icon:(0,c.jsx)(a.aA,{theme:x.theme}),testId:"align-bottom"}],value:M(d,x,function(U){if((0,p.iB)(U)&&U.containerId)return U.verticalAlign;var L=(0,X.WJ)(U);return L?L.verticalAlign:null}),onChange:function(U){return P(U)}})})}}),(0,H.z)({name:"changeRoundness",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){return(0,T.BE)(P,{roundness:x==="round"?{type:(0,te.QI)(P.type)?l.a6.ADAPTIVE_RADIUS:l.a6.PROPORTIONAL_RADIUS}:null})}),appState:_(_({},d),{},{currentItemRoundness:x}),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData,U=(0,D.Zs)((0,p.Lm)(d),x).some(function(L){var ce;return((ce=L.roundness)===null||ce===void 0?void 0:ce.type)===l.a6.LEGACY});return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.edges")}),(0,c.jsx)(j,{group:"edges",options:[{value:"sharp",text:(0,u.t)("labels.sharp"),icon:a.wr},{value:"round",text:(0,u.t)("labels.round"),icon:a.DS}],value:M(d,x,function(L){return U?null:L.roundness?"round":"sharp"},(0,D.sh)(x.activeTool.type)&&x.currentItemRoundness||null),onChange:function(L){return P(L)}})]})}}),(0,H.z)({name:"changeArrowhead",trackEvent:!1,perform:function(b,d,x){return{elements:W(b,d,function(P){if((0,te.bt)(P)){var U=x.position,L=x.type;if(U==="start")return(0,T.BE)(P,{startArrowhead:L});if(U==="end")return(0,T.BE)(P,{endArrowhead:L})}return P}),appState:_(_({},d),{},(0,y.Z)({},x.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",x.type)),commitToHistory:!0}},PanelComponent:function(b){var d=b.elements,x=b.appState,P=b.updateData,U=(0,u.G3)().rtl;return(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:(0,u.t)("labels.arrowheads")}),(0,c.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,c.jsx)(i,{label:"arrowhead_start",options:[{value:null,text:(0,u.t)("labels.arrowhead_none"),icon:a.fr,keyBinding:"q"},{value:"arrow",text:(0,u.t)("labels.arrowhead_arrow"),icon:(0,c.jsx)(a.il,{flip:!U}),keyBinding:"w"},{value:"bar",text:(0,u.t)("labels.arrowhead_bar"),icon:(0,c.jsx)(a.m,{flip:!U}),keyBinding:"e"},{value:"dot",text:(0,u.t)("labels.arrowhead_dot"),icon:(0,c.jsx)(a.tn,{flip:!U}),keyBinding:"r"},{value:"triangle",text:(0,u.t)("labels.arrowhead_triangle"),icon:(0,c.jsx)(a.j8,{flip:!U}),keyBinding:"t"}],value:M(d,x,function(L){return(0,te.bt)(L)&&(0,D.Un)(L.type)?L.startArrowhead:x.currentItemStartArrowhead},x.currentItemStartArrowhead),onChange:function(L){return P({position:"start",type:L})}}),(0,c.jsx)(i,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,u.t)("labels.arrowhead_none"),keyBinding:"q",icon:a.fr},{value:"arrow",text:(0,u.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,c.jsx)(a.il,{flip:U})},{value:"bar",text:(0,u.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,c.jsx)(a.m,{flip:U})},{value:"dot",text:(0,u.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,c.jsx)(a.tn,{flip:U})},{value:"triangle",text:(0,u.t)("labels.arrowhead_triangle"),icon:(0,c.jsx)(a.j8,{flip:U}),keyBinding:"t"}],value:M(d,x,function(L){return(0,te.bt)(L)&&(0,D.Un)(L.type)?L.endArrowhead:x.currentItemEndArrowhead},x.currentItemEndArrowhead),onChange:function(L){return P({position:"end",type:L})}})]})]})}})},4958:function(ge,Q,t){t.d(Q,{u:function(){return A}});var w=t(7169),y=t(7901),f=t(6066);function c(F,o){var z=Object.keys(F);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(F);o&&(B=B.filter(function(G){return Object.getOwnPropertyDescriptor(F,G).enumerable})),z.push.apply(z,B)}return z}function j(F){for(var o=1;o<arguments.length;o++){var z=arguments[o]!=null?arguments[o]:{};o%2?c(Object(z),!0).forEach(function(B){(0,w.Z)(F,B,z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(z)):c(Object(z)).forEach(function(B){Object.defineProperty(F,B,Object.getOwnPropertyDescriptor(z,B))})}return F}var A=(0,y.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(F,o){return{appState:j(j({},o),{},{showStats:!this.checked(o)}),commitToHistory:!1}},checked:function(F){return F.showStats},contextItemLabel:"stats.title",keyTest:function(F){return!F[f.tW.CTRL_OR_CMD]&&F.altKey&&F.code===f.aU.SLASH}})},5654:function(ge,Q,t){t.d(Q,{FL:function(){return _t},vD:function(){return Br},yA:function(){return C},BZ:function(){return u},mo:function(){return H.mo},uN:function(){return Tt.uN},jK:function(){return Tt.jK},FA:function(){return Tt.FA},pw:function(){return x},ZM:function(){return Tt.ZM},X9:function(){return w.X},xF:function(){return fe},pL:function(){return re},jl:function(){return dt},kt:function(){return gt},EQ:function(){return xe},nz:function(){return Dr.nz},_d:function(){return O._d},W3:function(){return P},ns:function(){return O.ns},Yy:function(){return p},V:function(){return m},zi:function(){return v},jY:function(){return ce},Pb:function(){return lr},Qs:function(){return cn},iL:function(){return _r},u0:function(){return $t.u},Zp:function(){return H.Zp},JN:function(){return Ft},y7:function(){return Nr},s:function(){return Oe},zp:function(){return Tt.zp}});var w=t(533),y=t(1930),f=t(1935),c=t(242),j=t(75),A=t(1564),F=t(6340),o=function(V,he){for(var je=[],_e=[],Ge=null,Qe=-1,bt=(0,F.xn)((0,j.eD)(V,he,!0));++Qe<V.length;)bt.get(V[Qe].id)?(_e.length&&(je=je.concat(_e),_e=[]),je.push(Qe),Ge=Qe+1):V[Qe].isDeleted&&Ge===Qe?(Ge=Qe+1,_e.push(Qe)):_e=[];return je},z=function(V,he,je){if("containerId"in V&&V.containerId){if(je!=="left")return he.indexOf(V);var _e=A.Z.getScene(V).getElement(V.containerId);if(_e)return he.indexOf(_e)}else{var Ge,Qe,bt=(Ge=V.boundElements)===null||Ge===void 0||(Qe=Ge.find(function(ct){return ct.type!=="arrow"}))===null||Qe===void 0?void 0:Qe.id;if(bt){if(je==="left")return he.indexOf(V);var xt=A.Z.getScene(V).getElement(bt);if(xt)return he.indexOf(xt)}}},B=function(V,he){return he.reduce(function(je,_e){var Ge=V[_e];return je[Ge.id]=Ge,je},{})},G=function(V,he,je){var _e,Ge,Qe=o(he,V),bt=B(he,Qe),xt=(Ge=0,(_e=Qe).reduce(function(ct,Rt,mt){return mt>0&&_e[mt-1]!==Rt-1&&(Ge=++Ge),(ct[Ge]||(ct[Ge]=[])).push(Rt),ct},[]));return je==="right"&&(xt=xt.reverse()),xt.forEach(function(ct,Rt){var mt=ct[0],Gt=ct[ct.length-1],er=je==="left"?mt:Gt,Ut=function(pr,ar,kr,Ir){var Ar,Zr=ar[kr],pt=function(Mr){return!Mr.isDeleted&&(!pr.editingGroupId||Mr.groupIds.includes(pr.editingGroupId))},jr=Ir==="left"?(0,F.qr)(ar,pt,Math.max(0,kr-1)):(0,F.cx)(ar,pt,kr+1),sr=ar[jr];if(!sr)return-1;if(pr.editingGroupId){var zr;if((Zr==null?void 0:Zr.groupIds.join(""))===(sr==null?void 0:sr.groupIds.join("")))return(zr=z(sr,ar,Ir))!==null&&zr!==void 0?zr:jr;if(sr==null||!sr.groupIds.includes(pr.editingGroupId))return-1}if(!sr.groupIds.length)return(Ar=z(sr,ar,Ir))!==null&&Ar!==void 0?Ar:jr;var Yr=pr.editingGroupId?sr.groupIds[sr.groupIds.indexOf(pr.editingGroupId)-1]:sr.groupIds[sr.groupIds.length-1],Er=(0,c.Fb)(ar,Yr);return Er.length?Ir==="left"?ar.indexOf(Er[0]):ar.indexOf(Er[Er.length-1]):jr}(V,he,er,je);if(Ut!==-1&&er!==Ut){var tr=je==="left"?he.slice(0,Ut):he.slice(0,mt),Ht=he.slice(mt,Gt+1),It=je==="left"?he.slice(Ut,mt):he.slice(Gt+1,Ut+1),mr=je==="left"?he.slice(Gt+1):he.slice(Ut+1);he=je==="left"?[].concat((0,y.Z)(tr),(0,y.Z)(Ht),(0,y.Z)(It),(0,y.Z)(mr)):[].concat((0,y.Z)(tr),(0,y.Z)(It),(0,y.Z)(Ht),(0,y.Z)(mr))}}),he.map(function(ct){return bt[ct.id]?(0,f.ZP)(ct):ct})},le=function(V,he,je){var _e,Ge,Qe=o(V,he),bt=B(V,Qe),xt=[];if(je==="left"){if(he.editingGroupId){var ct=(0,c.Fb)(V,he.editingGroupId);if(!ct.length)return V;_e=V.indexOf(ct[0])}else _e=0;Ge=Qe[Qe.length-1]}else{if(he.editingGroupId){var Rt=(0,c.Fb)(V,he.editingGroupId);if(!Rt.length)return V;Ge=V.indexOf(Rt[Rt.length-1])}else Ge=V.length-1;_e=Qe[0]}for(var mt=_e;mt<Ge+1;mt++)Qe.includes(mt)||xt.push(V[mt]);var Gt=Object.values(bt).map(function(tr){return(0,f.ZP)(tr)}),er=V.slice(0,_e),Ut=V.slice(Ge+1);return je==="left"?[].concat((0,y.Z)(er),(0,y.Z)(Gt),xt,(0,y.Z)(Ut)):[].concat((0,y.Z)(er),xt,(0,y.Z)(Gt),(0,y.Z)(Ut))},k=function(V,he){return G(he,V,"left")},se=function(V,he){return G(he,V,"right")},pe=function(V,he){return le(V,he,"left")},Ee=function(V,he){return le(V,he,"right")},ie=t(6066),de=t(8211),ye=t(7901),I=t(3646),J=t(2335),g=t(4512),m=(0,ye.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(V,he){return{elements:k(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&!V.shiftKey&&V.code===ie.aU.BRACKET_LEFT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return he(null)},title:"".concat((0,de.t)("labels.sendBackward"),"  ").concat((0,F.uY)("CtrlOrCmd+[")),children:I.Gc})}}),C=(0,ye.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(V,he){return{elements:se(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&!V.shiftKey&&V.code===ie.aU.BRACKET_RIGHT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return he(null)},title:"".concat((0,de.t)("labels.bringForward"),"  ").concat((0,F.uY)("CtrlOrCmd+]")),children:I.t5})}}),v=(0,ye.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(V,he){return{elements:pe(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(V){return J.Um?V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.BRACKET_LEFT:V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&V.code===ie.aU.BRACKET_LEFT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return he(null)},title:"".concat((0,de.t)("labels.sendToBack"),"  ").concat(J.Um?(0,F.uY)("CtrlOrCmd+Alt+["):(0,F.uY)("CtrlOrCmd+Shift+[")),children:I.pw})}}),u=(0,ye.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(V,he){return{elements:Ee(V,he),appState:he,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(V){return J.Um?V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.BRACKET_RIGHT:V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&V.code===ie.aU.BRACKET_RIGHT},PanelComponent:function(V){var he=V.updateData;return V.appState,(0,g.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(je){return he(null)},title:"".concat((0,de.t)("labels.bringToFront"),"  ").concat(J.Um?(0,F.uY)("CtrlOrCmd+Alt+]"):(0,F.uY)("CtrlOrCmd+Shift+]")),children:I.IN})}}),s=t(7169),n=t(1047),e=t(1974),i=t(6938);function a(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function l(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?a(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):a(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var p=(0,ye.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(V,he,je,_e){if(he.editingLinearElement)return!1;var Ge=V.reduce(function(Qe,bt){return bt.isDeleted||(0,n.iB)(bt)&&bt.containerId||bt.locked||(Qe[bt.id]=!0),Qe},{});return{appState:(0,c.bO)(l(l({},he),{},{selectedLinearElement:Object.keys(Ge).length===1&&(0,e.bt)(V[0])?new i._(V[0],_e.scene):null,editingGroupId:null,selectedElementIds:Ge}),(0,n.Lm)(V)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.key===ie.tW.A}}),T=t(1319),X=t(8290),te=t(5710);function R(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function D(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?R(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):R(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var fe=(0,ye.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(V,he){if(he.editingLinearElement){var je=i._.duplicateSelectedPoints(he);return!!je&&{elements:V,appState:je.appState,commitToHistory:!0}}return D(D({},q(V,he)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.key===ie.tW.D},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{type:"button",icon:I.NA,title:"".concat((0,de.t)("labels.duplicateSelection"),"  ").concat((0,F.uY)("CtrlOrCmd+D")),"aria-label":(0,de.t)("labels.duplicateSelection"),onClick:function(){return _e(null)},visible:(0,j.N)((0,n.Lm)(he),je)})}}),q=function(V,he){for(var je=new Map,_e=[],Ge=[],Qe=new Map,bt=function(Ut){var tr=(0,n.Sy)(he.editingGroupId,je,Ut,{x:Ut.x+J.k/2,y:Ut.y+J.k/2});return Qe.set(Ut.id,tr.id),Ge.push(Ut),_e.push(tr),tr},xt=[],ct=0,Rt=(0,F.xn)((0,j.eD)(V,he,!0));ct<V.length;){var mt=V[ct];if(Rt.get(mt.id)){if(mt.groupIds.length){var Gt=(0,c.yO)(he,mt);if(Gt){var er=(0,c.Fb)(V,Gt);xt.push.apply(xt,(0,y.Z)(er).concat((0,y.Z)(er.map(function(Ut){return bt(Ut)})))),ct+=er.length;continue}}xt.push(mt,bt(mt))}else xt.push(mt);ct++}return(0,te.P7)(xt,Ge,Qe),(0,X.ek)(xt,Ge,Qe),{elements:xt,appState:(0,c.bO)(D(D({},he),{},{selectedGroupIds:{},selectedElementIds:_e.reduce(function(Ut,tr){return(0,e.Xh)(tr)||(Ut[tr.id]=!0),Ut},{})}),(0,n.Lm)(xt))}},H=(t(6208),t(2416)),h=t(2577),_=t(6552);function W(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function M(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?W(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):W(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var re=(0,ye.z)({name:"finalize",trackEvent:!1,perform:function(V,he,je,_e){var Ge,Qe=_e.canvas,bt=_e.focusContainer,xt=_e.scene;if(he.editingLinearElement){var ct=he.editingLinearElement,Rt=ct.elementId,mt=ct.startBindingElement,Gt=ct.endBindingElement,er=i._.getElement(Rt);if(er)return(0,e.Mn)(er)&&(0,X.HG)(er,mt,Gt),{elements:er.points.length<2||(0,n.QD)(er)?V.filter(function(sr){return sr.id!==er.id}):void 0,appState:M(M({},he),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Ut=V,tr=he.pendingImageElementId&&xt.getElement(he.pendingImageElementId);tr&&(0,f.DR)(tr,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&bt();var Ht,It=he.multiElement?he.multiElement:((Ge=he.editingElement)===null||Ge===void 0?void 0:Ge.type)==="freedraw"?he.editingElement:null;if(It){if(It.type!=="freedraw"&&he.lastPointerDownWith!=="touch"){var mr=It.points,pr=It.lastCommittedPoint;pr&&mr[mr.length-1]===pr||(0,f.DR)(It,{points:It.points.slice(0,-1)})}(0,n.QD)(It)&&(Ut=Ut.slice(0,-1));var ar=(0,_.g6)(It.points,he.zoom.value);if((It.type==="line"||It.type==="freedraw")&&ar){var kr=It.points,Ir=kr[0];(0,f.DR)(It,{points:kr.map(function(sr,zr){return zr===kr.length-1?[Ir[0],Ir[1]]:sr})})}if((0,e.Mn)(It)&&!ar&&It.points.length>1){var Ar=i._.getPointAtIndexGlobalCoordinates(It,-1),Zr=(0,h.Z)(Ar,2),pt=Zr[0],jr=Zr[1];(0,X.R)(It,he,A.Z.getScene(It),{x:pt,y:jr})}he.activeTool.locked||he.activeTool.type==="freedraw"||(he.selectedElementIds[It.id]=!0)}return(he.activeTool.locked||he.activeTool.type==="freedraw")&&It||(0,F.z8)(Qe),Ht=he.activeTool.type==="eraser"?(0,F.Om)(he,M(M({},he.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,F.Om)(he,{type:"selection"}),{elements:Ut,appState:M(M({},he),{},{cursorButton:"up",activeTool:(he.activeTool.locked||he.activeTool.type==="freedraw")&&It?he.activeTool:Ht,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:It&&!he.activeTool.locked&&he.activeTool.type!=="freedraw"?M(M({},he.selectedElementIds),{},(0,s.Z)({},It.id,!0)):he.selectedElementIds,selectedLinearElement:It&&(0,e.bt)(It)?new i._(It,xt):he.selectedLinearElement,pendingImageElementId:null}),commitToHistory:he.activeTool.type==="freedraw"}},keyTest:function(V,he){return V.key===ie.tW.ESCAPE&&(he.editingLinearElement!==null||!he.draggingElement&&he.multiElement===null)||(V.key===ie.tW.ESCAPE||V.key===ie.tW.ENTER)&&he.multiElement!==null},PanelComponent:function(V){var he=V.appState,je=V.updateData,_e=V.data;return(0,g.jsx)(T.V,{type:"button",icon:I.$c,title:(0,de.t)("buttons.done"),"aria-label":(0,de.t)("buttons.done"),onClick:je,visible:he.multiElement!=null,size:(_e==null?void 0:_e.size)||"medium"})}}),O=t(8671);function S(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function b(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?S(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):S(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var d="{}",x=(0,ye.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(V,he){var je=[],_e=V.find(function(Qe){return he.selectedElementIds[Qe.id]});if(je.push(_e),_e&&(0,e.Xo)(_e)){var Ge=(0,te.WJ)(_e);je.push(Ge)}return _e&&(d=JSON.stringify(je)),{appState:b(b({},he),{},{toast:{message:(0,de.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.C}}),P=(0,ye.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(V,he){var je=JSON.parse(d),_e=je[0],Ge=je[1];if(!(0,n.r2)(_e))return{elements:V,commitToHistory:!1};var Qe=(0,j.eD)(V,he,!0),bt=Qe.map(function(xt){return xt.id});return{elements:V.map(function(xt){if(bt.includes(xt.id)){var ct,Rt,mt,Gt,er,Ut,tr,Ht=_e;if((0,n.iB)(xt)&&xt.containerId&&(Ht=Ge),!Ht)return xt;var It=(0,f.BE)(xt,{backgroundColor:(ct=Ht)===null||ct===void 0?void 0:ct.backgroundColor,strokeWidth:(Rt=Ht)===null||Rt===void 0?void 0:Rt.strokeWidth,strokeColor:(mt=Ht)===null||mt===void 0?void 0:mt.strokeColor,strokeStyle:(Gt=Ht)===null||Gt===void 0?void 0:Gt.strokeStyle,fillStyle:(er=Ht)===null||er===void 0?void 0:er.fillStyle,opacity:(Ut=Ht)===null||Ut===void 0?void 0:Ut.opacity,roughness:(tr=Ht)===null||tr===void 0?void 0:tr.roughness,roundness:Ht.roundness?(0,e.eK)(Ht.roundness.type,xt)?Ht.roundness:(0,e.UQ)(xt):null});if((0,n.iB)(It)){var mr,pr,ar,kr=null;(It=(0,f.BE)(It,{fontSize:((mr=Ht)===null||mr===void 0?void 0:mr.fontSize)||J.n5,fontFamily:((pr=Ht)===null||pr===void 0?void 0:pr.fontFamily)||J.rk,textAlign:((ar=Ht)===null||ar===void 0?void 0:ar.textAlign)||J.Hg})).containerId&&(kr=Qe.find(function(Ir){return(0,n.iB)(It)&&Ir.id===It.containerId})||null),(0,n.oN)(It,kr)}return It.type==="arrow"&&(It=(0,f.BE)(It,{startArrowhead:Ht.startArrowhead,endArrowhead:Ht.endArrowhead})),It}return xt}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.V}});function U(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function L(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?U(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):U(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}(0,ye.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(V,he){return{appState:L(L({},he),{},{openMenu:he.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(V){var he=V.appState,je=V.updateData;return(0,g.jsx)(T.V,{type:"button",icon:I.RY,"aria-label":(0,de.t)("buttons.menu"),onClick:je,selected:he.openMenu==="canvas"})}}),(0,ye.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(V,he){return{appState:L(L({},he),{},{openMenu:he.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{visible:(0,n.RT)(je,(0,n.Lm)(he)),type:"button",icon:I.DG,"aria-label":(0,de.t)("buttons.edit"),onClick:_e,selected:je.openMenu==="shape"})}}),(0,ye.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(V){return!(0,F.rB)()}},perform:function(){return(0,F.rB)()||(0,F.wo)(),(0,F.rB)()&&(0,F.Pr)(),{commitToHistory:!1}},keyTest:function(V){return V.key===ie.tW.F&&!V[ie.tW.CTRL_OR_CMD]}});var ce=(0,ye.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(V,he,je,_e){var Ge=_e.focusContainer;return he.openDialog==="help"&&Ge(),{appState:L(L({},he),{},{openDialog:he.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(V){return V.key===ie.tW.QUESTION_MARK}}),ae=t(6655),ue=t(6954);function Ce(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Pe(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Ce(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Ce(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}function N(V,he){var je=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!je){if(Array.isArray(V)||(je=function(ct,Rt){if(ct){if(typeof ct=="string")return Y(ct,Rt);var mt=Object.prototype.toString.call(ct).slice(8,-1);if(mt==="Object"&&ct.constructor&&(mt=ct.constructor.name),mt==="Map"||mt==="Set")return Array.from(ct);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return Y(ct,Rt)}}(V))||he){je&&(V=je);var _e=0,Ge=function(){};return{s:Ge,n:function(){return _e>=V.length?{done:!0}:{done:!1,value:V[_e++]}},e:function(ct){throw ct},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe,bt=!0,xt=!1;return{s:function(){je=je.call(V)},n:function(){var ct=je.next();return bt=ct.done,ct},e:function(ct){xt=!0,Qe=ct},f:function(){try{bt||je.return==null||je.return()}finally{if(xt)throw Qe}}}}function Y(V,he){(he==null||he>V.length)&&(he=V.length);for(var je=0,_e=new Array(he);je<he;je++)_e[je]=V[je];return _e}var $=function(V,he){var je=(0,j.eD)((0,n.Lm)(V),he,!0);return je.length>=2&&!function(_e){if(_e.length>=2){var Ge,Qe=N(_e[0].groupIds);try{var bt=function(){var ct=Ge.value;if(_e.reduce(function(Rt,mt){return Rt&&(0,c.Nd)(mt,ct)},!0))return{v:!0}};for(Qe.s();!(Ge=Qe.n()).done;){var xt=bt();if((0,ae.Z)(xt)==="object")return xt.v}}catch(ct){Qe.e(ct)}finally{Qe.f()}}return!1}(je)},xe=(0,ye.z)({name:"group",trackEvent:{category:"element"},perform:function(V,he){var je=(0,j.eD)((0,n.Lm)(V),he,!0);if(je.length<2)return{appState:he,elements:V,commitToHistory:!1};var _e=(0,c.iJ)(he);if(_e.length===1){var Ge=_e[0],Qe=new Set((0,c.Fb)(V,Ge).map(function(It){return It.id})),bt=new Set(je.map(function(It){return It.id}));if(new Set([].concat((0,y.Z)(Array.from(Qe)),(0,y.Z)(Array.from(bt)))).size===Qe.size)return{appState:he,elements:V,commitToHistory:!1}}var xt=(0,ue.kb)(),ct=(0,F.xn)(je),Rt=V.map(function(It){return ct.get(It.id)?(0,f.BE)(It,{groupIds:(0,c.S_)(It.groupIds,xt,he.editingGroupId)}):It}),mt=(0,c.Fb)(Rt,xt),Gt=mt[mt.length-1],er=Rt.lastIndexOf(Gt),Ut=Rt.slice(er+1),tr=Rt.slice(0,er).filter(function(It){return!(0,c.Nd)(It,xt)}),Ht=[].concat((0,y.Z)(tr),(0,y.Z)(mt),(0,y.Z)(Ut));return{appState:(0,c.F$)(xt,Pe(Pe({},he),{},{selectedGroupIds:{}}),(0,n.Lm)(Ht)),elements:Ht,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(V,he){return $(V,he)},keyTest:function(V){return!V.shiftKey&&V[ie.tW.CTRL_OR_CMD]&&V.key===ie.tW.G},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!$(he,je),type:"button",icon:(0,g.jsx)(I.BF,{theme:je.theme}),onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.group"),"  ").concat((0,F.uY)("CtrlOrCmd+G")),"aria-label":(0,de.t)("labels.group"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),Oe=(0,ye.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(V,he){if((0,c.iJ)(he).length===0)return{appState:he,elements:V,commitToHistory:!1};var je=[],_e=V.map(function(Qe){(0,e.Xh)(Qe)&&je.push(Qe.id);var bt=(0,c.h6)(Qe.groupIds,he.selectedGroupIds);return bt.length===Qe.groupIds.length?Qe:(0,f.BE)(Qe,{groupIds:bt})}),Ge=(0,c.bO)(Pe(Pe({},he),{},{selectedGroupIds:{}}),(0,n.Lm)(_e));return je.forEach(function(Qe){return Ge.selectedElementIds[Qe]=!1}),{appState:Ge,elements:_e,commitToHistory:!0}},keyTest:function(V){return V.shiftKey&&V[ie.tW.CTRL_OR_CMD]&&V.key===ie.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(V,he){return(0,c.iJ)(he).length>0},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{type:"button",hidden:(0,c.iJ)(je).length===0,icon:(0,g.jsx)(I.RJ,{theme:je.theme}),onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.ungroup"),"  ").concat((0,F.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,de.t)("labels.ungroup"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),Ze=t(8982),Fe=t(487),Je=t.n(Fe),Ke=t(631),Be=t.n(Ke),Le=t(2052),ne=t.n(Le),me=t(4010),ve=t.n(me),we=t(1469),Me=t.n(we),Te=t(9329),ze=t.n(Te),We=t(3729),He={};He.styleTagTransform=ze(),He.setAttributes=ve(),He.insert=ne().bind(null,"head"),He.domAPI=Be(),He.insertStyleElement=Me(),Je()(We.Z,He),We.Z&&We.Z.locals&&We.Z.locals;var Ye=t(9787),et=function(V){var he=V.color,je=V.onClick,_e=V.name,Ge=V.src,Qe=(0,Ze.f)(_e),bt=(0,Ye.useState)(!1),xt=(0,h.Z)(bt,2),ct=xt[0],Rt=xt[1],mt=!ct&&Ge,Gt=mt?void 0:{background:he};return(0,g.jsx)("div",{className:"Avatar",style:Gt,onClick:je,children:mt?(0,g.jsx)("img",{className:"Avatar-img",src:Ge,alt:Qe,referrerPolicy:"no-referrer",onError:function(){return Rt(!0)}}):Qe})},it=t(2264);function $e(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function tt(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?$e(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):$e(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}(0,ye.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(V,he,je){var _e=je;return _e?{appState:tt(tt(tt({},he),(0,it.s)({scenePoint:_e,viewportDimensions:{width:he.width,height:he.height},zoom:he.zoom})),{},{openMenu:he.openMenu==="canvas"?null:he.openMenu}),commitToHistory:!1}:{appState:he,commitToHistory:!1}},PanelComponent:function(V){var he=V.appState,je=V.updateData,_e=V.data,Ge=(0,h.Z)(_e,2),Qe=Ge[0],bt=Ge[1],xt=(0,Ze.X)(Qe,he),ct=xt.background,Rt=xt.stroke;return(0,g.jsx)(et,{color:ct,border:Rt,onClick:function(){return je(bt.pointer)},name:bt.username||"",src:bt.avatarUrl})}});var st=t(2791);function Et(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Pt(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Et(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Et(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var _t=(0,ye.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(V,he,je,_e){var Ge=(0,j.eD)((0,n.Lm)(V),he,!0);return Ge.some(function(Qe){return Qe.type==="image"})?{commitToHistory:!1,appState:Pt(Pt({},he),{},{errorMessage:"Support for adding images to the library coming soon!"})}:_e.library.getLatestLibrary().then(function(Qe){return _e.library.setLibrary([{id:(0,ue.kb)(),status:"unpublished",elements:Ge.map(st.OL),created:Date.now()}].concat((0,y.Z)(Qe)))}).then(function(){return{commitToHistory:!1,appState:Pt(Pt({},he),{},{toast:{message:(0,de.t)("toast.addedToLibrary")}})}}).catch(function(Qe){return{commitToHistory:!1,appState:Pt(Pt({},he),{},{errorMessage:Qe.message})}})},contextItemLabel:"labels.addToLibrary"}),vt=t(8925);function yt(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function ft(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?yt(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):yt(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var St=function(V,he,je){var _e=je.axis,Ge=je.position,Qe=(0,vt.v2)(V),bt=_e==="x"?["minX","maxX"]:["minY","maxY"],xt=(0,h.Z)(bt,2),ct=xt[0],Rt=xt[1],mt={x:0,y:0};return ft(ft({},mt),{},Ge==="start"?(0,s.Z)({},_e,he[ct]-Qe[ct]):Ge==="end"?(0,s.Z)({},_e,he[Rt]-Qe[Rt]):(0,s.Z)({},_e,(he[ct]+he[Rt])/2-(Qe[ct]+Qe[Rt])/2))},Yt=function(V,he){return(0,j.eD)((0,n.Lm)(V),he).length>1},qt=function(V,he,je){var _e=function(Qe,bt){var xt=(0,c.AI)(Qe),ct=(0,vt.v2)(Qe);return xt.flatMap(function(Rt){var mt=St(Rt,ct,bt);return Rt.map(function(Gt){return(0,f.BE)(Gt,{x:Gt.x+mt.x,y:Gt.y+mt.y})})})}((0,j.eD)((0,n.Lm)(V),he),je),Ge=(0,F.xn)(_e);return V.map(function(Qe){return Ge.get(Qe.id)||Qe})};(0,ye.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ie.tW.ARROW_UP},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:I.Ct,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignTop"),"  ").concat((0,F.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,de.t)("labels.alignTop"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),(0,ye.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ie.tW.ARROW_DOWN},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:I.HL,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignBottom"),"  ").concat((0,F.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,de.t)("labels.alignBottom"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),(0,ye.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ie.tW.ARROW_LEFT},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:I.xs,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignLeft"),"  ").concat((0,F.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,de.t)("labels.alignLeft"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),(0,ye.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&V.key===ie.tW.ARROW_RIGHT},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:I.mh,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.alignRight"),"  ").concat((0,F.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,de.t)("labels.alignRight"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),(0,ye.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:I.ST,onClick:function(){return _e(null)},title:(0,de.t)("labels.centerVertically"),"aria-label":(0,de.t)("labels.centerVertically"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),(0,ye.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:qt(V,he,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Yt(he,je),type:"button",icon:I.gK,onClick:function(){return _e(null)},title:(0,de.t)("labels.centerHorizontally"),"aria-label":(0,de.t)("labels.centerHorizontally"),visible:(0,j.N)((0,n.Lm)(he),je)})}});function Ct(V,he){var je=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!je){if(Array.isArray(V)||(je=function(ct,Rt){if(ct){if(typeof ct=="string")return At(ct,Rt);var mt=Object.prototype.toString.call(ct).slice(8,-1);if(mt==="Object"&&ct.constructor&&(mt=ct.constructor.name),mt==="Map"||mt==="Set")return Array.from(ct);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return At(ct,Rt)}}(V))||he){je&&(V=je);var _e=0,Ge=function(){};return{s:Ge,n:function(){return _e>=V.length?{done:!0}:{done:!1,value:V[_e++]}},e:function(ct){throw ct},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe,bt=!0,xt=!1;return{s:function(){je=je.call(V)},n:function(){var ct=je.next();return bt=ct.done,ct},e:function(ct){xt=!0,Qe=ct},f:function(){try{bt||je.return==null||je.return()}finally{if(xt)throw Qe}}}}function At(V,he){(he==null||he>V.length)&&(he=V.length);for(var je=0,_e=new Array(he);je<he;je++)_e[je]=V[je];return _e}var Ne=function(V,he){return(0,j.eD)((0,n.Lm)(V),he).length>1},Ue=function(V,he,je){var _e=function(Qe,bt){var xt,ct=bt.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Rt=(0,h.Z)(ct,4),mt=Rt[0],Gt=Rt[1],er=Rt[2],Ut=Rt[3],tr=(0,vt.v2)(Qe),Ht=(0,c.AI)(Qe).map(function(pt){return[pt,(0,vt.v2)(pt)]}).sort(function(pt,jr){return pt[1][Gt]-jr[1][Gt]}),It=0,mr=Ct(Ht);try{for(mr.s();!(xt=mr.n()).done;)It+=xt.value[1][Ut]}catch(pt){mr.e(pt)}finally{mr.f()}var pr=(tr[Ut]-It)/(Ht.length-1);if(pr<0){var ar=Ht.findIndex(function(pt){return pt[1][mt]===tr[mt]}),kr=Ht.findIndex(function(pt){return pt[1][er]===tr[er]}),Ir=(Ht[kr][1][Gt]-Ht[ar][1][Gt])/(Ht.length-1),Ar=Ht[ar][1][Gt];return Ht.flatMap(function(pt,jr){var sr=(0,h.Z)(pt,2),zr=sr[0],Yr=sr[1],Er={x:0,y:0};return jr!==ar&&jr!==kr&&(Ar+=Ir,Er[bt.axis]=Ar-Yr[Gt]),zr.map(function(Mr){return(0,f.BE)(Mr,{x:Mr.x+Er.x,y:Mr.y+Er.y})})})}var Zr=tr[mt];return Ht.flatMap(function(pt){var jr=(0,h.Z)(pt,2),sr=jr[0],zr=jr[1],Yr={x:0,y:0};return Yr[bt.axis]=Zr-zr[mt],Zr+=pr,Zr+=zr[Ut],sr.map(function(Er){return(0,f.BE)(Er,{x:Er.x+Yr.x,y:Er.y+Yr.y})})})}((0,j.eD)((0,n.Lm)(V),he),je),Ge=(0,F.xn)(_e);return V.map(function(Qe){return Ge.get(Qe.id)||Qe})},ot=((0,ye.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:Ue(V,he,{axis:"x"}),commitToHistory:!0}},keyTest:function(V){return!V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.H},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Ne(he,je),type:"button",icon:I.uD,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.distributeHorizontally"),"  ").concat((0,F.uY)("Alt+H")),"aria-label":(0,de.t)("labels.distributeHorizontally"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),(0,ye.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(V,he){return{appState:he,elements:Ue(V,he,{axis:"y"}),commitToHistory:!0}},keyTest:function(V){return!V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.V},PanelComponent:function(V){var he=V.elements,je=V.appState,_e=V.updateData;return(0,g.jsx)(T.V,{hidden:!Ne(he,je),type:"button",icon:I.W5,onClick:function(){return _e(null)},title:"".concat((0,de.t)("labels.distributeVertically"),"  ").concat((0,F.uY)("Alt+V")),"aria-label":(0,de.t)("labels.distributeVertically"),visible:(0,j.N)((0,n.Lm)(he),je)})}}),t(8634)),at=t(267),dt=(0,ye.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(V,he){return{elements:jt(V,he,"horizontal"),appState:he,commitToHistory:!0}},keyTest:function(V){return V.shiftKey&&V.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",predicate:function(V,he){return function(je,_e){var Ge=(0,j.eD)((0,n.Lm)(je),_e);return Ge.length===1&&Ge[0].type!=="text"}(V,he)}}),gt=(0,ye.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(V,he){return{elements:jt(V,he,"vertical"),appState:he,commitToHistory:!0}},keyTest:function(V){return V.shiftKey&&V.code==="KeyV"&&!V[ie.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function(V,he){return function(je,_e){return(0,j.eD)((0,n.Lm)(je),_e).length===1}(V,he)}}),jt=function(V,he,je){var _e=(0,j.eD)((0,n.Lm)(V),he);if(_e.length>1)return V;var Ge=Ot(_e,he,je),Qe=(0,F.xn)(Ge);return V.map(function(bt){return Qe.get(bt.id)||bt})},Ot=function(V,he,je){return V.forEach(function(_e){Zt(_e,he),je==="vertical"&&Bt(_e,Math.PI)}),V},Zt=function(V,he){var je=V.x,_e=V.y,Ge=V.width,Qe=V.height,bt=(0,ot.LW)(V.angle);(0,f.DR)(V,{angle:(0,ot.LW)(0)});var xt=(0,at.PC)(V,he.zoom),ct=!0,Rt=xt.nw;if(Rt||(ct=!1,Rt=xt.ne)){var mt,Gt=0;(0,e.bt)(V)&&V.points.length<3&&(Gt=2*V.points.reduce(function(ar,kr){return Math.max(ar,kr[0])},0)-V.width),(0,e.bt)(V)&&(mt=(0,vt.Ut)(V,V.points));var er=(0,vt.qf)(V);if((0,e.bt)(V)&&V.points.length<3){for(var Ut=1;Ut<V.points.length;Ut++)i._.movePoints(V,[{index:Ut,point:[-V.points[Ut][0],V.points[Ut][1]]}]);i._.normalizePoints(V)}else{var tr=mt?mt[2]-mt[0]:er[2]-er[0],Ht=mt?[mt[0],mt[1]]:[er[0],er[1]];(0,ot.l2)(new Map().set(V.id,V),!1,V,ct?"nw":"ne",!0,ct?Ht[0]+tr:Ht[0]-tr,Ht[1])}var It=(0,ot.LW)(2*Math.PI-bt);if(It<0&&(It=(0,ot.LW)(It+2*Math.PI)),(0,f.DR)(V,{angle:It}),(0,f.DR)(V,{x:je+Gt,y:_e,width:Ge,height:Qe}),(0,X.Ww)(V),mt&&(0,e.bt)(V)){var mr=(0,vt.Ut)(V,V.points),pr=mt[0]-mr[0]+(mt[2]-mr[2]);(0,f.DR)(V,{x:V.x+.5*pr,y:V.y,width:Ge,height:Qe})}}else(0,f.DR)(V,{angle:bt})},Bt=function(V,he){var je=V.x,_e=V.y,Ge=(0,ot.LW)(V.angle+he);Ge<0&&(Ge=(0,ot.LW)(2*Math.PI+Ge)),(0,f.DR)(V,{angle:Ge}),(0,f.DR)(V,{x:je,y:_e})},Tt=t(4688);function Jt(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function nr(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Jt(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Jt(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var lr=(0,ye.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(V){return!V.gridSize}},perform:function(V,he){return{appState:nr(nr({},he),{},{gridSize:this.checked(he)?null:J.k}),commitToHistory:!1}},checked:function(V){return V.gridSize!==null},predicate:function(V,he,je){return je.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(V){return V[ie.tW.CTRL_OR_CMD]&&V.code===ie.aU.QUOTE}});function or(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function zt(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?or(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):or(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var Ft=(0,ye.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(V){return!V.zenModeEnabled}},perform:function(V,he){return{appState:zt(zt({},he),{},{zenModeEnabled:!this.checked(he)}),commitToHistory:!1}},checked:function(V){return V.zenModeEnabled},predicate:function(V,he,je){return je.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(V){return!V[ie.tW.CTRL_OR_CMD]&&V.altKey&&V.code===ie.aU.Z}}),$t=t(4958),ir=t(6906);function wr(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Rr(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?wr(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):wr(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var Nr=(0,ye.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(V,he){return(0,j.eD)(V,he).some(function(je){return(0,e.Xo)(je)})},perform:function(V,he){return(0,j.eD)((0,n.Lm)(V),he).forEach(function(je){var _e=(0,te.WJ)(je);if(_e){var Ge,Qe=(0,te.X1)(_e.originalText,(0,F.mO)(_e)),bt=Qe.width,xt=Qe.height,ct=Qe.baseline,Rt=(0,ir.eR)(je.id);(0,ir.kT)(je.id),(0,f.DR)(_e,{containerId:null,width:bt,height:xt,baseline:ct,text:_e.originalText}),(0,f.DR)(je,{boundElements:(Ge=je.boundElements)===null||Ge===void 0?void 0:Ge.filter(function(mt){return mt.id!==_e.id}),height:Rt||je.height})}}),{elements:V,appState:he,commitToHistory:!0}}}),Br=(0,ye.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(V,he){var je=(0,j.eD)(V,he);if(je.length===2){var _e,Ge=(0,n.iB)(je[0])||(0,n.iB)(je[1]);if((0,e.mG)(je[0])?_e=je[0]:(0,e.mG)(je[1])&&(_e=je[1]),Ge&&_e&&(0,te.WJ)(_e)===null)return!0}return!1},perform:function(V,he){var je,_e,Ge=(0,j.eD)((0,n.Lm)(V),he);(0,n.iB)(Ge[0])&&(0,e.mG)(Ge[1])?(je=Ge[0],_e=Ge[1]):(je=Ge[1],_e=Ge[0]),(0,f.DR)(je,{containerId:_e.id,verticalAlign:J.oX.MIDDLE}),(0,f.DR)(_e,{boundElements:(_e.boundElements||[]).concat({type:"text",id:je.id})}),(0,te.oN)(je,_e);var Qe=V.slice(),bt=Qe.findIndex(function(ct){return ct.id===je.id});Qe.splice(bt,1);var xt=Qe.findIndex(function(ct){return ct.id===_e.id});return Qe.splice(xt+1,0,je),{elements:Qe,appState:Rr(Rr({},he),{},{selectedElementIds:(0,s.Z)({},_e.id,!0)}),commitToHistory:!0}}}),Dr=t(4929);function ur(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Ur(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?ur(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):ur(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var _r=(0,ye.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(V,he){var je=(0,j.eD)(V,he,!0);if(!je.length)return!1;var _e=Lr(je),Ge=(0,F.xn)(je),Qe=_e==="lock";return{elements:V.map(function(bt){return Ge.has(bt.id)?(0,f.BE)(bt,{locked:Qe}):bt}),appState:Ur(Ur({},he),{},{selectedLinearElement:Qe?null:he.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(V,he){var je=(0,j.eD)(V,he,!1);return je.length===1?je[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":Lr(je)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(V,he,je){return V.key.toLocaleLowerCase()===ie.tW.L&&V[ie.tW.CTRL_OR_CMD]&&V.shiftKey&&(0,j.eD)(je,he,!1).length>0}}),Lr=function(V){return V.some(function(he){return!he.locked})?"lock":"unlock"};function Kr(V,he){var je=Object.keys(V);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(V);he&&(_e=_e.filter(function(Ge){return Object.getOwnPropertyDescriptor(V,Ge).enumerable})),je.push.apply(je,_e)}return je}function Hr(V){for(var he=1;he<arguments.length;he++){var je=arguments[he]!=null?arguments[he]:{};he%2?Kr(Object(je),!0).forEach(function(_e){(0,s.Z)(V,_e,je[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(je)):Kr(Object(je)).forEach(function(_e){Object.defineProperty(V,_e,Object.getOwnPropertyDescriptor(je,_e))})}return V}var cn=(0,ye.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(V,he){var je=(0,j.eD)(V,he);return!(je.length!==1||!(0,e.bt)(je[0]))},perform:function(V,he,je,_e){var Ge,Qe=(0,j.eD)((0,n.Lm)(V),he,!0)[0],bt=((Ge=he.editingLinearElement)===null||Ge===void 0?void 0:Ge.elementId)===Qe.id?null:new i._(Qe,_e.scene);return{appState:Hr(Hr({},he),{},{editingLinearElement:bt}),commitToHistory:!1}},contextItemLabel:function(V,he){var je,_e=(0,j.eD)((0,n.Lm)(V),he,!0)[0];return((je=he.editingLinearElement)===null||je===void 0?void 0:je.elementId)===_e.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(ge,Q,t){t.d(Q,{N:function(){return w},z:function(){return y}});var w=[],y=function(f){return w=w.concat(f),f}},785:function(ge,Q,t){t.d(Q,{C:function(){return j}});var w=t(2335),y=t(8211),f=t(6340),c={toggleTheme:[(0,f.uY)("Shift+Alt+D")],saveScene:[(0,f.uY)("CtrlOrCmd+S")],loadScene:[(0,f.uY)("CtrlOrCmd+O")],imageExport:[(0,f.uY)("CtrlOrCmd+Shift+E")],cut:[(0,f.uY)("CtrlOrCmd+X")],copy:[(0,f.uY)("CtrlOrCmd+C")],paste:[(0,f.uY)("CtrlOrCmd+V")],copyStyles:[(0,f.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,f.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,f.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,f.uY)("Delete")],duplicateSelection:[(0,f.uY)("CtrlOrCmd+D"),(0,f.uY)("Alt+".concat((0,y.t)("helpDialog.drag")))],sendBackward:[(0,f.uY)("CtrlOrCmd+[")],bringForward:[(0,f.uY)("CtrlOrCmd+]")],sendToBack:[w.Um?(0,f.uY)("CtrlOrCmd+Alt+["):(0,f.uY)("CtrlOrCmd+Shift+[")],bringToFront:[w.Um?(0,f.uY)("CtrlOrCmd+Alt+]"):(0,f.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,f.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,f.uY)("CtrlOrCmd+G")],ungroup:[(0,f.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,f.uY)("CtrlOrCmd+'")],zenMode:[(0,f.uY)("Alt+Z")],stats:[(0,f.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,f.uY)("Shift+H")],flipVertical:[(0,f.uY)("Shift+V")],viewMode:[(0,f.uY)("Alt+R")],hyperlink:[(0,f.uY)("CtrlOrCmd+K")],toggleLock:[(0,f.uY)("CtrlOrCmd+Shift+L")]},j=function(A){var F=c[A];return F&&F.length>0?F[0]:""}},7047:function(ge,Q,t){var w,y;t.d(Q,{L:function(){return f}});var f=typeof process<"u"&&(w={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&w!==void 0&&w.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window<"u"&&window.gtag?function(c,j,A,F){try{window.gtag("event",j,{event_category:c,event_label:A,value:F})}catch(o){console.error("error logging to ga",o)}}:(typeof process<"u"&&(y={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&y!==void 0&&y.JEST_WORKER_ID,function(c,j,A,F){})},8897:function(ge,Q,t){t.d(Q,{EN:function(){return G},eS:function(){return B},im:function(){return A},l$:function(){return le},s:function(){return z}});var w=t(5284),y=t(2335),f=t(8211),c=t(6340),j=y.ZB.includes(devicePixelRatio)?devicePixelRatio:1,A=function(){return{showWelcomeScreen:!1,theme:y.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:y.rk,currentItemFontSize:y.n5,currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:w.black,currentItemRoundness:"round",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:y.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:!1,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:j,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,f.t)("labels.untitled"),"-").concat((0,c.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:w.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},F={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},o=function(k,se){for(var pe={},Ee=0,ie=Object.keys(k);Ee<ie.length;Ee++){var de=ie[Ee],ye=F[de];if(ye!=null&&ye[se]){var I=k[de];pe[de]=I}}return pe},z=function(k){return o(k,"export")},B=function(k){return o(k,"server")},G=function(k){return k.activeTool.type==="eraser"},le=function(k){return k.activeTool.type==="hand"}},5674:function(ge,Q,t){t.d(Q,{dz:function(){return I},i$:function(){return Ee},ps:function(){return v}});var w=t(1930),y=t(7169),f=t(2577),c=t(56),j=t(2335),A=t(1047),F=t(6954);function o(u,s){var n=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!n){if(Array.isArray(u)||(n=function(T,X){if(T){if(typeof T=="string")return z(T,X);var te=Object.prototype.toString.call(T).slice(8,-1);if(te==="Object"&&T.constructor&&(te=T.constructor.name),te==="Map"||te==="Set")return Array.from(T);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return z(T,X)}}(u))||s){n&&(u=n);var e=0,i=function(){};return{s:i,n:function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}},e:function(T){throw T},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,l=!0,p=!1;return{s:function(){n=n.call(u)},n:function(){var T=n.next();return l=T.done,T},e:function(T){p=!0,a=T},f:function(){try{l||n.return==null||n.return()}finally{if(p)throw a}}}}function z(u,s){(s==null||s>u.length)&&(s=u.length);for(var n=0,e=new Array(s);n<s;n++)e[n]=u[n];return e}function B(u,s){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);s&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(u,i).enumerable})),n.push.apply(n,e)}return n}function G(u){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?B(Object(n),!0).forEach(function(e){(0,y.Z)(u,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(n,e))})}return u}var le=32,k=12,se=256,pe="NOT_SPREADSHEET",Ee="VALID_SPREADSHEET",ie=function(u){var s=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(u);return s?parseFloat("".concat((s[1]||s[2])+s[3]).replace(/,/g,"")):null},de=function(u,s){return u.slice(1).every(function(n){return ie(n[s])!==null})},ye=function(u){var s=u[0].length;if(s>2)return{type:pe,reason:"More than 2 columns"};if(s===1){if(!de(u,0))return{type:pe,reason:"Value is not numeric"};var n=ie(u[0][0])===null,e=(n?u.slice(1):u).map(function(D){return ie(D[0])});return e.length<2?{type:pe,reason:"Less than two rows"}:{type:Ee,spreadsheet:{title:n?u[0][0]:null,labels:null,values:e}}}var i=de(u,0),a=de(u,1);if(!i&&!a)return{type:pe,reason:"Value is not numeric"};var l=a?[0,1]:[1,0],p=(0,f.Z)(l,2),T=p[0],X=p[1],te=ie(u[0][X])===null,R=te?u.slice(1):u;return R.length<2?{type:pe,reason:"Less than 2 rows"}:{type:Ee,spreadsheet:{title:te?u[0][X]:null,labels:R.map(function(D){return D[T]}),values:R.map(function(D){return ie(D[X])})}}},I=function(u){var s=u.trim().split(`
`).map(function(a){return a.trim().split("	")});if(s.length&&s[0].length!==2&&(s=u.trim().split(`
`).map(function(a){return a.trim().split(",")})),s.length===0)return{type:pe,reason:"No values"};var n=s[0].length;if(!s.every(function(a){return a.length===n}))return{type:pe,reason:"All rows don't have same number of columns"};var e=ye(s);if(e.type!==Ee){var i=ye(function(a){for(var l=[],p=0;p<a[0].length;p++){for(var T=[],X=0;X<a.length;X++)T.push(a[X][p]);l.push(T)}return l}(s));if(i.type===Ee)return i}return e},J=c.Z.elementBackground.slice(2,c.Z.elementBackground.length),g={fillStyle:"hachure",fontFamily:j.rk,fontSize:j.n5,opacity:100,roughness:1,strokeColor:c.Z.elementStroke[0],roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:j.oX.MIDDLE,locked:!1},m=function(u){return{chartWidth:44*u.values.length+k,chartHeight:280}},C=function(u,s,n,e,i,a){var l=m(u),p=l.chartWidth,T=l.chartHeight,X=u.title?(0,A.VL)(G(G({backgroundColor:i,groupIds:[e]},g),{},{text:u.title,x:s+p/2,y:n-se-24-j.n5,roundness:null,strokeStyle:"solid",textAlign:"center"})):null,te=a?(0,A.Up)(G(G({backgroundColor:i,groupIds:[e]},g),{},{type:"rectangle",x:s,y:n-T,width:p,height:T,strokeColor:c.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,w.Z)(te?[te]:[]),(0,w.Z)(X?[X]:[]),(0,w.Z)(function(R,D,fe,q,H){var h;return((h=R.labels)===null||h===void 0?void 0:h.map(function(_,W){return(0,A.VL)(G(G({groupIds:[q],backgroundColor:H},g),{},{text:_.length>8?"".concat(_.slice(0,5),"..."):_,x:D+44*W+24,y:fe+6,width:le,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(u,s,n,e,i)),(0,w.Z)(function(R,D,fe,q,H){var h=(0,A.VL)(G(G({groupIds:[q],backgroundColor:H},g),{},{x:D-k,y:fe-k,text:"0",textAlign:"right"}));return[h,(0,A.VL)(G(G({groupIds:[q],backgroundColor:H},g),{},{x:D-k,y:fe-se-h.height/2,text:Math.max.apply(Math,(0,w.Z)(R.values)).toLocaleString(),textAlign:"right"}))]}(u,s,n,e,i)),(0,w.Z)(function(R,D,fe,q,H){var h=m(R),_=h.chartWidth,W=h.chartHeight;return[(0,A.y8)(G(G({backgroundColor:H,groupIds:[q]},g),{},{type:"line",x:D,y:fe,startArrowhead:null,endArrowhead:null,width:_,points:[[0,0],[_,0]]})),(0,A.y8)(G(G({backgroundColor:H,groupIds:[q]},g),{},{type:"line",x:D,y:fe,startArrowhead:null,endArrowhead:null,height:W,points:[[0,0],[0,-280]]})),(0,A.y8)(G(G({backgroundColor:H,groupIds:[q]},g),{},{type:"line",x:D,y:fe-se-k,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:_,opacity:50,points:[[0,0],[_,0]]}))]}(u,s,n,e,i)))},v=function(u,s,n,e){return u==="line"?function(i,a,l){var p,T=Math.max.apply(Math,(0,w.Z)(i.values)),X=(0,F.kb)(),te=J[Math.floor(Math.random()*J.length)],R=0,D=[],fe=o(i.values);try{for(fe.s();!(p=fe.n()).done;){var q=p.value,H=44*R,h=-q/T*se;D.push([H,h]),R++}}catch(d){fe.e(d)}finally{fe.f()}var _=Math.max.apply(Math,(0,w.Z)(D.map(function(d){return d[0]}))),W=Math.max.apply(Math,(0,w.Z)(D.map(function(d){return d[1]}))),M=Math.min.apply(Math,(0,w.Z)(D.map(function(d){return d[0]}))),re=Math.min.apply(Math,(0,w.Z)(D.map(function(d){return d[1]}))),O=(0,A.y8)(G(G({backgroundColor:te,groupIds:[X]},g),{},{type:"line",x:a+k+16,y:l-k,startArrowhead:null,endArrowhead:null,height:W-re,width:_-M,strokeWidth:2,points:D})),S=i.values.map(function(d,x){var P=44*x+6,U=-d/T*se+6;return(0,A.Up)(G(G({backgroundColor:te,groupIds:[X]},g),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:a+P+16,y:l+U-24,width:k,height:k}))}),b=i.values.map(function(d,x){var P=44*x+6,U=d/T*se+6+k;return(0,A.y8)(G(G({backgroundColor:te,groupIds:[X]},g),{},{type:"line",x:a+P+16+6,y:l-U,startArrowhead:null,endArrowhead:null,height:U,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,U]]}))});return[].concat((0,w.Z)(C(i,a,l,X,te,j.Vi.DEVELOPMENT==="production")),[O],(0,w.Z)(b),(0,w.Z)(S))}(s,n,e):function(i,a,l){var p=Math.max.apply(Math,(0,w.Z)(i.values)),T=(0,F.kb)(),X=J[Math.floor(Math.random()*J.length)],te=i.values.map(function(R,D){var fe=R/p*se;return(0,A.Up)(G(G({backgroundColor:X,groupIds:[T]},g),{},{type:"rectangle",x:a+44*D+k,y:l-fe-k,width:le,height:fe}))});return[].concat((0,w.Z)(te),(0,w.Z)(C(i,a,l,T,X,j.Vi.DEVELOPMENT==="production")))}(s,n,e)}},8982:function(ge,Q,t){t.d(Q,{X:function(){return y},f:function(){return f}});var w=t(56),y=function(c,j){if(j!=null&&j.collaborators){var A=j.collaborators.get(c);if(A!=null&&A.color)return A.color}var F=c.split("").reduce(function(B,G){return B+G.charCodeAt(0)},0),o=w.Z.elementBackground.slice(3),z=w.Z.elementStroke.slice(3);return{background:o[F%o.length],stroke:z[F%z.length]}},f=function(c){return c?c.trim()[0].toUpperCase():"?"}},6665:function(ge,Q,t){t.d(Q,{dd:function(){return C},mQ:function(){return g},uR:function(){return m},vQ:function(){return de},vt:function(){return Ee},wx:function(){return pe}});var w=t(7169),y=t(8950),f=t(2975),c=t.n(f),j=t(4162),A=t(5674),F=t(2335),o=t(1974),z=t(6340);function B(u,s){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);s&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(u,i).enumerable})),n.push.apply(n,e)}return n}function G(u){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?B(Object(n),!0).forEach(function(e){(0,w.Z)(u,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(n,e))})}return u}var le="",k=!1,se="clipboard"in navigator&&"readText"in navigator.clipboard,pe="clipboard"in navigator&&"writeText"in navigator.clipboard,Ee="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ie=function(u){return!(![F.r8.excalidraw,F.r8.excalidrawClipboard].includes(u==null?void 0:u.type)||!Array.isArray(u.elements))},de=function(){var u=(0,y.Z)(c().mark(function s(n,e,i){var a,l;return c().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a={type:F.r8.excalidrawClipboard,elements:n,files:i?n.reduce(function(T,X){return(0,o.wi)(X)&&i[X.fileId]&&(T[X.fileId]=i[X.fileId]),T},{}):void 0},l=JSON.stringify(a),le=l,p.prev=3,k=!1,p.next=7,C(l);case 7:p.next=13;break;case 9:p.prev=9,p.t0=p.catch(3),k=!0,console.error(p.t0);case 13:case"end":return p.stop()}},s,null,[[3,9]])}));return function(s,n,e){return u.apply(this,arguments)}}(),ye=function(){if(!le)return{};try{return JSON.parse(le)}catch(u){return console.error(u),{}}},I=function(u){var s=(0,A.dz)(u);return s.type===A.i$?{spreadsheet:s.spreadsheet}:null},J=function(){var u=(0,y.Z)(c().mark(function s(n){var e,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!n){a.next=5;break}a.t0=(e=n.clipboardData)===null||e===void 0?void 0:e.getData("text/plain"),a.next=11;break;case 5:if(a.t1=se,!a.t1){a.next=10;break}return a.next=9,navigator.clipboard.readText();case 9:a.t1=a.sent;case 10:a.t0=a.t1;case 11:return i=a.t0,a.abrupt("return",(i||"").trim());case 15:return a.prev=15,a.t2=a.catch(0),a.abrupt("return","");case 18:case"end":return a.stop()}},s,null,[[0,15]])}));return function(s){return u.apply(this,arguments)}}(),g=function(){var u=(0,y.Z)(c().mark(function s(n){var e,i,a,l,p,T=arguments;return c().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return e=T.length>1&&T[1]!==void 0&&T[1],X.next=3,J(n);case 3:if((i=X.sent)&&(e||!i.includes(j.oj))){X.next=6;break}return X.abrupt("return",ye());case 6:if(!(a=!e&&I(i))){X.next=9;break}return X.abrupt("return",a);case 9:if(l=ye(),X.prev=10,p=JSON.parse(i),!ie(p)){X.next=14;break}return X.abrupt("return",{elements:p.elements,files:p.files,text:e?JSON.stringify(p.elements,null,2):void 0});case 14:X.next=18;break;case 16:X.prev=16,X.t0=X.catch(10);case 18:return X.abrupt("return",k&&l.elements?G(G({},l),{},{text:e?JSON.stringify(l.elements,null,2):void 0}):{text:i});case 19:case"end":return X.stop()}},s,null,[[10,16]])}));return function(s){return u.apply(this,arguments)}}(),m=function(){var u=(0,y.Z)(c().mark(function s(n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,w.Z)({},F.LO.png,n))]);case 3:case 21:e.next=24;break;case 5:if(e.prev=5,e.t0=e.catch(0),!(0,z.y8)(n)){e.next=23;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=w.Z,e.t4={},e.t5=F.LO.png,e.next=15,n;case 15:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=21,e.t1.write.call(e.t1,e.t9);case 23:throw e.t0;case 24:case"end":return e.stop()}},s,null,[[0,5]])}));return function(s){return u.apply(this,arguments)}}(),C=function(){var u=(0,y.Z)(c().mark(function s(n){var e;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=!1,!pe){i.next=11;break}return i.prev=2,i.next=5,navigator.clipboard.writeText(n||"");case 5:e=!0,i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),console.error(i.t0);case 11:if(e||v(n||" ")){i.next=13;break}throw new Error("couldn't copy");case 13:case"end":return i.stop()}},s,null,[[2,8]])}));return function(s){return u.apply(this,arguments)}}(),v=function(u){var s=document.documentElement.getAttribute("dir")==="rtl",n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[s?"right":"left"]="-9999px";var e=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(e,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=u,document.body.appendChild(n);var i=!1;try{n.select(),n.setSelectionRange(0,n.value.length),i=document.execCommand("copy")}catch(a){console.error(a)}return n.remove(),i}},56:function(ge,Q,t){var w=t(1930),y=t(5284),f=function(c){return[y.red[c],y.pink[c],y.grape[c],y.violet[c],y.indigo[c],y.blue[c],y.cyan[c],y.teal[c],y.green[c],y.lime[c],y.yellow[c],y.orange[c]]};Q.Z={canvasBackground:[y.white,y.gray[0],y.gray[1]].concat((0,w.Z)(f(0))),elementBackground:["transparent",y.gray[4],y.gray[6]].concat((0,w.Z)(f(6))),elementStroke:[y.black,y.gray[8],y.gray[7]].concat((0,w.Z)(f(9)))}},6798:function(ge,Q,t){t.d(Q,{o:function(){return z},w:function(){return o}});var w=t(2577),y=t(4739),f=t(5654),c=t(8211),j=t(4206),A=t(7046),F=t(4512),o=(0,y.cn)(null),z=function(){var B=(0,y.KO)(o),G=(0,w.Z)(B,2),le=G[0],k=G[1],se=(0,j.eh)();return le&&le==="clearCanvas"?(0,F.jsx)(A.Z,{onConfirm:function(){se.executeAction(f.mo),k(null)},onCancel:function(){return k(null)},title:(0,c.t)("clearCanvasDialog.title"),children:(0,F.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,c.t)("alerts.clearReset")]})}):null}},4206:function(ge,Q,t){t.d(Q,{ZP:function(){return la},Fy:function(){return en},eh:function(){return aa},gF:function(){return yo},J0:function(){return Hn},bd:function(){return Wn},n9:function(){return Fn}});var w=t(6655),y=t(2577),f=t(1930),c=t(8950),j=t(8821),A=t(5169),F=t(3173),o=t(2248),z=t(7245),B=t(2312),G=t(7169),le=t(2975),k=t.n(le),se=t(9787),pe=t.n(se),Ee=t(5156),ie=t(8234),de=t(45),ye=t(5605),I=t(5654),J=t(3646),g=t(1319),m=t(8211),C=t(6066),v=t(1935),u=t(8290),s=t(6340),n=t(2335),e=t(4512);function i(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function a(r){for(var E=1;E<arguments.length;E++){var K=arguments[E]!=null?arguments[E]:{};E%2?i(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):i(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var l=function(r,E,K){var oe=!1;if(!(E.multiElement||E.resizingElement||E.editingElement||E.draggingElement)){var Se=K();if(Se===null)return{commitToHistory:oe};var ee=(0,s.xn)(r),Z=Se.elements,be=(0,s.xn)(Z),ke=r.filter(function(De){return!be.has(De.id)}),Ie=Z.map(function(De){return(0,v.BE)(ee.get(De.id)||De,De)}).concat(ke.map(function(De){return(0,v.BE)(De,{isDeleted:!0})}));return(0,u.$q)(Ie,ke),{elements:Ie,appState:a(a({},E),Se.appState),commitToHistory:oe,syncHistory:!0}}return{commitToHistory:oe}},p=t(7047),T=function(r,E,K,oe,Se,ee){if(r.trackEvent)try{(0,w.Z)(r.trackEvent)==="object"&&(!r.trackEvent.predicate||r.trackEvent.predicate(K,oe,ee))&&(0,p.L)(r.trackEvent.category,r.trackEvent.action||r.name,"".concat(E," (").concat(Se.device.isMobile?"mobile":"desktop",")"))}catch(Z){console.error("error while logging action:",Z)}},X=function(){function r(E,K,oe,Se){var ee=this;(0,j.Z)(this,r),this.actions={},this.renderAction=function(Z,be){var ke=ee.app.props.UIOptions.canvasActions;if(ee.actions[Z]&&"PanelComponent"in ee.actions[Z]&&(!(Z in ke)||ke[Z])){var Ie=ee.actions[Z],De=Ie.PanelComponent;De.displayName="PanelComponent";var Ae=ee.getElementsIncludingDeleted(),Re=ee.getAppState();return(0,e.jsx)(De,{elements:ee.getElementsIncludingDeleted(),appState:ee.getAppState(),updateData:function(Xe){T(Ie,"ui",Re,Ae,ee.app,Xe),ee.updater(Ie.perform(ee.getElementsIncludingDeleted(),ee.getAppState(),Xe,ee.app))},appProps:ee.app.props,data:be})}return null},this.isActionEnabled=function(Z){var be=ee.getElementsIncludingDeleted(),ke=ee.getAppState();return!Z.predicate||Z.predicate(be,ke,ee.app.props,ee.app)},this.updater=function(Z){if(!Z||!("then"in Z))return E(Z);Z.then(function(be){return E(be)})},this.getAppState=K,this.getElementsIncludingDeleted=oe,this.app=Se}return(0,A.Z)(r,[{key:"registerAction",value:function(E){this.actions[E.name]=E}},{key:"registerAll",value:function(E){var K=this;E.forEach(function(oe){return K.registerAction(oe)})}},{key:"handleKeyDown",value:function(E){var K=this,oe=this.app.props.UIOptions.canvasActions,Se=Object.values(this.actions).sort(function(ke,Ie){return(Ie.keyPriority||0)-(ke.keyPriority||0)}).filter(function(ke){return(!(ke.name in oe)||oe[ke.name])&&ke.keyTest&&ke.keyTest(E,K.getAppState(),K.getElementsIncludingDeleted())});if(Se.length!==1)return Se.length>1&&console.warn("Canceling as multiple actions match this shortcut",Se),!1;var ee=Se[0];if(this.getAppState().viewModeEnabled&&ee.viewMode!==!0)return!1;var Z=this.getElementsIncludingDeleted(),be=this.getAppState();return T(ee,"keyboard",be,Z,this.app,null),E.preventDefault(),E.stopPropagation(),this.updater(Se[0].perform(Z,be,null,this.app)),!0}},{key:"executeAction",value:function(E){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",oe=this.getElementsIncludingDeleted(),Se=this.getAppState(),ee=null;T(E,K,Se,oe,this.app,ee),this.updater(E.perform(oe,Se,ee,this.app))}}]),r}(),te=t(7901),R=t(8897),D=t(6665),fe=t(9485),q=t(7053),H=t(679),h=t(1047),_=t(6938),W=t(2791),M=t(1974),re=function(r){var E=Array.from(r.values());return{x:S(E,function(K){return K.x})/E.length,y:S(E,function(K){return K.y})/E.length}},O=function(r){var E=(0,y.Z)(r,2),K=E[0],oe=E[1];return Math.hypot(K.x-oe.x,K.y-oe.y)},S=function(r,E){return r.reduce(function(K,oe){return K+E(oe)},0)},b=t(242);function d(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function x(r){for(var E=1;E<arguments.length;E++){var K=arguments[E]!=null?arguments[E]:{};E%2?d(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):d(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var P=function(r){return{selectedElementIds:r.selectedElementIds,selectedGroupIds:r.selectedGroupIds,viewBackgroundColor:r.viewBackgroundColor,editingLinearElement:r.editingLinearElement,editingGroupId:r.editingGroupId,name:r.name}},U=function(){function r(){var E=this;(0,j.Z)(this,r),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(K,oe){return E.dehydrateHistoryEntry({appState:P(K),elements:oe.reduce(function(Se,ee){if((0,M.bt)(ee)&&K.multiElement&&K.multiElement.id===ee.id){if(K.multiElement&&K.multiElement.id===ee.id&&ee.points.length<2)return Se;Se.push(x(x({},ee),{},{points:ee.lastCommittedPoint!==ee.points[ee.points.length-1]?ee.points.slice(0,-1):ee.points}))}else Se.push(ee);return Se},[])})}}return(0,A.Z)(r,[{key:"hydrateHistoryEntry",value:function(E){var K=this,oe=E.appState,Se=E.elements;return{appState:JSON.parse(oe),elements:Se.map(function(ee){var Z,be=(Z=K.elementCache.get(ee.id))===null||Z===void 0?void 0:Z.get(ee.versionNonce);if(!be)throw new Error("Element not found: ".concat(ee.id,":").concat(ee.versionNonce));return be})}}},{key:"dehydrateHistoryEntry",value:function(E){var K=this,oe=E.appState,Se=E.elements;return{appState:JSON.stringify(oe),elements:Se.map(function(ee){K.elementCache.has(ee.id)||K.elementCache.set(ee.id,new Map);var Z=K.elementCache.get(ee.id);return Z.has(ee.versionNonce)||Z.set(ee.versionNonce,(0,W.OL)(ee)),{id:ee.id,versionNonce:ee.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var E=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(K){return E.hydrateHistoryEntry(K)}),redoStack:this.redoStack.map(function(K){return E.hydrateHistoryEntry(K)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(E){var K,oe=this.lastEntry;if(!oe||E.elements.length!==oe.elements.length)return!0;for(var Se=E.elements.length-1;Se>-1;Se--){var ee=E.elements[Se],Z=oe.elements[Se];if(!ee||!Z||ee.id!==Z.id||ee.versionNonce!==Z.versionNonce)return!0}for(K in E.appState){var be,ke;if(!(K==="editingLinearElement"&&((be=E.appState[K])===null||be===void 0?void 0:be.elementId)===((ke=oe.appState[K])===null||ke===void 0?void 0:ke.elementId))&&K!=="selectedElementIds"&&K!=="selectedGroupIds"&&E.appState[K]!==oe.appState[K])return!0}return!1}},{key:"pushEntry",value:function(E,K){var oe=this.generateEntry(E,K),Se=this.hydrateHistoryEntry(oe);if(Se){if(!this.shouldCreateEntry(Se))return;this.stateHistory.push(oe),this.lastEntry=Se,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var E=this.redoStack.pop();return E!==void 0?(this.stateHistory.push(E),this.hydrateHistoryEntry(E)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var E=this.stateHistory.pop(),K=this.stateHistory[this.stateHistory.length-1];return E!==void 0?(this.redoStack.push(E),this.hydrateHistoryEntry(K)):null}},{key:"setCurrentState",value:function(E,K){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(E,K))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(E,K){this.recording&&(this.pushEntry(E,K),this.recording=!1)}}]),r}(),L=t(6552),ce=t(3547),ae=t(3063),ue=t(75),Ce=t(1564),Pe=t(746),N=[{icon:J.zu,value:"selection",key:C.tW.V,numericKey:C.tW[1],fillable:!0},{icon:J.OW,value:"rectangle",key:C.tW.R,numericKey:C.tW[2],fillable:!0},{icon:J.nb,value:"diamond",key:C.tW.D,numericKey:C.tW[3],fillable:!0},{icon:J.Re,value:"ellipse",key:C.tW.O,numericKey:C.tW[4],fillable:!0},{icon:J.e0,value:"arrow",key:C.tW.A,numericKey:C.tW[5],fillable:!0},{icon:J.zb,value:"line",key:C.tW.L,numericKey:C.tW[6],fillable:!0},{icon:J.Pm,value:"freedraw",key:[C.tW.P,C.tW.X],numericKey:C.tW[7],fillable:!1},{icon:J.VL,value:"text",key:C.tW.T,numericKey:C.tW[8],fillable:!1},{icon:J.XB,value:"image",key:null,numericKey:C.tW[9],fillable:!1},{icon:J.$q,value:"eraser",key:C.tW.E,numericKey:C.tW[0],fillable:!1}],Y=t(2891),$=t(487),xe=t.n($),Oe=t(631),Ze=t.n(Oe),Fe=t(2052),Je=t.n(Fe),Ke=t(4010),Be=t.n(Ke),Le=t(1469),ne=t.n(Le),me=t(9329),ve=t.n(me),we=t(6578),Me={};Me.styleTagTransform=ve(),Me.setAttributes=Be(),Me.insert=Je().bind(null,"head"),Me.domAPI=Ze(),Me.insertStyleElement=ne(),xe()(we.Z,Me),we.Z&&we.Z.locals&&we.Z.locals;var Te=t(785),ze="separator",We=pe().memo(function(r){var E=r.actionManager,K=r.items,oe=r.top,Se=r.left,ee=yo(),Z=Fn(),be=Wn(),ke=K.reduce(function(Ie,De){return!De||De!==ze&&De.predicate&&!De.predicate(be,ee,E.app.props,E.app)||Ie.push(De),Ie},[]);return(0,e.jsx)(Y.J,{onCloseRequest:function(){return Z({contextMenu:null})},top:oe,left:Se,fitInViewport:!0,offsetLeft:ee.offsetLeft,offsetTop:ee.offsetTop,viewportWidth:ee.width,viewportHeight:ee.height,children:(0,e.jsx)("ul",{className:"context-menu",onContextMenu:function(Ie){return Ie.preventDefault()},children:ke.map(function(Ie,De){var Ae;if(Ie===ze)return ke[De-1]&&ke[De-1]!==ze?(0,e.jsx)("hr",{className:"context-menu-item-separator"},De):null;var Re=Ie.name,Xe="";return Ie.contextItemLabel&&(Xe=typeof Ie.contextItemLabel=="function"?(0,m.t)(Ie.contextItemLabel(be,ee)):(0,m.t)(Ie.contextItemLabel)),(0,e.jsx)("li",{"data-testid":Re,onClick:function(){Z({contextMenu:null},function(){E.executeAction(Ie,"contextMenu")})},children:(0,e.jsxs)("button",{className:(0,de.Z)("context-menu-item",{dangerous:Re==="deleteSelectedElements",checkmark:(Ae=Ie.checked)===null||Ae===void 0?void 0:Ae.call(Ie,ee)}),children:[(0,e.jsx)("div",{className:"context-menu-item__label",children:Xe}),(0,e.jsx)("kbd",{className:"context-menu-item__shortcut",children:Re?(0,Te.C)(Re):""})]})},De)})})})}),He=t(2726),Ye=t(7239),et=t(8120),it=t(6086),$e={};$e.styleTagTransform=ve(),$e.setAttributes=Be(),$e.insert=Je().bind(null,"head"),$e.domAPI=Ze(),$e.insertStyleElement=ne(),xe()(it.Z,$e),it.Z&&it.Z.locals&&it.Z.locals;var tt=t(1894),st=t(5710);function Et(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function Pt(r){for(var E=1;E<arguments.length;E++){var K=arguments[E]!=null?arguments[E]:{};E%2?Et(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):Et(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}function _t(r,E){var K=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!K){if(Array.isArray(r)||(K=function(ke,Ie){if(ke){if(typeof ke=="string")return vt(ke,Ie);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return vt(ke,Ie)}}(r))||E){K&&(r=K);var oe=0,Se=function(){};return{s:Se,n:function(){return oe>=r.length?{done:!0}:{done:!1,value:r[oe++]}},e:function(ke){throw ke},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,Z=!0,be=!1;return{s:function(){K=K.call(r)},n:function(){var ke=K.next();return Z=ke.done,ke},e:function(ke){be=!0,ee=ke},f:function(){try{Z||K.return==null||K.return()}finally{if(be)throw ee}}}}function vt(r,E){(E==null||E>r.length)&&(E=r.length);for(var K=0,oe=new Array(E);K<E;K++)oe[K]=r[K];return oe}var yt=function(r){var E,K=r.appState,oe=r.elements,Se=r.renderAction,ee=(0,ue.Zs)((0,h.Lm)(oe),K),Z=!1;ee.length===2&&((0,M.Xo)(ee[0])||(0,M.Xo)(ee[1]))&&(Z=!0);var be,ke=!!K.editingElement,Ie=en(),De=document.documentElement.getAttribute("dir")==="rtl",Ae=(0,ue.$b)(K.activeTool.type)||ee.some(function(ht){return(0,ue.$b)(ht.type)&&!(0,s.Qm)(ht.backgroundColor)}),Re=(0,ue.$b)(K.activeTool.type)||ee.some(function(ht){return(0,ue.$b)(ht.type)}),Xe=ee.length===1||Z,qe=((E=ee[0])===null||E===void 0?void 0:E.type)||null,Ve=_t(ee);try{for(Ve.s();!(be=Ve.n()).done;)if(be.value.type!==qe){qe=null;break}}catch(ht){Ve.e(ht)}finally{Ve.f()}return(0,e.jsxs)("div",{className:"panelColumn",children:[(0,e.jsx)("div",{children:((0,et.PD)(K.activeTool.type)&&K.activeTool.type!=="image"&&qe!=="image"||ee.some(function(ht){return(0,et.PD)(ht.type)}))&&Se("changeStrokeColor")}),Re&&(0,e.jsx)("div",{children:Se("changeBackgroundColor")}),Ae&&Se("changeFillStyle"),((0,ue.Zd)(K.activeTool.type)||ee.some(function(ht){return(0,ue.Zd)(ht.type)}))&&Se("changeStrokeWidth"),(K.activeTool.type==="freedraw"||ee.some(function(ht){return ht.type==="freedraw"}))&&Se("changeStrokeShape"),((0,ue.M9)(K.activeTool.type)||ee.some(function(ht){return(0,ue.M9)(ht.type)}))&&(0,e.jsxs)(e.Fragment,{children:[Se("changeStrokeStyle"),Se("changeSloppiness")]}),((0,ue.sh)(K.activeTool.type)||ee.some(function(ht){return(0,ue.sh)(ht.type)}))&&(0,e.jsx)(e.Fragment,{children:Se("changeRoundness")}),((0,ue.bZ)(K.activeTool.type)||ee.some(function(ht){return(0,ue.bZ)(ht.type)}))&&(0,e.jsxs)(e.Fragment,{children:[Se("changeFontSize"),Se("changeFontFamily"),Se("changeTextAlign")]}),(0,st.cn)(ee)&&Se("changeVerticalAlign"),((0,ue.Un)(K.activeTool.type)||ee.some(function(ht){return(0,ue.Un)(ht.type)}))&&(0,e.jsx)(e.Fragment,{children:Se("changeArrowhead")}),Se("changeOpacity"),(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("legend",{children:(0,m.t)("labels.layers")}),(0,e.jsxs)("div",{className:"buttonList",children:[Se("sendToBack"),Se("sendBackward"),Se("bringToFront"),Se("bringForward")]})]}),ee.length>1&&!Z&&(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("legend",{children:(0,m.t)("labels.align")}),(0,e.jsxs)("div",{className:"buttonList",children:[De?(0,e.jsxs)(e.Fragment,{children:[Se("alignRight"),Se("alignHorizontallyCentered"),Se("alignLeft")]}):(0,e.jsxs)(e.Fragment,{children:[Se("alignLeft"),Se("alignHorizontallyCentered"),Se("alignRight")]}),ee.length>2&&Se("distributeHorizontally"),(0,e.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,e.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[Se("alignTop"),Se("alignVerticallyCentered"),Se("alignBottom"),ee.length>2&&Se("distributeVertically")]})]})]}),!ke&&ee.length>0&&(0,e.jsxs)("fieldset",{children:[(0,e.jsx)("legend",{children:(0,m.t)("labels.actions")}),(0,e.jsxs)("div",{className:"buttonList",children:[!Ie.isMobile&&Se("duplicateSelection"),!Ie.isMobile&&Se("deleteSelectedElements"),Se("group"),Se("ungroup"),Xe&&Se("hyperlink")]})]})]})},ft=function(r){var E=r.canvas,K=r.activeTool,oe=r.setAppState,Se=r.onImageAction,ee=r.appState;return(0,e.jsx)(e.Fragment,{children:N.map(function(Z,be){var ke=Z.value,Ie=Z.icon,De=Z.key,Ae=Z.numericKey,Re=Z.fillable,Xe=(0,m.t)("toolBar.".concat(ke)),qe=De&&(0,s.Oo)(typeof De=="string"?De:De[0]),Ve=qe?"".concat(qe," ").concat((0,m.t)("helpDialog.or")," ").concat(Ae):"".concat(Ae);return(0,e.jsx)(g.V,{className:(0,de.Z)("Shape",{fillable:Re}),type:"radio",icon:Ie,checked:K.type===ke,name:"editor-current-shape",title:"".concat((0,s.Oo)(Xe),"  ").concat(Ve),keyBindingLabel:Ae||qe,"aria-label":(0,s.Oo)(Xe),"aria-keyshortcuts":Ve,"data-testid":"toolbar-".concat(ke),onPointerDown:function(ht){var lt=ht.pointerType;ee.penDetected||lt!=="pen"||oe({penDetected:!0,penMode:!0})},onChange:function(ht){var lt=ht.pointerType;ee.activeTool.type!==ke&&(0,p.L)("toolbar",ke,"ui");var kt=(0,s.Om)(ee,{type:ke});oe({activeTool:kt,multiElement:null,selectedElementIds:{}}),(0,s.Uk)(E,Pt(Pt({},ee),{},{activeTool:kt})),ke==="image"&&Se({pointerType:lt})}},ke)})})},St=function(r){var E=r.renderAction;return r.zoom,(0,e.jsx)(Ye.Z.Col,{gap:1,className:"zoom-actions",children:(0,e.jsxs)(Ye.Z.Row,{align:"center",children:[E("zoomOut"),E("resetZoom"),E("zoomIn")]})})},Yt=function(r){var E=r.renderAction,K=r.className;return(0,e.jsxs)("div",{className:"undo-redo-buttons ".concat(K),children:[(0,e.jsx)("div",{className:"undo-button-container",children:(0,e.jsx)(tt.u,{label:(0,m.t)("buttons.undo"),children:E("undo")})}),(0,e.jsx)("div",{className:"redo-button-container",children:(0,e.jsxs)(tt.u,{label:(0,m.t)("buttons.redo"),children:[" ",E("redo")]})})]})},qt=function(r){var E=r.actionManager,K=r.showExitZenModeBtn;return(0,e.jsx)("button",{className:(0,de.Z)("disable-zen-mode",{"disable-zen-mode--visible":K}),onClick:function(){return E.executeAction(I.JN)},children:(0,m.t)("buttons.exitZenMode")})},Ct=function(r){var E=r.renderAction,K=r.className;return(0,e.jsx)("div",{className:"finalize-button ".concat(K),children:E("finalize",{size:"small"})})},At=t(8396),Ne=function(r){var E=r.message,K=r.onClose,oe=(0,se.useState)(!!E),Se=(0,y.Z)(oe,2),ee=Se[0],Z=Se[1],be=Hn().container,ke=pe().useCallback(function(){Z(!1),K&&K(),be==null||be.focus()},[K,be]);return(0,e.jsx)(e.Fragment,{children:ee&&(0,e.jsx)(At.V,{small:!0,onCloseRequest:ke,title:(0,m.t)("errorDialog.title"),children:(0,e.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:E})})})},Ue=t(434),ot=t(4162),at=t(7955),dt={};dt.styleTagTransform=ve(),dt.setAttributes=Be(),dt.insert=Je().bind(null,"head"),dt.domAPI=Ze(),dt.insertStyleElement=ne(),xe()(at.Z,dt),at.Z&&at.Z.locals&&at.Z.locals;var gt=t(5284),jt=t(3807),Ot=t(1393),Zt="filter"in document.createElement("canvas").getContext("2d"),Bt=function(){return(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{children:(0,m.t)("canvasError.cannotShowPreview")}),(0,e.jsx)("p",{children:(0,e.jsx)("span",{children:(0,m.t)("canvasError.canvasTooBig")})}),(0,e.jsxs)("em",{children:["(",(0,m.t)("canvasError.canvasTooBigTip"),")"]})]})},Tt=function(r){var E,K=r.children,oe=r.title,Se=r.onClick,ee=r.color,Z=r.shade,be=Z===void 0?6:Z;return(0,e.jsx)("button",{className:"ExportDialog-imageExportButton",style:(E={},(0,G.Z)(E,"--button-color",gt[ee][be]),(0,G.Z)(E,"--button-color-darker",gt[ee][be+1]),(0,G.Z)(E,"--button-color-darkest",gt[ee][be+2]),E),title:oe,"aria-label":oe,onClick:Se,children:K})},Jt=function(r){var E=r.elements,K=r.appState,oe=r.files,Se=r.exportPadding,ee=Se===void 0?n.qy:Se,Z=r.actionManager,be=r.onExportToPng,ke=r.onExportToSvg,Ie=r.onExportToClipboard,De=(0,ue.N)(E,K),Ae=(0,se.useState)(De),Re=(0,y.Z)(Ae,2),Xe=Re[0],qe=Re[1],Ve=(0,se.useRef)(null),ht=K.exportBackground,lt=K.viewBackgroundColor,kt=(0,se.useState)(null),nt=(0,y.Z)(kt,2),Nt=nt[0],Lt=nt[1],Mt=Xe?(0,ue.eD)(E,K,!0):E;return(0,se.useEffect)(function(){qe(De)},[De]),(0,se.useEffect)(function(){var Wt=Ve.current;Wt&&(0,ot.NL)(Mt,K,oe,{exportBackground:ht,viewBackgroundColor:lt,exportPadding:ee}).then(function(wt){return Lt(null),(0,Ue._c)(wt).then(function(){Wt.replaceChildren(wt)})}).catch(function(wt){console.error(wt),Lt(wt)})},[K,oe,Mt,ht,ee,lt]),(0,e.jsxs)("div",{className:"ExportDialog",children:[(0,e.jsx)("div",{className:"ExportDialog__preview",ref:Ve,children:Nt&&(0,e.jsx)(Bt,{})}),Zt&&Z.renderAction("exportWithDarkMode"),(0,e.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[Z.renderAction("changeExportBackground"),De&&(0,e.jsx)(jt.o,{checked:Xe,onChange:function(Wt){return qe(Wt)},children:(0,m.t)("labels.onlySelected")}),Z.renderAction("changeExportEmbedScene")]})}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,e.jsx)(Ye.Z.Row,{gap:2,children:Z.renderAction("changeExportScale")}),(0,e.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,m.t)("buttons.scale")})]}),(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Ot.kr&&Z.renderAction("changeProjectName")}),(0,e.jsxs)(Ye.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,e.jsx)(Tt,{color:"indigo",title:(0,m.t)("buttons.exportToPng"),"aria-label":(0,m.t)("buttons.exportToPng"),onClick:function(){return be(Mt)},children:"PNG"}),(0,e.jsx)(Tt,{color:"red",title:(0,m.t)("buttons.exportToSvg"),"aria-label":(0,m.t)("buttons.exportToSvg"),onClick:function(){return ke(Mt)},children:"SVG"}),(D.vt||n.vU)&&(0,e.jsx)(Tt,{title:(0,m.t)("buttons.copyPngToClipboard"),onClick:function(){return Ie(Mt)},color:"gray",shade:7,children:J.BR})]})]})},nr=function(r){var E=r.elements,K=r.appState,oe=r.setAppState,Se=r.files,ee=r.exportPadding,Z=ee===void 0?n.qy:ee,be=r.actionManager,ke=r.onExportToPng,Ie=r.onExportToSvg,De=r.onExportToClipboard,Ae=pe().useCallback(function(){oe({openDialog:null})},[oe]);return(0,e.jsx)(e.Fragment,{children:K.openDialog==="imageExport"&&(0,e.jsx)(At.V,{onCloseRequest:Ae,title:(0,m.t)("buttons.exportImage"),children:(0,e.jsx)(Jt,{elements:E,appState:K,files:Se,exportPadding:Z,actionManager:be,onExportToPng:ke,onExportToSvg:Ie,onExportToClipboard:De,onCloseRequest:Ae})})})},lr=t(3195),or={};or.styleTagTransform=ve(),or.setAttributes=Be(),or.insert=Je().bind(null,"head"),or.domAPI=Ze(),or.insertStyleElement=ne(),xe()(lr.Z,or),lr.Z&&lr.Z.locals&&lr.Z.locals;var zt=function(r){var E=r.children,K=r.side,oe=r.className;return(0,e.jsx)("div",{className:(0,de.Z)("FixedSideContainer","FixedSideContainer_side_".concat(K),oe),children:E})},Ft=t(1587),$t={};$t.styleTagTransform=ve(),$t.setAttributes=Be(),$t.insert=Je().bind(null,"head"),$t.domAPI=Ze(),$t.insertStyleElement=ne(),xe()(Ft.Z,$t),Ft.Z&&Ft.Z.locals&&Ft.Z.locals;var ir=function(r){var E=function(K){var oe=K.appState,Se=K.elements,ee=K.isMobile,Z=K.device,be=oe.activeTool,ke=oe.isResizing,Ie=oe.isRotating,De=oe.lastPointerDownWith,Ae=oe.multiElement!==null;if(oe.openSidebar==="library"&&!Z.canDeviceFitSidebar)return null;if((0,R.EN)(oe))return(0,m.t)("hints.eraserRevert");if(be.type==="arrow"||be.type==="line")return Ae?(0,m.t)("hints.linearElementMulti"):(0,m.t)("hints.linearElement");if(be.type==="freedraw")return(0,m.t)("hints.freeDraw");if(be.type==="text")return(0,m.t)("hints.text");if(oe.activeTool.type==="image"&&oe.pendingImageElementId)return(0,m.t)("hints.placeImage");var Re=(0,ue.eD)(Se,oe);if(ke&&De==="mouse"&&Re.length===1){var Xe=Re[0];return(0,M.bt)(Xe)&&Xe.points.length===2?(0,m.t)("hints.lockAngle"):(0,M.pC)(Xe)?(0,m.t)("hints.resizeImage"):(0,m.t)("hints.resize")}if(Ie&&De==="mouse")return(0,m.t)("hints.rotate");if(Re.length===1&&(0,M.iB)(Re[0]))return(0,m.t)("hints.text_selected");if(oe.editingElement&&(0,M.iB)(oe.editingElement))return(0,m.t)("hints.text_editing");if(be.type==="selection"){var qe;if(((qe=oe.draggingElement)===null||qe===void 0?void 0:qe.type)==="selection"&&!oe.editingElement&&!oe.editingLinearElement)return(0,m.t)("hints.deepBoxSelect");if(!Re.length&&!ee)return(0,m.t)("hints.canvasPanning")}if(Re.length===1){if((0,M.bt)(Re[0]))return oe.editingLinearElement?oe.editingLinearElement.selectedPointsIndices?(0,m.t)("hints.lineEditor_pointSelected"):(0,m.t)("hints.lineEditor_nothingSelected"):(0,m.t)("hints.lineEditor_info");if((0,M.mG)(Re[0]))return(0,m.t)("hints.bindTextToElement")}return null}({appState:r.appState,elements:r.elements,isMobile:r.isMobile,device:r.device});return E?(E=(0,s.uY)(E),(0,e.jsx)("div",{className:"HintViewer",children:(0,e.jsx)("span",{children:E})})):null},wr=t(1881),Rr=t(5440),Nr=(t(5422),{CHECKED:J.FC,UNCHECKED:J._C}),Br=function(r){return(0,e.jsxs)("label",{className:(0,de.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":r.isMobile}),title:"".concat(r.title,"  Q"),children:[(0,e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,onChange:r.onChange,checked:r.checked,"aria-label":r.title,"data-testid":"toolbar-lock"}),(0,e.jsx)("div",{className:"ToolIcon__icon",children:r.checked?Nr.CHECKED:Nr.UNCHECKED})]})},Dr=["heading","children"];function ur(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function Ur(r){for(var E=1;E<arguments.length;E++){var K=arguments[E]!=null?arguments[E]:{};E%2?ur(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):ur(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var _r=function(r){var E=r.heading,K=r.children,oe=(0,He.Z)(r,Dr),Se=Hn().id,ee=(0,e.jsx)("h2",{className:"visually-hidden",id:"".concat(Se,"-").concat(E,"-title"),children:(0,m.t)("headings.".concat(E))});return(0,e.jsx)("section",Ur(Ur({},oe),{},{"aria-labelledby":"".concat(Se,"-").concat(E,"-title"),children:typeof K=="function"?K(ee):(0,e.jsxs)(e.Fragment,{children:[ee,K]})}))},Lr=t(756),Kr=t(2316),Hr={};Hr.styleTagTransform=ve(),Hr.setAttributes=Be(),Hr.insert=Je().bind(null,"head"),Hr.domAPI=Ze(),Hr.insertStyleElement=ne(),xe()(Kr.Z,Hr),Kr.Z&&Kr.Z.locals&&Kr.Z.locals;var cn=function(r){var E=r.appState,K=r.setAppState,oe=r.isMobile,Se=en(),ee=!oe;return E.isSidebarDocked&&E.openSidebar==="library"?null:(0,e.jsxs)("label",{title:"".concat((0,s.Oo)((0,m.t)("toolBar.library"))),children:[(0,e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(Z){var be;(be=document.querySelector(".layer-ui__wrapper"))===null||be===void 0||be.classList.remove("animate");var ke=Z.target.checked;K({openSidebar:ke?"library":null}),ke&&(0,p.L)("library","toggleLibrary (open)","toolbar (".concat(Se.isMobile?"mobile":"desktop",")"))},checked:E.openSidebar==="library","aria-label":(0,s.Oo)((0,m.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,e.jsxs)("div",{className:"library-button",children:[(0,e.jsx)("div",{children:J.Vq}),ee&&(0,e.jsx)("div",{className:"library-button__label",children:(0,m.t)("toolBar.library")})]})]})},V=function(r){return r.penDetected?(0,e.jsxs)("label",{className:(0,de.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":r.isMobile}),title:"".concat(r.title),children:[(0,e.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:r.name,onChange:r.onChange,checked:r.checked,"aria-label":r.title}),(0,e.jsx)("div",{className:"ToolIcon__icon",children:J.tb})]}):null},he=t(8925),je=t(2681),_e={};_e.styleTagTransform=ve(),_e.setAttributes=Be(),_e.insert=Je().bind(null,"head"),_e.domAPI=Ze(),_e.insertStyleElement=ne(),xe()(je.Z,_e),je.Z&&je.Z.locals&&je.Z.locals;var Ge=function(r){var E,K=(0,he.KP)(r.elements),oe=(0,ue.Zs)(r.elements,r.appState),Se=(0,he.KP)(oe);return(0,e.jsx)("div",{className:"Stats",children:(0,e.jsxs)(wr.W,{padding:2,children:[(0,e.jsx)("div",{className:"close",onClick:r.onClose,children:J.Tw}),(0,e.jsx)("h3",{children:(0,m.t)("stats.title")}),(0,e.jsx)("table",{children:(0,e.jsxs)("tbody",{children:[(0,e.jsx)("tr",{children:(0,e.jsx)("th",{colSpan:2,children:(0,m.t)("stats.scene")})}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.elements")}),(0,e.jsx)("td",{children:r.elements.length})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.width")}),(0,e.jsx)("td",{children:Math.round(K[2])-Math.round(K[0])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.height")}),(0,e.jsx)("td",{children:Math.round(K[3])-Math.round(K[1])})]}),oe.length===1&&(0,e.jsx)("tr",{children:(0,e.jsx)("th",{colSpan:2,children:(0,m.t)("stats.element")})}),oe.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("tr",{children:(0,e.jsx)("th",{colSpan:2,children:(0,m.t)("stats.selected")})}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.elements")}),(0,e.jsx)("td",{children:oe.length})]})]}),oe.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"x"}),(0,e.jsx)("td",{children:Math.round(Se[0])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"y"}),(0,e.jsx)("td",{children:Math.round(Se[1])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.width")}),(0,e.jsx)("td",{children:Math.round(Se[2]-Se[0])})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.height")}),(0,e.jsx)("td",{children:Math.round(Se[3]-Se[1])})]})]}),oe.length===1&&(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:(0,m.t)("stats.angle")}),(0,e.jsx)("td",{children:"".concat(Math.round(180*oe[0].angle/Math.PI),"")})]}),(E=r.renderCustomStats)===null||E===void 0?void 0:E.call(r,r.elements,r.appState)]})})]})})},Qe=function(r){return(0,e.jsx)(g.V,{className:(0,de.Z)("Shape",{fillable:!1}),type:"radio",icon:J.Hk,name:"editor-current-shape",checked:r.checked,title:"".concat(r.title,"  H"),keyBindingLabel:r.isMobile?void 0:C.tW.H.toLocaleUpperCase(),"aria-label":"".concat(r.title,"  H"),"aria-keyshortcuts":C.tW.H,"data-testid":"toolbar-hand",onChange:function(){var E;return(E=r.onChange)===null||E===void 0?void 0:E.call(r)}})},bt=t(8888);function xt(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var ct=function(r){var E=r.appState,K=r.elements,oe=r.actionManager,Se=r.setAppState,ee=r.onLockToggle,Z=r.onHandToolToggle,be=r.onPenModeToggle,ke=r.canvas,Ie=r.onImageAction,De=r.renderTopRightUI,Ae=r.renderCustomStats,Re=r.renderSidebars,Xe=r.device,qe=(0,bt.R6)(),Ve=qe.welcomeScreenCenterTunnel,ht=qe.mainMenuTunnel;return(0,e.jsxs)(e.Fragment,{children:[Re(),!E.viewModeEnabled&&(0,e.jsxs)(zt,{side:"top",className:"App-top-bar",children:[(0,e.jsx)(Ve.Out,{}),(0,e.jsx)(_r,{heading:"shapes",children:function(lt){return(0,e.jsx)(Ye.Z.Col,{gap:4,align:"center",children:(0,e.jsxs)(Ye.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,e.jsxs)(wr.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[lt,(0,e.jsx)(Ye.Z.Row,{gap:1,children:(0,e.jsx)(ft,{appState:E,canvas:ke,activeTool:E.activeTool,setAppState:Se,onImageAction:function(kt){var nt=kt.pointerType;Ie({insertOnCanvasDirectly:nt!=="mouse"})}})})]}),De&&De(!0,E),(0,e.jsxs)("div",{className:"mobile-misc-tools-container",children:[!E.viewModeEnabled&&(0,e.jsx)(cn,{appState:E,setAppState:Se,isMobile:!0}),(0,e.jsx)(V,{checked:E.penMode,onChange:be,title:(0,m.t)("toolBar.penMode"),isMobile:!0,penDetected:E.penDetected}),(0,e.jsx)(Br,{checked:E.activeTool.locked,onChange:ee,title:(0,m.t)("toolBar.lock"),isMobile:!0}),(0,e.jsx)(Qe,{checked:(0,R.l$)(E),onChange:function(){return Z()},title:(0,m.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,e.jsx)(ir,{appState:E,elements:K,isMobile:!0,device:Xe})]}),!E.openMenu&&E.showStats&&(0,e.jsx)(Ge,{appState:E,setAppState:Se,elements:K,onClose:function(){oe.executeAction(I.u0)},renderCustomStats:Ae}),(0,e.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Lr.nn+2*Lr.WM,marginLeft:Lr.nn+2*Lr.WM,marginRight:Lr.nn+2*Lr.WM},children:(0,e.jsxs)(wr.W,{padding:0,children:[E.openMenu==="shape"&&!E.viewModeEnabled&&(0,h.RT)(E,K)?(0,e.jsx)(_r,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,e.jsx)(yt,{appState:E,elements:K,renderAction:oe.renderAction})}):null,(0,e.jsxs)("footer",{className:"App-toolbar",children:[E.viewModeEnabled?(0,e.jsx)("div",{className:"App-toolbar-content",children:(0,e.jsx)(ht.Out,{})}):(0,e.jsxs)("div",{className:"App-toolbar-content",children:[(0,e.jsx)(ht.Out,{}),oe.renderAction("toggleEditMenu"),oe.renderAction("undo"),oe.renderAction("redo"),oe.renderAction(E.multiElement?"finalize":"duplicateSelection"),oe.renderAction("deleteSelectedElements")]}),E.scrolledOutside&&!E.openMenu&&E.openSidebar!=="library"&&(0,e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){Se(function(lt){for(var kt=1;kt<arguments.length;kt++){var nt=arguments[kt]!=null?arguments[kt]:{};kt%2?xt(Object(nt),!0).forEach(function(Nt){(0,G.Z)(lt,Nt,nt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(nt)):xt(Object(nt)).forEach(function(Nt){Object.defineProperty(lt,Nt,Object.getOwnPropertyDescriptor(nt,Nt))})}return lt}({},(0,ue.W)(K,E,ke)))},children:(0,m.t)("buttons.scrollBackToContent")})]})]})})]})},Rt=t(5674),mt=t(8461),Gt={};Gt.styleTagTransform=ve(),Gt.setAttributes=Be(),Gt.insert=Je().bind(null,"head"),Gt.domAPI=Ze(),Gt.insertStyleElement=ne(),xe()(mt.Z,Gt),mt.Z&&mt.Z.locals&&mt.Z.locals;var er=function(r){var E=(0,se.useRef)(null),K=(0,se.useState)(null),oe=(0,y.Z)(K,2),Se=oe[0],ee=oe[1];return(0,se.useLayoutEffect)(function(){if(r.spreadsheet){var Z,be=(0,Rt.ps)(r.chartType,r.spreadsheet,0,0);ee(be);var ke=E.current;return(0,c.Z)(k().mark(function Ie(){var De;return k().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,(0,ot.$D)(be,{exportBackground:!1,viewBackgroundColor:gt.white},null);case 2:Z=Ae.sent,(De=Z.querySelector(".style-fonts"))===null||De===void 0||De.remove(),ke.replaceChildren(),ke.appendChild(Z),r.selected&&ke.parentNode.focus();case 7:case"end":return Ae.stop()}},Ie)}))(),function(){ke.replaceChildren()}}},[r.spreadsheet,r.chartType,r.selected]),(0,e.jsx)("button",{className:"ChartPreview",onClick:function(){Se&&r.onClick(r.chartType,Se)},children:(0,e.jsx)("div",{ref:E})})},Ut=function(r){var E=r.setAppState,K=r.appState,oe=r.onClose,Se=r.onInsertChart,ee=pe().useCallback(function(){oe&&oe()},[oe]),Z=function(be,ke){Se(ke),(0,p.L)("magic","chart",be),E({currentChartType:be,pasteDialog:{shown:!1,data:null}})};return(0,e.jsx)(At.V,{small:!0,onCloseRequest:ee,title:(0,m.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,e.jsxs)("div",{className:"container",children:[(0,e.jsx)(er,{chartType:"bar",spreadsheet:K.pasteDialog.data,selected:K.currentChartType==="bar",onClick:Z}),(0,e.jsx)(er,{chartType:"line",spreadsheet:K.pasteDialog.data,selected:K.currentChartType==="line",onClick:Z})]})})},tr=t(2978),Ht={};Ht.styleTagTransform=ve(),Ht.setAttributes=Be(),Ht.insert=Je().bind(null,"head"),Ht.domAPI=Ze(),Ht.insertStyleElement=ne(),xe()(tr.Z,Ht),tr.Z&&tr.Z.locals&&tr.Z.locals;function It(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var mr=k().mark(Zr);function pr(r,E){var K=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!K){if(Array.isArray(r)||(K=function(ke,Ie){if(ke){if(typeof ke=="string")return ar(ke,Ie);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return ar(ke,Ie)}}(r))||E){K&&(r=K);var oe=0,Se=function(){};return{s:Se,n:function(){return oe>=r.length?{done:!0}:{done:!1,value:r[oe++]}},e:function(ke){throw ke},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,Z=!0,be=!1;return{s:function(){K=K.call(r)},n:function(){var ke=K.next();return Z=ke.done,ke},e:function(ke){be=!0,ee=ke},f:function(){try{Z||K.return==null||K.return()}finally{if(be)throw ee}}}}function ar(r,E){(E==null||E>r.length)&&(E=r.length);for(var K=0,oe=new Array(E);K<E;K++)oe[K]=r[K];return oe}var kr=function(){return(0,e.jsxs)("div",{className:"HelpDialog__header",children:[(0,e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,m.t)("helpDialog.documentation"),(0,e.jsx)("div",{className:"HelpDialog__link-icon",children:J.h0})]}),(0,e.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,m.t)("helpDialog.blog"),(0,e.jsx)("div",{className:"HelpDialog__link-icon",children:J.h0})]}),(0,e.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,m.t)("helpDialog.github"),(0,e.jsx)("div",{className:"HelpDialog__link-icon",children:J.h0})]})]})},Ir=function(r){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:r.title}),(0,e.jsx)("div",{className:"HelpDialog__islands-container",children:r.children})]})},Ar=function(r){return(0,e.jsxs)("div",{className:"HelpDialog__island ".concat(r.className),children:[(0,e.jsx)("h4",{className:"HelpDialog__island-title",children:r.caption}),(0,e.jsx)("div",{className:"HelpDialog__island-content",children:r.children})]})};function Zr(r,E){var K,oe,Se,ee;return k().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:K=!0,oe=pr(r),Z.prev=2,oe.s();case 4:if((Se=oe.n()).done){Z.next=14;break}if(ee=Se.value,K){Z.next=9;break}return Z.next=9,E;case 9:return K=!1,Z.next=12,ee;case 12:Z.next=4;break;case 14:Z.next=19;break;case 16:Z.prev=16,Z.t0=Z.catch(2),oe.e(Z.t0);case 19:return Z.prev=19,oe.f(),Z.finish(19);case 22:case"end":return Z.stop()}},mr,null,[[2,16,19,22]])}var pt=function(r){var E=r.label,K=r.shortcuts,oe=r.isOr,Se=oe===void 0||oe,ee=K.map(function(Z){return(Z.endsWith("++")?[].concat((0,f.Z)(Z.slice(0,-2).split("+")),["+"]):Z.split("+")).map(function(be){return(0,e.jsx)(jr,{children:(ke=be,ke.replace(/\b[a-z]\b/,function(Ie){return Ie.toUpperCase()}))},be);var ke})});return(0,e.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,e.jsx)("div",{children:E}),(0,e.jsx)("div",{className:"HelpDialog__key-container",children:(0,f.Z)(Zr(ee,Se?(0,m.t)("helpDialog.or"):null))})]})},jr=function(r){return(0,e.jsx)("kbd",function(E){for(var K=1;K<arguments.length;K++){var oe=arguments[K]!=null?arguments[K]:{};K%2?It(Object(oe),!0).forEach(function(Se){(0,G.Z)(E,Se,oe[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(oe)):It(Object(oe)).forEach(function(Se){Object.defineProperty(E,Se,Object.getOwnPropertyDescriptor(oe,Se))})}return E}({className:"HelpDialog__key"},r))},sr=function(r){var E=r.onClose,K=pe().useCallback(function(){E&&E()},[E]);return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(At.V,{onCloseRequest:K,title:(0,m.t)("helpDialog.title"),className:"HelpDialog",children:[(0,e.jsx)(kr,{}),(0,e.jsxs)(Ir,{title:(0,m.t)("helpDialog.shortcuts"),children:[(0,e.jsxs)(Ar,{className:"HelpDialog__island--tools",caption:(0,m.t)("helpDialog.tools"),children:[(0,e.jsx)(pt,{label:(0,m.t)("toolBar.hand"),shortcuts:[C.tW.H]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.selection"),shortcuts:[C.tW.V,C.tW[1]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.rectangle"),shortcuts:[C.tW.R,C.tW[2]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.diamond"),shortcuts:[C.tW.D,C.tW[3]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.ellipse"),shortcuts:[C.tW.O,C.tW[4]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.arrow"),shortcuts:[C.tW.A,C.tW[5]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.line"),shortcuts:[C.tW.L,C.tW[6]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.freedraw"),shortcuts:[C.tW.P,C.tW[7]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.text"),shortcuts:[C.tW.T,C.tW[8]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.image"),shortcuts:[C.tW[9]]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.eraser"),shortcuts:[C.tW.E,C.tW[0]]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.editSelectedShape"),shortcuts:[(0,s.uY)("CtrlOrCmd+Enter"),(0,s.uY)("CtrlOrCmd + ".concat((0,m.t)("helpDialog.doubleClick")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.textNewLine"),shortcuts:[(0,s.uY)("Enter"),(0,s.uY)("Shift+Enter")]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.textFinish"),shortcuts:[(0,s.uY)("Esc"),(0,s.uY)("CtrlOrCmd+Enter")]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click")],isOr:!1}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.curvedLine"),shortcuts:["L",(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click"),(0,m.t)("helpDialog.click")],isOr:!1}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.lock"),shortcuts:[C.tW.Q]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.preventBinding"),shortcuts:[(0,s.uY)("CtrlOrCmd")]}),(0,e.jsx)(pt,{label:(0,m.t)("toolBar.link"),shortcuts:[(0,s.uY)("CtrlOrCmd+K")]})]}),(0,e.jsxs)(Ar,{className:"HelpDialog__island--view",caption:(0,m.t)("helpDialog.view"),children:[(0,e.jsx)(pt,{label:(0,m.t)("buttons.zoomIn"),shortcuts:[(0,s.uY)("CtrlOrCmd++")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.zoomOut"),shortcuts:[(0,s.uY)("CtrlOrCmd+-")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.resetZoom"),shortcuts:[(0,s.uY)("CtrlOrCmd+0")]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.zenMode"),shortcuts:[(0,s.uY)("Alt+Z")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.showGrid"),shortcuts:[(0,s.uY)("CtrlOrCmd+'")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.viewMode"),shortcuts:[(0,s.uY)("Alt+R")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.toggleTheme"),shortcuts:[(0,s.uY)("Alt+Shift+D")]}),(0,e.jsx)(pt,{label:(0,m.t)("stats.title"),shortcuts:[(0,s.uY)("Alt+/")]})]}),(0,e.jsxs)(Ar,{className:"HelpDialog__island--editor",caption:(0,m.t)("helpDialog.editor"),children:[(0,e.jsx)(pt,{label:(0,m.t)("labels.selectAll"),shortcuts:[(0,s.uY)("CtrlOrCmd+A")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.multiSelect"),shortcuts:[(0,s.uY)("Shift+".concat((0,m.t)("helpDialog.click")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.deepSelect"),shortcuts:[(0,s.uY)("CtrlOrCmd+".concat((0,m.t)("helpDialog.click")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,s.uY)("CtrlOrCmd+".concat((0,m.t)("helpDialog.drag")))]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.moveCanvas"),shortcuts:[(0,s.uY)("Space+".concat((0,m.t)("helpDialog.drag"))),(0,s.uY)("Wheel+".concat((0,m.t)("helpDialog.drag")))],isOr:!0}),(0,e.jsx)(pt,{label:(0,m.t)("labels.cut"),shortcuts:[(0,s.uY)("CtrlOrCmd+X")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.copy"),shortcuts:[(0,s.uY)("CtrlOrCmd+C")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.paste"),shortcuts:[(0,s.uY)("CtrlOrCmd+V")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.pasteAsPlaintext"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+V")]}),(D.vt||n.vU)&&(0,e.jsx)(pt,{label:(0,m.t)("labels.copyAsPng"),shortcuts:[(0,s.uY)("Shift+Alt+C")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.copyStyles"),shortcuts:[(0,s.uY)("CtrlOrCmd+Alt+C")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.pasteStyles"),shortcuts:[(0,s.uY)("CtrlOrCmd+Alt+V")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.delete"),shortcuts:[(0,s.uY)("Delete")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.sendToBack"),shortcuts:[n.Um?(0,s.uY)("CtrlOrCmd+Alt+["):(0,s.uY)("CtrlOrCmd+Shift+[")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.bringToFront"),shortcuts:[n.Um?(0,s.uY)("CtrlOrCmd+Alt+]"):(0,s.uY)("CtrlOrCmd+Shift+]")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.sendBackward"),shortcuts:[(0,s.uY)("CtrlOrCmd+[")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.bringForward"),shortcuts:[(0,s.uY)("CtrlOrCmd+]")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignTop"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Up")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignBottom"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Down")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignLeft"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Left")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.alignRight"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+Right")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.duplicateSelection"),shortcuts:[(0,s.uY)("CtrlOrCmd+D"),(0,s.uY)("Alt+".concat((0,m.t)("helpDialog.drag")))]}),(0,e.jsx)(pt,{label:(0,m.t)("helpDialog.toggleElementLock"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+L")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.undo"),shortcuts:[(0,s.uY)("CtrlOrCmd+Z")]}),(0,e.jsx)(pt,{label:(0,m.t)("buttons.redo"),shortcuts:n.ED?[(0,s.uY)("CtrlOrCmd+Y"),(0,s.uY)("CtrlOrCmd+Shift+Z")]:[(0,s.uY)("CtrlOrCmd+Shift+Z")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.group"),shortcuts:[(0,s.uY)("CtrlOrCmd+G")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.ungroup"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+G")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.flipHorizontal"),shortcuts:[(0,s.uY)("Shift+H")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.flipVertical"),shortcuts:[(0,s.uY)("Shift+V")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.showStroke"),shortcuts:[(0,s.uY)("S")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.showBackground"),shortcuts:[(0,s.uY)("G")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.decreaseFontSize"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+<")]}),(0,e.jsx)(pt,{label:(0,m.t)("labels.increaseFontSize"),shortcuts:[(0,s.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},zr=t(6773),Yr=t(8671),Er=t(4241),Mr={};Mr.styleTagTransform=ve(),Mr.setAttributes=Be(),Mr.insert=Je().bind(null,"head"),Mr.domAPI=Ze(),Mr.insertStyleElement=ne(),xe()(Er.Z,Mr),Er.Z&&Er.Z.locals&&Er.Z.locals;var to=function(r){var E,K=r.children,oe=r.color;return(0,e.jsx)("div",{className:"Card",style:(E={},(0,G.Z)(E,"--card-color",oe==="primary"?"var(--color-primary)":gt[oe][7]),(0,G.Z)(E,"--card-color-darker",oe==="primary"?"var(--color-primary-darker)":gt[oe][8]),(0,G.Z)(E,"--card-color-darkest",oe==="primary"?"var(--color-primary-darkest)":gt[oe][9]),E),children:K})},To=function(r){var E=r.elements,K=r.appState,oe=r.files,Se=r.actionManager,ee=r.exportOpts,Z=r.canvas,be=ee.onExportToBackend;return(0,e.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,e.jsxs)("div",{className:"ExportDialog-cards",children:[ee.saveFileToDisk&&(0,e.jsxs)(to,{color:"lime",children:[(0,e.jsx)("div",{className:"Card-icon",children:J.TP}),(0,e.jsx)("h2",{children:(0,m.t)("exportDialog.disk_title")}),(0,e.jsxs)("div",{className:"Card-details",children:[(0,m.t)("exportDialog.disk_details"),!Ot.kr&&Se.renderAction("changeProjectName")]}),(0,e.jsx)(g.V,{className:"Card-button",type:"button",title:(0,m.t)("exportDialog.disk_button"),"aria-label":(0,m.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){Se.executeAction(Yr.mM,"ui")}})]}),be&&(0,e.jsxs)(to,{color:"pink",children:[(0,e.jsx)("div",{className:"Card-icon",children:J.xP}),(0,e.jsx)("h2",{children:(0,m.t)("exportDialog.link_title")}),(0,e.jsx)("div",{className:"Card-details",children:(0,m.t)("exportDialog.link_details")}),(0,e.jsx)(g.V,{className:"Card-button",type:"button",title:(0,m.t)("exportDialog.link_button"),"aria-label":(0,m.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){be(E,K,oe,Z),(0,p.L)("export","link","ui (".concat((0,s.$h)(),")"))}})]}),ee.renderCustomUI&&ee.renderCustomUI(E,K,oe,Z)]})})},Do=function(r){var E=r.elements,K=r.appState,oe=r.files,Se=r.actionManager,ee=r.exportOpts,Z=r.canvas,be=r.setAppState,ke=pe().useCallback(function(){be({openDialog:null})},[be]);return(0,e.jsx)(e.Fragment,{children:K.openDialog==="jsonExport"&&(0,e.jsx)(At.V,{onCloseRequest:ke,title:(0,m.t)("buttons.export"),children:(0,e.jsx)(To,{elements:E,appState:K,files:oe,actionManager:Se,onCloseRequest:ke,exportOpts:ee,canvas:Z})})})},Lo=t(6954),wn=t(8923),un={};un.styleTagTransform=ve(),un.setAttributes=Be(),un.insert=Je().bind(null,"head"),un.domAPI=Ze(),un.insertStyleElement=ne(),xe()(wn.Z,un),wn.Z&&wn.Z.locals&&wn.Z.locals;var Ao=t(5523),kn=t(2701),dn={};dn.styleTagTransform=ve(),dn.setAttributes=Be(),dn.insert=Je().bind(null,"head"),dn.domAPI=Ze(),dn.insertStyleElement=ne(),xe()(kn.Z,dn),kn.Z&&kn.Z.locals&&kn.Z.locals;var Zo=function(r){var E=r.id,K=r.elements,oe=r.isPending,Se=r.onClick,ee=r.selected,Z=r.onToggle,be=r.onDrag,ke=(0,se.useRef)(null);(0,se.useEffect)(function(){var Ve=ke.current;if(Ve)return(0,c.Z)(k().mark(function ht(){var lt,kt;return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(K){nt.next=2;break}return nt.abrupt("return");case 2:return nt.next=4,(0,ot.$D)(K,{exportBackground:!1,viewBackgroundColor:gt.white},null);case 4:kt=nt.sent,(lt=kt.querySelector(".style-fonts"))===null||lt===void 0||lt.remove(),Ve.innerHTML=kt.outerHTML;case 7:case"end":return nt.stop()}},ht)}))(),function(){Ve.innerHTML=""}},[K]);var Ie=(0,se.useState)(!1),De=(0,y.Z)(Ie,2),Ae=De[0],Re=De[1],Xe=en().isMobile,qe=oe&&(0,e.jsx)("div",{className:"library-unit__adder",children:J.pO});return(0,e.jsxs)("div",{className:(0,de.Z)("library-unit",{"library-unit__active":K,"library-unit--hover":K&&Ae,"library-unit--selected":ee}),onMouseEnter:function(){return Re(!0)},onMouseLeave:function(){return Re(!1)},children:[(0,e.jsx)("div",{className:(0,de.Z)("library-unit__dragger",{"library-unit__pulse":!!oe}),ref:ke,draggable:!!K,onClick:K||oe?function(Ve){E&&Ve.shiftKey?Z(E,Ve):Se()}:void 0,onDragStart:function(Ve){E?(Re(!1),be(E,Ve)):Ve.preventDefault()}}),qe,E&&K&&(Ae||Xe||ee)&&(0,e.jsx)(jt.o,{checked:ee,onChange:function(Ve,ht){return Z(E,ht)},className:"library-unit__checkbox"})]})},En=t(6440),fn={};fn.styleTagTransform=ve(),fn.setAttributes=Be(),fn.insert=Je().bind(null,"head"),fn.domAPI=Ze(),fn.insertStyleElement=ne(),xe()(En.Z,fn),En.Z&&En.Z.locals&&En.Z.locals;var ro=t(5644),no=function(r){var E=r.theme,K=r.id,oe=r.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,e.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(oe,"&useHash=true&token=").concat(K,"&theme=").concat(E,"&version=").concat(n.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,m.t)("labels.libraries")})},zo=function(r){var E=r.isLoading,K=r.libraryItems,oe=r.onAddToLibrary,Se=r.onInsertLibraryItems,ee=r.pendingElements,Z=r.selectedItems,be=r.onSelectItems,ke=r.theme,Ie=r.id,De=r.libraryReturnUrl,Ae=(0,se.useState)(null),Re=(0,y.Z)(Ae,2),Xe=Re[0],qe=Re[1],Ve=function(Mt,Wt){var wt=!Z.includes(Mt),Dt=[].concat((0,f.Z)(nt),(0,f.Z)(Nt));if(wt){if(Wt.shiftKey&&Xe){var Vt=Dt.findIndex(function(cr){return cr.id===Xe}),dr=Dt.findIndex(function(cr){return cr.id===Mt});if(Vt===-1||dr===-1)return void be([].concat((0,f.Z)(Z),[Mt]));var gr=(0,s.xn)(Z),xr=Dt.reduce(function(cr,Tr,Xt){return(Xt>=Vt&&Xt<=dr||gr.has(Tr.id))&&cr.push(Tr.id),cr},[]);be(xr)}else be([].concat((0,f.Z)(Z),[Mt]));qe(Mt)}else qe(null),be(Z.filter(function(cr){return cr!==Mt}))},ht=function(Mt){return Z.includes(Mt)?K.filter(function(Wt){return Z.includes(Wt.id)}):K.filter(function(Wt){return Wt.id===Mt})},lt=function(Mt){var Wt,wt,Dt,Vt,dr;return(0,e.jsx)(Ye.Z.Col,{children:(0,e.jsx)(Zo,{elements:(Wt=Mt.item)===null||Wt===void 0?void 0:Wt.elements,isPending:!((wt=Mt.item)!==null&&wt!==void 0&&wt.id||(Dt=Mt.item)===null||Dt===void 0||!Dt.elements),onClick:Mt.onClick||function(){},id:((Vt=Mt.item)===null||Vt===void 0?void 0:Vt.id)||null,selected:!((dr=Mt.item)===null||dr===void 0||!dr.id)&&Z.includes(Mt.item.id),onToggle:Ve,onDrag:function(gr,xr){xr.dataTransfer.setData(n.LO.excalidrawlib,(0,Ao.NI)(ht(gr)))}})},Mt.key)},kt=function(Mt){var Wt=Mt.map(function(Dt){return Dt.id?lt({item:Dt,onClick:function(){return Se(ht(Dt.id))},key:Dt.id}):lt({key:"__pending__item__",item:Dt,onClick:function(){return oe(ee)}})}),wt=(0,s.yo)(Wt,4);return wt.length||(wt=[[]]),wt.map(function(Dt,Vt,dr){return Vt===dr.length-1&&(Dt=Dt.concat(new Array(4-Dt.length).fill(null).map(function(gr,xr){return lt({key:"empty_".concat(xr),item:null})}))),(0,e.jsx)(Ye.Z.Row,{align:"center",className:"library-menu-items-container__row",children:Dt},Vt)})},nt=K.filter(function(Mt){return Mt.status!=="published"}),Nt=K.filter(function(Mt){return Mt.status==="published"}),Lt=!(K.length||nt.length||Nt.length||ee.length);return(0,e.jsx)("div",{className:"library-menu-items-container",style:ee.length||nt.length||Nt.length?{justifyContent:"flex-start"}:{},children:(0,e.jsxs)(Ye.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Nt.length>0?1:"0 1 auto",marginBottom:0},children:[(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:[(ee.length>0||nt.length>0||Nt.length>0)&&(0,e.jsx)("div",{className:"library-menu-items-container__header",children:(0,m.t)("labels.personalLib")}),E&&(0,e.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,e.jsx)(ro.Z,{})})]}),ee.length||nt.length?kt([].concat((0,f.Z)(ee.length?[{id:null,elements:ee}]:[]),(0,f.Z)(nt))):(0,e.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,e.jsx)("div",{className:(0,de.Z)({"library-menu-items__no-items__label":Lt}),children:(0,m.t)("library.noItems")}),(0,e.jsx)("div",{className:"library-menu-items__no-items__hint",children:Nt.length>0?(0,m.t)("library.hint_emptyPrivateLibrary"):(0,m.t)("library.hint_emptyLibrary")})]})]}),(0,e.jsxs)(e.Fragment,{children:[(Nt.length>0||ee.length>0||nt.length>0)&&(0,e.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,m.t)("labels.excalidrawLib")}),Nt.length>0?kt(Nt):nt.length>0?(0,e.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,m.t)("library.noItems")}):null]}),Lt&&(0,e.jsx)(no,{id:Ie,libraryReturnUrl:De,theme:ke})]})})},Sn=t(4739),Dn=t(9487),Ln=t(9430),Ro=t(770),oo=(0,se.forwardRef)(function(r,E){var K=r.children;return(0,e.jsx)("div",{ref:E,className:"layer-ui__library",children:K})}),No=function(r){var E=r.onInsertLibraryItems,K=r.pendingElements,oe=r.onAddToLibrary,Se=r.setAppState,ee=r.libraryReturnUrl,Z=r.library,be=r.id,ke=r.appState,Ie=r.selectedItems,De=r.onSelectItems,Ae=(0,Sn.KO)(q.rF,Dn.yE),Re=(0,y.Z)(Ae,1)[0],Xe=(0,se.useCallback)(function(){var Ve=(0,c.Z)(k().mark(function ht(lt,kt){var nt;return k().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:if((0,p.L)("element","addToLibrary","ui"),!lt.some(function(Lt){return Lt.type==="image"})){Nt.next=3;break}return Nt.abrupt("return",Se({errorMessage:"Support for adding images to the library coming soon!"}));case 3:nt=[{status:"unpublished",elements:lt,id:(0,Lo.kb)(),created:Date.now()}].concat((0,f.Z)(kt)),oe(),Z.setLibrary(nt).catch(function(){Se({errorMessage:(0,m.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return Nt.stop()}},ht)}));return function(ht,lt){return Ve.apply(this,arguments)}}(),[oe,Z,Se]);if(Re.status==="loading"&&!Re.isInitialized)return(0,e.jsx)(oo,{children:(0,e.jsx)("div",{className:"layer-ui__library-message",children:(0,e.jsxs)("div",{children:[(0,e.jsx)(ro.Z,{size:"2em"}),(0,e.jsx)("span",{children:(0,m.t)("labels.libraryLoadingMessage")})]})})});var qe=Re.libraryItems.length>0||K.length>0;return(0,e.jsxs)(oo,{children:[(0,e.jsx)(zo,{isLoading:Re.status==="loading",libraryItems:Re.libraryItems,onAddToLibrary:function(Ve){return Xe(Ve,Re.libraryItems)},onInsertLibraryItems:E,pendingElements:K,selectedItems:Ie,onSelectItems:De,id:be,libraryReturnUrl:ee,theme:ke.theme}),qe&&(0,e.jsx)(no,{id:be,libraryReturnUrl:ee,theme:ke.theme})]})},Bo=function(r){var E=r.appState,K=r.onInsertElements,oe=r.libraryReturnUrl,Se=r.focusContainer,ee=r.library,Z=r.id,be=Fn(),ke=Wn(),Ie=en(),De=(0,se.useState)([]),Ae=(0,y.Z)(De,2),Re=Ae[0],Xe=Ae[1],qe=(0,Sn.KO)(q.rF,Dn.yE),Ve=(0,y.Z)(qe,1)[0],ht=(0,se.useRef)(null),lt=(0,se.useCallback)(function(){document.querySelector(".Dialog")||be({openSidebar:null})},[be]);(function(Lt,Mt){(0,se.useEffect)(function(){var Wt=function(wt){Lt.current&&(wt.target instanceof Element&&(Lt.current.contains(wt.target)||!document.body.contains(wt.target))||Mt(wt))};return document.addEventListener("pointerdown",Wt,!1),function(){document.removeEventListener("pointerdown",Wt)}},[Lt,Mt])})(ht,(0,se.useCallback)(function(Lt){Lt.target.closest(".ToolIcon__library")||E.isSidebarDocked&&Ie.canDeviceFitSidebar||lt()},[lt,E.isSidebarDocked,Ie.canDeviceFitSidebar])),(0,se.useEffect)(function(){var Lt=function(Mt){Mt.key!==C.tW.ESCAPE||E.isSidebarDocked&&Ie.canDeviceFitSidebar||lt()};return document.addEventListener(n.Ks.KEYDOWN,Lt),function(){document.removeEventListener(n.Ks.KEYDOWN,Lt)}},[lt,E.isSidebarDocked,Ie.canDeviceFitSidebar]);var kt=(0,se.useCallback)(function(){be({selectedElementIds:{},selectedGroupIds:{}})},[be]),nt=(0,se.useCallback)(function(){var Lt=(0,c.Z)(k().mark(function Mt(Wt){var wt;return k().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:wt=Wt.filter(function(Vt){return!Re.includes(Vt.id)}),ee.setLibrary(wt).catch(function(){be({errorMessage:(0,m.t)("alerts.errorRemovingFromLibrary")})}),Xe([]);case 3:case"end":return Dt.stop()}},Mt)}));return function(Mt){return Lt.apply(this,arguments)}}(),[ee,be,Re,Xe]),Nt=(0,se.useCallback)(function(){ee.resetLibrary(),Se()},[ee,Se]);return(0,e.jsxs)(Ln.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:E.isSidebarDocked,onDock:function(Lt){(0,p.L)("library","toggleLibraryDock (".concat(Lt?"dock":"undock",")"),"sidebar (".concat(Ie.isMobile?"mobile":"desktop",")"))},ref:ht,children:[(0,e.jsx)(Ln.Y.Header,{className:"layer-ui__library-header",children:(0,e.jsx)(Ro.W,{appState:E,setAppState:be,selectedItems:Re,onSelectItems:Xe,library:ee,onRemoveFromLibrary:function(){return nt(Ve.libraryItems)},resetLibrary:Nt})}),(0,e.jsx)(No,{pendingElements:(0,ue.eD)(ke,E,!0),onInsertLibraryItems:function(Lt){K((0,q.WV)(Lt))},onAddToLibrary:kt,setAppState:be,libraryReturnUrl:oe,library:ee,id:Z,appState:E,selectedItems:Re,onSelectItems:Xe})]},"library")},jn=t(1434),pn={};pn.styleTagTransform=ve(),pn.setAttributes=Be(),pn.insert=Je().bind(null,"head"),pn.domAPI=Ze(),pn.insertStyleElement=ne(),xe()(jn.Z,pn),jn.Z&&jn.Z.locals&&jn.Z.locals;var _n=t(9144),hn={};hn.styleTagTransform=ve(),hn.setAttributes=Be(),hn.insert=Je().bind(null,"head"),hn.domAPI=Ze(),hn.insertStyleElement=ne(),xe()(_n.Z,hn),_n.Z&&_n.Z.locals&&_n.Z.locals;var Ho=t(4958),Wo=function(r){return(0,e.jsx)("button",{className:"help-icon",onClick:r.onClick,type:"button",title:"".concat(r.title,"  ?"),"aria-label":r.title,children:J.by})},ao=function(r){var E=r.appState,K=r.actionManager,oe=r.showExitZenModeBtn,Se=r.renderWelcomeScreen,ee=(0,bt.R6)(),Z=ee.footerCenterTunnel,be=ee.welcomeScreenHelpHintTunnel,ke=en(),Ie=!E.viewModeEnabled&&E.multiElement&&ke.isTouchScreen;return(0,e.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,e.jsx)("div",{className:(0,de.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":E.zenModeEnabled}),children:(0,e.jsx)(Ye.Z.Col,{gap:2,children:(0,e.jsxs)(_r,{heading:"canvasActions",children:[(0,e.jsx)(St,{renderAction:K.renderAction,zoom:E.zoom}),!E.viewModeEnabled&&(0,e.jsx)(Yt,{renderAction:K.renderAction,className:(0,de.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":E.zenModeEnabled})}),Ie&&(0,e.jsx)(Ct,{renderAction:K.renderAction,className:(0,de.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":E.zenModeEnabled})})]})})}),(0,e.jsx)(Z.Out,{}),(0,e.jsx)("div",{className:(0,de.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":E.zenModeEnabled}),children:(0,e.jsxs)("div",{style:{position:"relative"},children:[Se&&(0,e.jsx)(be.Out,{}),(0,e.jsx)(Wo,{onClick:function(){return K.executeAction(I.jY)}})]})}),(0,e.jsx)(qt,{actionManager:K,showExitZenModeBtn:oe})]})},Fo=ao;ao.displayName="Footer";var Pr=t(4709),Uo=t(6798),Ko=["suggestedBindings","startBoundElement","cursorButton"],Yo=["canvas","onInsertElements","appState"],Go=["canvas","onInsertElements","appState"];function io(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var Vo=function(r){var E=r.UIOptions;return(0,e.jsxs)(Pr.Z,{__fallback:!0,children:[(0,e.jsx)(Pr.Z.DefaultItems.LoadScene,{}),(0,e.jsx)(Pr.Z.DefaultItems.SaveToActiveFile,{}),E.canvasActions.export&&(0,e.jsx)(Pr.Z.DefaultItems.Export,{}),E.canvasActions.saveAsImage&&(0,e.jsx)(Pr.Z.DefaultItems.SaveAsImage,{}),(0,e.jsx)(Pr.Z.DefaultItems.Help,{}),(0,e.jsx)(Pr.Z.DefaultItems.ClearCanvas,{}),(0,e.jsx)(Pr.Z.Separator,{}),(0,e.jsx)(Pr.Z.Group,{title:"Excalidraw links",children:(0,e.jsx)(Pr.Z.DefaultItems.Socials,{})}),(0,e.jsx)(Pr.Z.Separator,{}),(0,e.jsx)(Pr.Z.DefaultItems.ToggleTheme,{}),(0,e.jsx)(Pr.Z.DefaultItems.ChangeCanvasBackground,{})]})},Xo=function(r){var E,K=r.actionManager,oe=r.appState,Se=r.files,ee=r.setAppState,Z=r.elements,be=r.canvas,ke=r.onLockToggle,Ie=r.onHandToolToggle,De=r.onPenModeToggle,Ae=r.onInsertElements,Re=r.showExitZenModeBtn,Xe=r.renderTopRightUI,qe=r.renderCustomStats,Ve=r.renderCustomSidebar,ht=r.libraryReturnUrl,lt=r.UIOptions,kt=r.focusContainer,nt=r.library,Nt=r.id,Lt=r.onImageAction,Mt=r.renderWelcomeScreen,Wt=r.children,wt=en(),Dt=(0,bt.ZC)(),Vt=function(){return lt.canvasActions.export?(0,e.jsx)(Do,{elements:Z,appState:oe,files:Se,actionManager:K,exportOpts:lt.canvasActions.export,canvas:be,setAppState:ee}):null},dr=function(){if(!lt.canvasActions.saveAsImage)return null;var Xt=function(vr){return function(){var fr=(0,c.Z)(k().mark(function Or(Kt){var Qt;return k().wrap(function(br){for(;;)switch(br.prev=br.next){case 0:return(0,p.L)("export",vr,"ui"),br.next=3,(0,fe.p1)(vr,Kt,oe,Se,{exportBackground:oe.exportBackground,name:oe.name,viewBackgroundColor:oe.viewBackgroundColor}).catch(s.FG).catch(function(Qr){console.error(Qr),ee({errorMessage:Qr.message})});case 3:Qt=br.sent,oe.exportEmbedScene&&Qt&&(0,Ue.g8)(Qt)&&ee({fileHandle:Qt});case 5:case"end":return br.stop()}},Or)}));return function(Or){return fr.apply(this,arguments)}}()};return(0,e.jsx)(nr,{elements:Z,appState:oe,setAppState:ee,files:Se,actionManager:K,onExportToPng:Xt("png"),onExportToSvg:Xt("svg"),onExportToClipboard:Xt("clipboard")})},gr=function(){return oe.openSidebar==="customSidebar"?(Ve==null?void 0:Ve())||null:oe.openSidebar==="library"?(0,e.jsx)(Bo,{appState:oe,onInsertElements:Ae,libraryReturnUrl:ht,focusContainer:kt,library:nt,id:Nt}):null},xr=(0,Sn.KO)(Ln.b,Dn.yE),cr=(0,y.Z)(xr,1)[0],Tr=(0,e.jsxs)(e.Fragment,{children:[Wt,(0,e.jsx)(Vo,{UIOptions:lt}),oe.isLoading&&(0,e.jsx)(Rr.z,{delay:250}),oe.errorMessage&&(0,e.jsx)(Ne,{message:oe.errorMessage,onClose:function(){return ee({errorMessage:null})}}),oe.openDialog==="help"&&(0,e.jsx)(sr,{onClose:function(){ee({openDialog:null})}}),(0,e.jsx)(Uo.o,{}),dr(),Vt(),oe.pasteDialog.shown&&(0,e.jsx)(Ut,{setAppState:ee,appState:oe,onInsertChart:Ae,onClose:function(){return ee({pasteDialog:{shown:!1,data:null}})}}),wt.isMobile&&(0,e.jsx)(ct,{appState:oe,elements:Z,actionManager:K,renderJSONExportDialog:Vt,renderImageExportDialog:dr,setAppState:ee,onLockToggle:ke,onHandToolToggle:Ie,onPenModeToggle:De,canvas:be,onImageAction:Lt,renderTopRightUI:Xe,renderCustomStats:qe,renderSidebars:gr,device:wt}),!wt.isMobile&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:(0,de.Z)("layer-ui__wrapper",{"disable-pointerEvents":oe.draggingElement||oe.resizingElement||oe.editingElement&&!(0,h.iB)(oe.editingElement)}),style:(oe.openSidebar==="library"&&oe.isSidebarDocked||cr.docked)&&wt.canDeviceFitSidebar?{width:"calc(100% - ".concat(n.EE,"px)")}:{},children:[Mt&&(0,e.jsx)(Dt.welcomeScreenCenterTunnel.Out,{}),(E=(0,h.RT)(oe,Z),(0,e.jsx)(zt,{side:"top",children:(0,e.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,e.jsxs)(Ye.Z.Col,{gap:6,className:(0,de.Z)("App-menu_top__left",{"disable-pointerEvents":oe.zenModeEnabled}),children:[(0,e.jsxs)("div",{style:{position:"relative"},children:[(0,e.jsx)(Dt.mainMenuTunnel.Out,{}),Mt&&(0,e.jsx)(Dt.welcomeScreenMenuHintTunnel.Out,{})]}),E&&(0,e.jsx)(_r,{heading:"selectedShapeActions",className:(0,de.Z)("selected-shape-actions zen-mode-transition",{"transition-left":oe.zenModeEnabled}),children:(0,e.jsx)(wr.W,{className:n.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(oe.height-166,"px")},children:(0,e.jsx)(yt,{appState:oe,elements:Z,renderAction:K.renderAction})})})]}),!oe.viewModeEnabled&&(0,e.jsx)(_r,{heading:"shapes",className:"shapes-section",children:function(Xt){return(0,e.jsxs)("div",{style:{position:"relative"},children:[Mt&&(0,e.jsx)(Dt.welcomeScreenToolbarHintTunnel.Out,{}),(0,e.jsx)(Ye.Z.Col,{gap:4,align:"start",children:(0,e.jsx)(Ye.Z.Row,{gap:1,className:(0,de.Z)("App-toolbar-container",{"zen-mode":oe.zenModeEnabled}),children:(0,e.jsxs)(wr.W,{padding:1,className:(0,de.Z)("App-toolbar",{"zen-mode":oe.zenModeEnabled}),children:[(0,e.jsx)(ir,{appState:oe,elements:Z,isMobile:wt.isMobile,device:wt}),Xt,(0,e.jsxs)(Ye.Z.Row,{gap:1,children:[(0,e.jsx)(V,{zenModeEnabled:oe.zenModeEnabled,checked:oe.penMode,onChange:De,title:(0,m.t)("toolBar.penMode"),penDetected:oe.penDetected}),(0,e.jsx)(Br,{checked:oe.activeTool.locked,onChange:ke,title:(0,m.t)("toolBar.lock")}),(0,e.jsx)("div",{className:"App-toolbar__divider"}),(0,e.jsx)(Qe,{checked:(0,R.l$)(oe),onChange:function(){return Ie()},title:(0,m.t)("toolBar.hand"),isMobile:!0}),(0,e.jsx)(ft,{appState:oe,canvas:be,activeTool:oe.activeTool,setAppState:ee,onImageAction:function(vr){var fr=vr.pointerType;Lt({insertOnCanvasDirectly:fr!=="mouse"})}})]})]})})})]})}}),(0,e.jsxs)("div",{className:(0,de.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":oe.zenModeEnabled}),children:[(0,e.jsx)(zr.Z,{collaborators:oe.collaborators}),Xe==null?void 0:Xe(wt.isMobile,oe),!oe.viewModeEnabled&&(0,e.jsx)(cn,{appState:oe,setAppState:ee})]})]})})),(0,e.jsx)(Fo,{appState:oe,actionManager:K,showExitZenModeBtn:Re,renderWelcomeScreen:Mt}),oe.showStats&&(0,e.jsx)(Ge,{appState:oe,setAppState:ee,elements:Z,onClose:function(){K.executeAction(Ho.u)},renderCustomStats:qe}),oe.scrolledOutside&&(0,e.jsx)("button",{className:"scroll-back-to-content",onClick:function(){ee(function(Xt){for(var vr=1;vr<arguments.length;vr++){var fr=arguments[vr]!=null?arguments[vr]:{};vr%2?io(Object(fr),!0).forEach(function(Or){(0,G.Z)(Xt,Or,fr[Or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(fr)):io(Object(fr)).forEach(function(Or){Object.defineProperty(Xt,Or,Object.getOwnPropertyDescriptor(fr,Or))})}return Xt}({},(0,ue.W)(Z,oe,be)))},children:(0,m.t)("buttons.scrollBackToContent")})]}),gr()]})]});return(0,e.jsx)(Sn.zt,{scope:Dt.jotaiScope,children:(0,e.jsx)(bt.A3.Provider,{value:Dt,children:Tr})})},lo=function(r){return r.suggestedBindings,r.startBoundElement,r.cursorButton,(0,He.Z)(r,Ko)},qo=function(r,E){if(r.children!==E.children)return!1;r.canvas,r.onInsertElements;var K=r.appState,oe=(0,He.Z)(r,Yo),Se=(E.canvas,E.onInsertElements,E.appState),ee=(0,He.Z)(E,Go);return(0,s.w8)(lo(K),lo(Se))&&(0,s.w8)(oe,ee)},Jo=pe().memo(Xo,qo),On=t(9650),mn={};mn.styleTagTransform=ve(),mn.setAttributes=Be(),mn.insert=Je().bind(null,"head"),mn.domAPI=Ze(),mn.insertStyleElement=ne(),xe()(On.Z,mn),On.Z&&On.Z.locals&&On.Z.locals;var $o=function(r){var E=r.message,K=r.onClose,oe=r.closable,Se=oe!==void 0&&oe,ee=r.duration,Z=ee===void 0?5e3:ee,be=(0,se.useRef)(0),ke=Z!==1/0,Ie=(0,se.useCallback)(function(){ke&&(be.current=window.setTimeout(function(){return K()},Z))},[K,Z,ke]);(0,se.useEffect)(function(){if(ke)return Ie(),function(){return clearTimeout(be.current)}},[Ie,E,Z,ke]);var De=ke?function(){return clearTimeout(be==null?void 0:be.current)}:void 0,Ae=ke?Ie:void 0;return(0,e.jsxs)("div",{className:"Toast",onMouseEnter:De,onMouseLeave:Ae,children:[(0,e.jsx)("p",{className:"Toast__message",children:E}),Se&&(0,e.jsx)(g.V,{icon:J.Tw,"aria-label":"close",type:"icon",onClick:K,className:"close"})]})};function so(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function co(r){for(var E=1;E<arguments.length;E++){var K=arguments[E]!=null?arguments[E]:{};E%2?so(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):so(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var uo=(0,te.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(r){return!r.viewModeEnabled}},perform:function(r,E){return{appState:co(co({},E),{},{viewModeEnabled:!this.checked(E)}),commitToHistory:!1}},checked:function(r){return r.viewModeEnabled},predicate:function(r,E,K){return K.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(r){return!r[C.tW.CTRL_OR_CMD]&&r.altKey&&r.code===C.aU.R}}),Cn=t(5637),Qo=t(200),ea=t.n(Qo),ta=t(2325),qr=t(4929),ra=t(267);function fo(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}var po=(0,A.Z)(function r(E){var K=this,oe=E.scene,Se=E.onSceneUpdated;(0,j.Z)(this,r),this.onFontsLoaded=function(ee){if(ee.every(function(be){var ke="".concat(be.family,"-").concat(be.style,"-").concat(be.weight);return!!r.loadedFontFaces.has(ke)||(r.loadedFontFaces.add(ke),!1)}))return!1;var Z=!1;K.scene.mapElements(function(be){return(0,h.iB)(be)?((0,ae.bI)(be),Z=!0,(0,v.BE)(be,function(ke){for(var Ie=1;Ie<arguments.length;Ie++){var De=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?fo(Object(De),!0).forEach(function(Ae){(0,G.Z)(ke,Ae,De[Ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(De)):fo(Object(De)).forEach(function(Ae){Object.defineProperty(ke,Ae,Object.getOwnPropertyDescriptor(De,Ae))})}return ke}({},(0,h.JZ)(be)))):be}),Z&&K.onSceneUpdated()},this.loadFontsForElements=function(){var ee=(0,c.Z)(k().mark(function Z(be){var ke;return k().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,Promise.all((0,f.Z)(new Set(be.filter(function(De){return(0,h.iB)(De)}).map(function(De){return De.fontFamily}))).map(function(De){var Ae,Re,Xe,qe,Ve=(0,s.mO)({fontFamily:De,fontSize:16});if((Ae=document.fonts)===null||Ae===void 0||(Re=Ae.check)===null||Re===void 0||!Re.call(Ae,Ve))return(Xe=document.fonts)===null||Xe===void 0||(qe=Xe.load)===null||qe===void 0?void 0:qe.call(Xe,Ve)}));case 2:ke=Ie.sent,K.onFontsLoaded(ke.flat().filter(Boolean));case 4:case"end":return Ie.stop()}},Z)}));return function(Z){return ee.apply(this,arguments)}}(),this.scene=oe,this.onSceneUpdated=Se});po.loadedFontFaces=new Set;var ho=t(4688),na=t(2416);function mo(r,E){var K=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!K){if(Array.isArray(r)||(K=function(ke,Ie){if(ke){if(typeof ke=="string")return go(ke,Ie);var De=Object.prototype.toString.call(ke).slice(8,-1);if(De==="Object"&&ke.constructor&&(De=ke.constructor.name),De==="Map"||De==="Set")return Array.from(ke);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return go(ke,Ie)}}(r))||E){K&&(r=K);var oe=0,Se=function(){};return{s:Se,n:function(){return oe>=r.length?{done:!0}:{done:!1,value:r[oe++]}},e:function(ke){throw ke},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,Z=!0,be=!1;return{s:function(){K=K.call(r)},n:function(){var ke=K.next();return Z=ke.done,ke},e:function(ke){be=!0,ee=ke},f:function(){try{Z||K.return==null||K.return()}finally{if(be)throw ee}}}}function go(r,E){(E==null||E>r.length)&&(E=r.length);for(var K=0,oe=new Array(E);K<E;K++)oe[K]=r[K];return oe}function oa(r){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var K,oe=(0,B.Z)(r);if(E){var Se=(0,B.Z)(this).constructor;K=Reflect.construct(oe,arguments,Se)}else K=oe.apply(this,arguments);return(0,z.Z)(this,K)}}function vo(r,E){var K=Object.keys(r);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(r);E&&(oe=oe.filter(function(Se){return Object.getOwnPropertyDescriptor(r,Se).enumerable})),K.push.apply(K,oe)}return K}function rt(r){for(var E=1;E<arguments.length;E++){var K=arguments[E]!=null?arguments[E]:{};E%2?vo(Object(K),!0).forEach(function(oe){(0,G.Z)(r,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(K)):vo(Object(K)).forEach(function(oe){Object.defineProperty(r,oe,Object.getOwnPropertyDescriptor(K,oe))})}return r}var bo={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},An=pe().createContext(bo);An.displayName="DeviceContext";var Zn=pe().createContext({container:null,id:null});Zn.displayName="ExcalidrawContainerContext";var zn=pe().createContext([]);zn.displayName="ExcalidrawElementsContext";var Rn=pe().createContext(rt(rt({},(0,R.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Rn.displayName="ExcalidrawAppStateContext";var Nn=pe().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Nn.displayName="ExcalidrawSetAppStateContext";var Bn=pe().createContext(null);Bn.displayName="ExcalidrawActionManagerContext";var en=function(){return(0,se.useContext)(An)},Hn=function(){return(0,se.useContext)(Zn)},Wn=function(){return(0,se.useContext)(zn)},yo=function(){return(0,se.useContext)(Rn)},Fn=function(){return(0,se.useContext)(Nn)},aa=function(){return(0,se.useContext)(Bn)},vn=!1,Un=0,tn=0,rn=0,nn=!1,bn=!1,Kn=!1,Yn={horizontal:null,vertical:null},Jr=0,yn=!1,In=!0,Gn=!1,xo=0,wo=!1,$r=null,rr={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Vn=function(r){(0,o.Z)(Se,r);var E,K,oe=oa(Se);function Se(ee){var Z;(0,j.Z)(this,Se),Z=oe.call(this,ee),ia.call((0,F.Z)(Z));var be,ke=(0,R.im)(),Ie=ee.excalidrawRef,De=ee.viewModeEnabled,Ae=De!==void 0&&De,Re=ee.zenModeEnabled,Xe=Re!==void 0&&Re,qe=ee.gridModeEnabled,Ve=qe!==void 0&&qe,ht=ee.theme,lt=ht===void 0?ke.theme:ht,kt=ee.name,nt=kt===void 0?ke.name:kt;if(Z.state=rt(rt(rt({},ke),{},{theme:lt,isLoading:!0},Z.getCanvasOffsets()),{},{viewModeEnabled:Ae,zenModeEnabled:Xe,gridSize:Ve?n.k:null,name:nt,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),Z.id=(0,ye.x0)(),Z.library=new q.ZP((0,F.Z)(Z)),Ie){var Nt,Lt="current"in Ie&&((Nt=Ie.current)===null||Nt===void 0?void 0:Nt.readyPromise)||(0,s.PI)(),Mt={ready:!0,readyPromise:Lt,updateScene:Z.updateScene,updateLibrary:Z.library.updateLibrary,addFiles:Z.addFiles,resetScene:Z.resetScene,getSceneElementsIncludingDeleted:Z.getSceneElementsIncludingDeleted,history:{clear:Z.resetHistory},scrollToContent:Z.scrollToContent,getSceneElements:Z.getSceneElements,getAppState:function(){return Z.state},getFiles:function(){return Z.files},refresh:Z.refresh,setToast:Z.setToast,id:Z.id,setActiveTool:Z.setActiveTool,setCursor:Z.setCursor,resetCursor:Z.resetCursor,toggleMenu:Z.toggleMenu};typeof Ie=="function"?Ie(Mt):Ie.current=Mt,Lt.resolve(Mt)}return Z.excalidrawContainerValue={container:Z.excalidrawContainerRef.current,id:Z.id},Z.scene=new Ce.Z,Z.fonts=new po({scene:Z.scene,onSceneUpdated:Z.onSceneUpdated}),Z.history=new U,Z.actionManager=new X(Z.syncActionResult,function(){return Z.state},function(){return Z.scene.getElementsIncludingDeleted()},(0,F.Z)(Z)),Z.actionManager.registerAll(te.N),Z.actionManager.registerAction((be=Z.history,{name:"undo",trackEvent:{category:"history"},perform:function(Wt,wt){return l(Wt,wt,function(){return be.undoOnce()})},keyTest:function(Wt){return Wt[C.tW.CTRL_OR_CMD]&&Wt.key.toLowerCase()===C.tW.Z&&!Wt.shiftKey},PanelComponent:function(Wt){var wt=Wt.updateData,Dt=Wt.data;return(0,e.jsx)(g.V,{type:"button",icon:J.UE,"aria-label":(0,m.t)("buttons.undo"),onClick:wt,size:(Dt==null?void 0:Dt.size)||"medium"})},commitToHistory:function(){return!1}})),Z.actionManager.registerAction(function(Wt){return{name:"redo",trackEvent:{category:"history"},perform:function(wt,Dt){return l(wt,Dt,function(){return Wt.redoOnce()})},keyTest:function(wt){return wt[C.tW.CTRL_OR_CMD]&&wt.shiftKey&&wt.key.toLowerCase()===C.tW.Z||n.ED&&wt.ctrlKey&&!wt.shiftKey&&wt.key===C.tW.Y},PanelComponent:function(wt){var Dt=wt.updateData,Vt=wt.data;return(0,e.jsx)(g.V,{type:"button",icon:J.zG,"aria-label":(0,m.t)("buttons.redo"),onClick:Dt,size:(Vt==null?void 0:Vt.size)||"medium"})},commitToHistory:function(){return!1}}}(Z.history)),Z}return(0,A.Z)(Se,[{key:"renderCanvas",value:function(){var ee=window.devicePixelRatio,Z=this.state,be=Z.width,ke=Z.height,Ie=be*ee,De=ke*ee;return Z.viewModeEnabled?(0,e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:be,height:ke,cursor:n.oc.GRAB},width:Ie,height:De,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,m.t)("labels.drawingCanvas")}):(0,e.jsx)("canvas",{className:"excalidraw__canvas",style:{width:be,height:ke},width:Ie,height:De,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,m.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var ee,Z=this,be=(0,ue.eD)(this.scene.getNonDeletedElements(),this.state),ke=this.props,Ie=ke.renderTopRightUI,De=ke.renderCustomStats;return(0,e.jsx)("div",{className:(0,de.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,e.jsx)(Zn.Provider,{value:this.excalidrawContainerValue,children:(0,e.jsx)(An.Provider,{value:this.device,children:(0,e.jsx)(Nn.Provider,{value:this.setAppState,children:(0,e.jsxs)(Rn.Provider,{value:this.state,children:[(0,e.jsx)(zn.Provider,{value:this.scene.getNonDeletedElements(),children:(0,e.jsxs)(Bn.Provider,{value:this.actionManager,children:[(0,e.jsx)(Jo,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(Ae){return Z.addElementsFromPasteOrLibrary({elements:Ae,position:"center",files:null})},langCode:(0,m.G3)().code,renderTopRightUI:Ie,renderCustomStats:De,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:((ee=this.props)===null||ee===void 0?void 0:ee.zenModeEnabled)===void 0&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,e.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,e.jsx)("div",{className:"excalidraw-contextMenuContainer"}),be.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,e.jsx)(qr.nW,{element:be[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},be[0].id),this.state.toast!==null&&(0,e.jsx)($o,{message:this.state.toast.message,onClose:function(){return Z.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,e.jsx)(We,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,e.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(K=(0,c.Z)(k().mark(function ee(){var Z,be,ke,Ie,De,Ae,Re=this;return k().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,n.Vi.TEST!=="production"&&n.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Re.state}},setState:{configurable:!0,value:function(){return Re.setState.apply(Re,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(Z=this.excalidrawContainerRef)!==null&&Z!==void 0&&Z.current?(this.resizeObserver=new ResizeObserver(function(){In=!1,Re.refreshDeviceState(Re.excalidrawContainerRef.current),Re.updateDOMRect()}),(be=this.resizeObserver)===null||be===void 0||be.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(ke=window.matchMedia("(max-width: ".concat(n.kV,"px), (max-height: ").concat(n.Yx,"px) and (max-width: ").concat(n.sS,"px)")),Ie=window.matchMedia("(max-width: ".concat(n.eF,"px)")),De=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:n.sk,"px)")),Ae=function(){Re.excalidrawContainerRef.current.getBoundingClientRect(),Re.device=(0,s.v4)(Re.device,{isSmScreen:Ie.matches,isMobile:ke.matches,canDeviceFitSidebar:De.matches})},ke.addListener(Ae),this.detachIsMobileMqHandler=function(){return ke.removeListener(Ae)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 10:case"end":return Xe.stop()}},ee,this)})),function(){return K.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var ee;this.files={},this.imageCache.clear(),(ee=this.resizeObserver)===null||ee===void 0||ee.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Jr),Jr=0}},{key:"removeEventListeners",value:function(){var ee,Z,be,ke,Ie;document.removeEventListener(n.Ks.POINTER_UP,this.removePointer),document.removeEventListener(n.Ks.COPY,this.onCopy),document.removeEventListener(n.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(n.Ks.CUT,this.onCut),(ee=this.excalidrawContainerRef.current)===null||ee===void 0||ee.removeEventListener(n.Ks.WHEEL,this.onWheel),(Z=this.nearestScrollableContainer)===null||Z===void 0||Z.removeEventListener(n.Ks.SCROLL,this.onScroll),document.removeEventListener(n.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(n.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(n.Ks.KEYUP,this.onKeyUp),window.removeEventListener(n.Ks.RESIZE,this.onResize,!1),window.removeEventListener(n.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(n.Ks.BLUR,this.onBlur,!1),(be=this.excalidrawContainerRef.current)===null||be===void 0||be.removeEventListener(n.Ks.DRAG_OVER,this.disableEvent,!1),(ke=this.excalidrawContainerRef.current)===null||ke===void 0||ke.removeEventListener(n.Ks.DROP,this.disableEvent,!1),document.removeEventListener(n.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(n.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(n.Ks.GESTURE_END,this.onGestureEnd,!1),(Ie=this.detachIsMobileMqHandler)===null||Ie===void 0||Ie.call(this)}},{key:"addEventListeners",value:function(){var ee,Z,be,ke,Ie,De=this;this.removeEventListeners(),document.addEventListener(n.Ks.POINTER_UP,this.removePointer),document.addEventListener(n.Ks.COPY,this.onCopy),(ee=this.excalidrawContainerRef.current)===null||ee===void 0||ee.addEventListener(n.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(n.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(n.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(n.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(Z=document.fonts)===null||Z===void 0||(be=Z.addEventListener)===null||be===void 0||be.call(Z,"loadingdone",function(Ae){var Re=Ae.fontfaces;De.fonts.onFontsLoaded(Re)}),document.addEventListener(n.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(n.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(n.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(n.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(n.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,s.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(n.Ks.SCROLL,this.onScroll)),window.addEventListener(n.Ks.RESIZE,this.onResize,!1),window.addEventListener(n.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(n.Ks.BLUR,this.onBlur,!1),(ke=this.excalidrawContainerRef.current)===null||ke===void 0||ke.addEventListener(n.Ks.DRAG_OVER,this.disableEvent,!1),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.addEventListener(n.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(ee,Z){var be,ke,Ie,De=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&ee.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(Z.scrollX!==this.state.scrollX||Z.scrollY!==this.state.scrollY)&&((ke=this.props)===null||ke===void 0||(Ie=ke.onScrollChange)===null||Ie===void 0||Ie.call(ke,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,R.EN)(this.state)&&this.setState({activeTool:(0,s.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&Z.theme!==this.state.theme&&(0,s.OF)(this.canvas,this.state.theme),Z.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),ee.langCode!==this.props.langCode&&this.updateLanguage(),ee.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),Z.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),ee.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),ee.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),ee.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?n.k:null}),this.props.name&&ee.name!==this.props.name&&this.setState({name:this.props.name}),(be=this.excalidrawContainerRef.current)===null||be===void 0||be.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){De.state.editingLinearElement&&De.actionManager.executeAction(I.pL)}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var Ae,Re,Xe=Z.multiElement;Z.activeTool!==this.state.activeTool&&Xe!=null&&(0,u.N1)(this.state)&&(0,M.Mn)(Xe,!1)&&(0,u.R)(Xe,this.state,this.scene,(0,s.AK)(_._.getPointAtIndexGlobalCoordinates(Xe,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(Ae=(Re=this.props).onChange)===null||Ae===void 0||Ae.call(Re,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(ee){var Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],be=(0,s.dE)({clientX:tn,clientY:rn},this.state),ke=be.x,Ie=be.y,De={x:ke,y:Ie,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:ee,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:n.hs,locked:!1},Ae=10,Re=Ie,Xe=Z?[ee]:ee.split(`
`),qe=Xe.reduce(function(Ve,ht,lt){var kt=ht.trim();if(kt.length){var nt=(0,h.VL)(rt(rt({},De),{},{x:ke,y:Re,text:kt}));Ve.push(nt),Re+=nt.height+Ae}else{var Nt;if(!((Nt=Xe[lt-1])===null||Nt===void 0)&&Nt.trim()){var Lt=(0,st.hP)((0,s.mO)({fontSize:De.fontSize,fontFamily:De.fontFamily}));Re+=Lt+Ae}}return Ve},[]);qe.length!==0&&(this.scene.replaceAllElements([].concat((0,f.Z)(this.scene.getElementsIncludingDeleted()),(0,f.Z)(qe))),this.setState({selectedElementIds:Object.fromEntries(qe.map(function(Ve){return[Ve.id,!0]}))}),!Z&&qe.length>1&&wo===!1&&!this.device.isMobile&&(this.setToast({message:(0,m.t)("toast.pasteAsSingleElement",{shortcut:(0,s.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),wo=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(ee,Z){var be=this,ke=Z.isExistingElement,Ie=ke!==void 0&&ke,De=function(Ae,Re,Xe){be.scene.replaceAllElements((0,f.Z)(be.scene.getElementsIncludingDeleted().map(function(qe){return qe.id===ee.id&&(0,h.iB)(qe)?(0,h.N_)(qe,{text:Ae,isDeleted:Xe,originalText:Re}):qe})))};(0,h.b_)({id:ee.id,canvas:this.canvas,getViewportCoords:function(Ae,Re){var Xe=(0,s._i)({sceneX:Ae,sceneY:Re},be.state),qe=Xe.x,Ve=Xe.y;return[qe-be.state.offsetLeft,Ve-be.state.offsetTop]},onChange:(0,s.tH)(function(Ae){De(Ae,Ae,!1),(0,h.qP)(ee)&&(0,u.Ww)(ee)}),onSubmit:(0,s.tH)(function(Ae){var Re=Ae.text,Xe=Ae.viaKeyboard,qe=Ae.originalText,Ve=!Re.trim();if(De(Re,qe,Ve),!Ve&&Xe){var ht=ee.containerId?ee.containerId:ee.id;be.setState(function(lt){return{selectedElementIds:rt(rt({},lt.selectedElementIds),{},(0,G.Z)({},ht,!0))}})}Ve&&(0,u.$q)(be.scene.getNonDeletedElements(),[ee]),Ve&&!Ie||be.history.resumeRecording(),be.setState({draggingElement:null,editingElement:null}),be.state.activeTool.locked&&(0,s.Uk)(be.canvas,be.state),be.focusContainer()}),element:ee,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),De(ee.text,ee.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(ee,Z){var be=this.getElementAtPosition(ee,Z,{includeBoundTextElement:!0});return be&&(0,h.iB)(be)&&!be.isDeleted?be:null}},{key:"getElementAtPosition",value:function(ee,Z,be){var ke=this.getElementsAtPosition(ee,Z,be==null?void 0:be.includeBoundTextElement,be==null?void 0:be.includeLockedElements);if(ke.length>1){if(be!=null&&be.preferSelected){for(var Ie=ke.length-1;Ie>-1;Ie--)if(this.state.selectedElementIds[ke[Ie].id])return ke[Ie]}var De=ke[ke.length-1];return(0,h.wB)(De,this.state,ee,Z)?ke[ke.length-2]:De}return ke.length===1?ke[0]:null}},{key:"getElementsAtPosition",value:function(ee,Z){var be=this,ke=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ie=arguments.length>3&&arguments[3]!==void 0&&arguments[3],De=ke&&Ie?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(Ae){return(Ie||!Ae.locked)&&(ke||!((0,h.iB)(Ae)&&Ae.containerId))});return(0,ue.CJ)(De,function(Ae){return(0,h.wX)(Ae,be.state,ee,Z)})}},{key:"handleHoverSelectedLinearElement",value:function(ee,Z,be){var ke=_._.getElement(ee.elementId),Ie=(0,st.WJ)(ke);if(ke)if(this.state.selectedLinearElement){var De=-1,Ae=null;(0,ta.Qu)(ke,this.state,[Z,be])?(De=_._.getPointIndexUnderCursor(ke,this.state.zoom,Z,be),Ae=_._.getSegmentMidpointHitCoords(ee,{x:Z,y:be},this.state),De>=0||Ae?(0,s.KJ)(this.canvas,n.oc.POINTER):(0,s.KJ)(this.canvas,n.oc.MOVE)):((0,ra.oY)([ke],this.state)&&(0,h.wB)(ke,this.state,Z,be)||Ie&&(0,h.wX)(Ie,this.state,Z,be))&&(0,s.KJ)(this.canvas,n.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==De&&this.setState({selectedLinearElement:rt(rt({},this.state.selectedLinearElement),{},{hoverPointIndex:De})}),_._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,Ae)||this.setState({selectedLinearElement:rt(rt({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:Ae})})}else(0,s.KJ)(this.canvas,n.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(ee){$r!==null&&$r(ee)}},{key:"updateGestureOnPointerDown",value:function(ee){rr.pointers.set(ee.pointerId,{x:ee.clientX,y:ee.clientY}),rr.pointers.size===2&&(rr.lastCenter=re(rr.pointers),rr.initialScale=this.state.zoom.value,rr.initialDistance=O(Array.from(rr.pointers.values())))}},{key:"initialPointerDownState",value:function(ee){var Z=(0,s.dE)(ee,this.state),be=(0,ue.eD)(this.scene.getNonDeletedElements(),this.state),ke=(0,h.KP)(be),Ie=(0,y.Z)(ke,4),De=Ie[0],Ae=Ie[1],Re=Ie[2],Xe=Ie[3];return{origin:Z,withCmdOrCtrl:ee[C.tW.CTRL_OR_CMD],originInGrid:(0,s.AK)((0,L.wC)(Z.x,Z.y,this.state.gridSize)),scrollbars:(0,ue._4)(Yn,ee.clientX-this.state.offsetLeft,ee.clientY-this.state.offsetTop),lastCoords:rt({},Z),originalElements:this.scene.getNonDeletedElements().reduce(function(qe,Ve){return qe.set(Ve.id,(0,W.OL)(Ve)),qe},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Re+De)/2,y:(Xe+Ae)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(Z,be)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(ee,Z){var be=this;if(!Z.scrollbars.isOverEither||this.state.multiElement)return!1;Kn=!0,Z.lastCoords.x=ee.clientX,Z.lastCoords.y=ee.clientY;var ke=(0,s.$9)(function(De){De.target instanceof HTMLElement&&be.handlePointerMoveOverScrollbars(De,Z)}),Ie=(0,s.tH)(function(){Kn=!1,(0,s.Uk)(be.canvas,be.state),$r=null,be.setState({cursorButton:"up"}),be.savePointer(ee.clientX,ee.clientY,"up"),window.removeEventListener(n.Ks.POINTER_MOVE,ke),window.removeEventListener(n.Ks.POINTER_UP,Ie),ke.flush()});return $r=Ie,window.addEventListener(n.Ks.POINTER_MOVE,ke),window.addEventListener(n.Ks.POINTER_UP,Ie),!0}},{key:"isASelectedElement",value:function(ee){return ee!=null&&this.state.selectedElementIds[ee.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(ee,Z){if(Z.length<2)return!1;var be=10/this.state.zoom.value,ke=(0,h.KP)(Z),Ie=(0,y.Z)(ke,4),De=Ie[0],Ae=Ie[1],Re=Ie[2],Xe=Ie[3];return ee.x>De-be&&ee.x<Re+be&&ee.y>Ae-be&&ee.y<Xe+be}},{key:"onKeyDownFromPointerDownHandler",value:function(ee){var Z=this;return(0,s.tH)(function(be){Z.maybeHandleResize(ee,be)||Z.maybeDragNewGenericElement(ee,be)})}},{key:"onKeyUpFromPointerDownHandler",value:function(ee){var Z=this;return(0,s.tH)(function(be){be.key===C.tW.ALT&&be.preventDefault(),Z.maybeHandleResize(ee,be)||Z.maybeDragNewGenericElement(ee,be)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(ee){var Z=this;return(0,s.$9)(function(be){var ke;if(ee.drag.offset===null&&(ee.drag.offset=(0,s.AK)((0,h.$V)((0,ue.eD)(Z.scene.getNonDeletedElements(),Z.state),ee.origin.x,ee.origin.y))),be.target instanceof HTMLElement&&!Z.handlePointerMoveOverScrollbars(be,ee)){var Ie=(0,s.dE)(be,Z.state);if((0,R.EN)(Z.state))Z.handleEraser(be,ee,Ie);else{var De=(0,L.wC)(Ie.x,Ie.y,Z.state.gridSize),Ae=(0,y.Z)(De,2),Re=Ae[0],Xe=Ae[1];if(ee.drag.hasOccurred||Z.state.activeTool.type!=="arrow"&&Z.state.activeTool.type!=="line"||!((0,L.LW)(Ie.x,Ie.y,ee.origin.x,ee.origin.y)<n.f)){if(ee.resize.isResizing&&(ee.lastCoords.x=Ie.x,ee.lastCoords.y=Ie.y,Z.maybeHandleResize(ee,be)))return!0;if(Z.state.selectedLinearElement){var qe=Z.state.editingLinearElement||Z.state.selectedLinearElement;if(_._.shouldAddMidpoint(Z.state.selectedLinearElement,Ie,Z.state)){var Ve=_._.addMidpoint(Z.state.selectedLinearElement,Ie,Z.state);return Ve?void(0,Ee.flushSync)(function(){Z.state.selectedLinearElement&&Z.setState({selectedLinearElement:rt(rt({},Z.state.selectedLinearElement),{},{pointerDownState:Ve.pointerDownState,selectedPointsIndices:Ve.selectedPointsIndices})}),Z.state.editingLinearElement&&Z.setState({editingLinearElement:rt(rt({},Z.state.editingLinearElement),{},{pointerDownState:Ve.pointerDownState,selectedPointsIndices:Ve.selectedPointsIndices})})}):void 0}if(qe.pointerDownState.segmentMidpoint.value!==null&&!qe.pointerDownState.segmentMidpoint.added)return;var ht=_._.handlePointDragging(be,Z.state,Ie.x,Ie.y,function(Cr,Pn){Z.maybeSuggestBindingsForLinearElementAtCoords(Cr,Pn)},qe);if(ht)return ee.lastCoords.x=Ie.x,ee.lastCoords.y=Ie.y,ee.drag.hasOccurred=!0,Z.state.editingLinearElement&&!Z.state.editingLinearElement.isDragging&&Z.setState({editingLinearElement:rt(rt({},Z.state.editingLinearElement),{},{isDragging:!0})}),void(Z.state.selectedLinearElement.isDragging||Z.setState({selectedLinearElement:rt(rt({},Z.state.selectedLinearElement),{},{isDragging:!0})}))}var lt=ee.hit.allHitElements.some(function(Cr){return Z.isASelectedElement(Cr)}),kt=Z.state.editingLinearElement&&be.shiftKey&&Z.state.editingLinearElement.elementId===((ke=ee.hit.element)===null||ke===void 0?void 0:ke.id);if((lt||ee.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!kt){var nt=(0,ue.eD)(Z.scene.getNonDeletedElements(),Z.state);if(nt.every(function(Cr){return Cr.locked}))return;if(ee.drag.hasOccurred=!0,nt.length>0&&!ee.withCmdOrCtrl){var Nt=(0,L.wC)(Ie.x-ee.drag.offset.x,Ie.y-ee.drag.offset.y,Z.state.gridSize),Lt=(0,y.Z)(Nt,2),Mt=Lt[0],Wt=Lt[1],wt=[Math.abs(Ie.x-ee.origin.x),Math.abs(Ie.y-ee.origin.y)],Dt=wt[0],Vt=wt[1],dr=be.shiftKey;if((0,h.o8)(ee,nt,Mt,Wt,dr,Dt,Vt,Z.state),Z.maybeSuggestBindingForAll(nt),be.altKey&&!ee.hit.hasBeenDuplicated){ee.hit.hasBeenDuplicated=!0;var gr,xr=[],cr=[],Tr=new Map,Xt=new Map,vr=ee.hit.element,fr=Z.scene.getElementsIncludingDeleted(),Or=(0,ue.eD)(fr,Z.state,!0).map(function(Cr){return Cr.id}),Kt=mo(fr);try{for(Kt.s();!(gr=Kt.n()).done;){var Qt=gr.value;if(Or.includes(Qt.id)||Qt.id===(vr==null?void 0:vr.id)&&ee.hit.wasAddedToSelection){var br=(0,h.Sy)(Z.state.editingGroupId,Tr,Qt),Qr=(0,L.wC)(ee.origin.x-ee.drag.offset.x,ee.origin.y-ee.drag.offset.y,Z.state.gridSize),ko=(0,y.Z)(Qr,2),sa=ko[0],ca=ko[1];(0,v.DR)(br,{x:br.x+(sa-Mt),y:br.y+(ca-Wt)}),xr.push(br),cr.push(Qt),Xt.set(Qt.id,br.id)}else xr.push(Qt)}}catch(Cr){Kt.e(Cr)}finally{Kt.f()}var Eo=[].concat(xr,cr);(0,st.P7)(xr,cr,Xt),(0,u.ek)(Eo,cr,Xt,"duplicatesServeAsOld"),Z.scene.replaceAllElements(Eo)}return}}var hr=Z.state.draggingElement;if(hr){if(hr.type==="freedraw"){var Mn=hr.points,So=Ie.x-hr.x,jo=Ie.y-hr.y,Xn=Mn.length>0&&Mn[Mn.length-1];if(!(Xn&&Xn[0]===So&&Xn[1]===jo)){var ua=hr.simulatePressure?hr.pressures:[].concat((0,f.Z)(hr.pressures),[be.pressure]);(0,v.DR)(hr,{points:[].concat((0,f.Z)(Mn),[[So,jo]]),pressures:ua})}}else if((0,M.bt)(hr)){ee.drag.hasOccurred=!0;var xn=hr.points,qn=Re-hr.x,Jn=Xe-hr.y;if((0,C.Ge)(be)&&xn.length===2){var _o=(0,h.o4)(hr.x,hr.y,Ie.x,Ie.y);qn=_o.width,Jn=_o.height}xn.length===1?(0,v.DR)(hr,{points:[].concat((0,f.Z)(xn),[[qn,Jn]])}):xn.length===2&&(0,v.DR)(hr,{points:[].concat((0,f.Z)(xn.slice(0,-1)),[[qn,Jn]])}),(0,M.Mn)(hr,!1)&&Z.maybeSuggestBindingsForLinearElementAtCoords(hr,[Ie],Z.state.startBoundElement)}else ee.lastCoords.x=Ie.x,ee.lastCoords.y=Ie.y,Z.maybeDragNewGenericElement(ee,be);if(Z.state.activeTool.type==="selection"){ee.boxSelection.hasOccurred=!0;var Oo=Z.scene.getNonDeletedElements();if(be.shiftKey||Z.state.editingLinearElement||!(0,ue.N)(Oo,Z.state)||(ee.withCmdOrCtrl&&ee.hit.element?Z.setState(function(Cr){return(0,b.bO)(rt(rt({},Cr),{},{selectedElementIds:(0,G.Z)({},ee.hit.element.id,!0)}),Z.scene.getNonDeletedElements())}):Z.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Z.state.editingLinearElement)_._.handleBoxSelection(be,Z.state,Z.setState.bind(Z));else{var on=(0,ue.Yp)(Oo,hr);Z.setState(function(Cr){return(0,b.bO)(rt(rt({},Cr),{},{selectedElementIds:rt(rt(rt({},Cr.selectedElementIds),on.reduce(function(Pn,da){return Pn[da.id]=!0,Pn},{})),ee.hit.element?(0,G.Z)({},ee.hit.element.id,!on.length):null),showHyperlinkPopup:!(on.length!==1||!on[0].link)&&"info",selectedLinearElement:on.length===1&&(0,M.bt)(on[0])?new _._(on[0],Z.scene):null}),Z.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(ee,Z){if(Z.scrollbars.isOverHorizontal){var be=ee.clientX,ke=be-Z.lastCoords.x;return this.setState({scrollX:this.state.scrollX-ke/this.state.zoom.value}),Z.lastCoords.x=be,!0}if(Z.scrollbars.isOverVertical){var Ie=ee.clientY,De=Ie-Z.lastCoords.y;return this.setState({scrollY:this.state.scrollY-De/this.state.zoom.value}),Z.lastCoords.y=Ie,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(ee){var Z=this;return(0,s.tH)(function(be){var ke,Ie,De,Ae=Z.state,Re=Ae.draggingElement,Xe=Ae.resizingElement,qe=Ae.multiElement,Ve=Ae.activeTool,ht=Ae.isResizing,lt=Ae.isRotating;if(Z.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:qe||(0,h.iB)(Z.state.editingElement)?Z.state.editingElement:null}),Z.savePointer(be.clientX,be.clientY,"up"),Z.state.editingLinearElement)if(ee.boxSelection.hasOccurred||((Ie=ee.hit)===null||Ie===void 0||(De=Ie.element)===null||De===void 0?void 0:De.id)===Z.state.editingLinearElement.elementId){var kt=_._.handlePointerUp(be,Z.state.editingLinearElement,Z.state);kt!==Z.state.editingLinearElement&&Z.setState({editingLinearElement:kt,suggestedBindings:[]})}else Z.actionManager.executeAction(I.pL);else if(Z.state.selectedLinearElement){var nt,Nt;if(((nt=ee.hit)===null||nt===void 0||(Nt=nt.element)===null||Nt===void 0?void 0:Nt.id)!==Z.state.selectedLinearElement.elementId)(0,ue.eD)(Z.scene.getNonDeletedElements(),Z.state).length>1&&Z.setState({selectedLinearElement:null});else{var Lt=_._.handlePointerUp(be,Z.state.selectedLinearElement,Z.state),Mt=Lt.startBindingElement,Wt=Lt.endBindingElement,wt=Z.scene.getElement(Lt.elementId);(0,M.Mn)(wt)&&(0,u.HG)(wt,Mt,Wt),Lt!==Z.state.selectedLinearElement&&Z.setState({selectedLinearElement:rt(rt({},Lt),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if($r=null,ee.eventListeners.onMove&&ee.eventListeners.onMove.flush(),window.removeEventListener(n.Ks.POINTER_MOVE,ee.eventListeners.onMove),window.removeEventListener(n.Ks.POINTER_UP,ee.eventListeners.onUp),window.removeEventListener(n.Ks.KEYDOWN,ee.eventListeners.onKeyDown),window.removeEventListener(n.Ks.KEYUP,ee.eventListeners.onKeyUp),Z.state.pendingImageElementId&&Z.setState({pendingImageElementId:null}),(Re==null?void 0:Re.type)==="freedraw"){var Dt=(0,s.dE)(be,Z.state),Vt=Re.points,dr=Dt.x-Re.x,gr=Dt.y-Re.y;dr===Vt[0][0]&&gr===Vt[0][1]&&(gr+=1e-4,dr+=1e-4);var xr=Re.simulatePressure?[]:[].concat((0,f.Z)(Re.pressures),[be.pressure]);return(0,v.DR)(Re,{points:[].concat((0,f.Z)(Vt),[[dr,gr]]),pressures:xr,lastCommittedPoint:[dr,gr]}),void Z.actionManager.executeAction(I.pL)}if((0,M.pC)(Re)){var cr=Re;try{Z.initializeImageDimensions(cr),Z.setState({selectedElementIds:(0,G.Z)({},cr.id,!0)},function(){Z.actionManager.executeAction(I.pL)})}catch(Kt){console.error(Kt),Z.scene.replaceAllElements(Z.scene.getElementsIncludingDeleted().filter(function(Qt){return Qt.id!==cr.id})),Z.actionManager.executeAction(I.pL)}}else if((0,M.bt)(Re)){Re.points.length>1&&Z.history.resumeRecording();var Tr=(0,s.dE)(be,Z.state);ee.drag.hasOccurred||!Re||qe?ee.drag.hasOccurred&&!qe&&((0,u.N1)(Z.state)&&(0,M.Mn)(Re,!1)&&(0,u.R)(Re,Z.state,Z.scene,Tr),Z.setState({suggestedBindings:[],startBoundElement:null}),Ve.locked?Z.setState(function(Kt){return{draggingElement:null}}):((0,s.z8)(Z.canvas),Z.setState(function(Kt){return{draggingElement:null,activeTool:(0,s.Om)(Z.state,{type:"selection"}),selectedElementIds:rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Re.id,!0)),selectedLinearElement:new _._(Re,Z.scene)}}))):((0,v.DR)(Re,{points:[].concat((0,f.Z)(Re.points),[[Tr.x-Re.x,Tr.y-Re.y]])}),Z.setState({multiElement:Re,editingElement:Z.state.draggingElement}))}else{if(Ve.type!=="selection"&&Re&&(0,h.QD)(Re))return Z.scene.replaceAllElements(Z.scene.getElementsIncludingDeleted().slice(0,-1)),void Z.setState({draggingElement:null});Re&&(0,v.DR)(Re,(0,h.Qp)(Re)),Xe&&Z.history.resumeRecording(),Xe&&(0,h.QD)(Xe)&&Z.scene.replaceAllElements(Z.scene.getElementsIncludingDeleted().filter(function(Kt){return Kt.id!==Xe.id}));var Xt=ee.hit.element;if(((ke=Z.state.selectedLinearElement)===null||ke===void 0?void 0:ke.elementId)!==(Xt==null?void 0:Xt.id)&&(0,M.bt)(Xt)&&(0,ue.eD)(Z.scene.getNonDeletedElements(),Z.state).length===1&&Z.setState({selectedLinearElement:new _._(Xt,Z.scene)}),(0,R.EN)(Z.state)){if((0,L.LW)(Z.lastPointerDown.clientX,Z.lastPointerDown.clientY,Z.lastPointerUp.clientX,Z.lastPointerUp.clientY)===0){var vr=(0,s.dE)({clientX:Z.lastPointerUp.clientX,clientY:Z.lastPointerUp.clientY},Z.state);Z.getElementsAtPosition(vr.x,vr.y).forEach(function(Kt){return ee.elementIdsToErase[Kt.id]={erase:!0,opacity:Kt.opacity}})}Z.eraseElements(ee)}else{var fr;if(Object.keys(ee.elementIdsToErase).length&&Z.restoreReadyToEraseElements(ee),Xt&&!ee.drag.hasOccurred&&!ee.hit.wasAddedToSelection&&(!Z.state.editingLinearElement||!ee.boxSelection.hasOccurred))if(be.shiftKey&&!Z.state.editingLinearElement)if(Z.state.selectedElementIds[Xt.id])if((0,b.zq)(Z.state,Xt)){var Or=Xt.groupIds.flatMap(function(Kt){return(0,b.Fb)(Z.scene.getNonDeletedElements(),Kt)}).map(function(Kt){return(0,G.Z)({},Kt.id,!1)}).reduce(function(Kt,Qt){return rt(rt({},Kt),Qt)},{});Z.setState(function(Kt){return{selectedGroupIds:rt(rt({},Kt.selectedElementIds),Xt.groupIds.map(function(Qt){return(0,G.Z)({},Qt,!1)}).reduce(function(Qt,br){return rt(rt({},Qt),br)},{})),selectedElementIds:rt(rt({},Kt.selectedElementIds),Or)}})}else(fr=Z.state.selectedLinearElement)!==null&&fr!==void 0&&fr.isDragging||Z.setState(function(Kt){var Qt=rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Xt.id,!1)),br=(0,ue.eD)(Z.scene.getNonDeletedElements(),rt(rt({},Kt),{},{selectedElementIds:Qt}));return(0,b.bO)(rt(rt({},Kt),{},{selectedElementIds:Qt,selectedLinearElement:br.length===1&&(0,M.bt)(br[0])?new _._(br[0],Z.scene):Kt.selectedLinearElement}),Z.scene.getNonDeletedElements())});else Z.setState(function(Kt){return{selectedElementIds:rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Xt.id,!0))}});else Z.setState(function(Kt){var Qt;return rt({},(0,b.bO)(rt(rt({},Kt),{},{selectedElementIds:(0,G.Z)({},Xt.id,!0),selectedLinearElement:(0,M.bt)(Xt)&&((Qt=Kt.selectedLinearElement)===null||Qt===void 0?void 0:Qt.elementId)!==Xt.id?new _._(Xt,Z.scene):Kt.selectedLinearElement}),Z.scene.getNonDeletedElements()))});ee.drag.hasOccurred||Z.state.isResizing||!(Xt&&(0,h.wB)(Xt,Z.state,ee.origin.x,ee.origin.y)||!Xt&&ee.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ve.locked&&Ve.type!=="freedraw"&&Re&&Z.setState(function(Kt){return{selectedElementIds:rt(rt({},Kt.selectedElementIds),{},(0,G.Z)({},Re.id,!0))}}),(Ve.type!=="selection"||(0,ue.N)(Z.scene.getNonDeletedElements(),Z.state))&&Z.history.resumeRecording(),(ee.drag.hasOccurred||ht||lt)&&((0,u.N1)(Z.state)?u.el:u.H)((0,ue.eD)(Z.scene.getNonDeletedElements(),Z.state)),Ve.locked||Ve.type==="freedraw"?Z.setState({draggingElement:null,suggestedBindings:[]}):((0,s.z8)(Z.canvas),Z.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,s.Om)(Z.state,{type:"selection"})}))):Z.state.editingLinearElement?Z.setState({editingLinearElement:null}):Z.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(ee){var Z=(0,u.ZB)(ee);this.setState({suggestedBindings:Z})}},{key:"clearSelection",value:function(ee){this.setState(function(Z){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:Z.editingGroupId&&ee!=null&&(0,b.Nd)(ee,Z.editingGroupId)?Z.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(ee,Z,be,ke){if(ke){var Ie=ke.x+ke.width/2,De=ke.y+ke.height/2,Ae=(0,st.TP)(ke,be);if(Ae&&(Ie=Ae.x,De=Ae.y),Math.hypot(ee-Ie,Z-De)<n.wZ){var Re=(0,s._i)({sceneX:Ie,sceneY:De},be);return{viewportX:Re.x,viewportY:Re.y,elementCenterX:Ie,elementCenterY:De}}}}},{key:"getCanvasOffsets",value:function(){var ee;if((ee=this.excalidrawContainerRef)!==null&&ee!==void 0&&ee.current){var Z=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:Z.left,offsetTop:Z.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(E=(0,c.Z)(k().mark(function ee(){var Z,be=this;return k().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return Z=m.Mj.find(function(Ie){return Ie.code===be.props.langCode})||m.Fp,ke.next=3,(0,m.m0)(Z);case 3:this.setAppState({});case 4:case"end":return ke.stop()}},ee,this)})),function(){return E.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){vn=!1}}]),Se}(pe().Component);Vn.defaultProps={UIOptions:n.cW};var ia=function(){var r=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=bo,this.excalidrawContainerRef=pe().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var E;r.props.autoFocus&&((E=r.excalidrawContainerRef.current)===null||E===void 0||E.focus())},this.getSceneElementsIncludingDeleted=function(){return r.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return r.scene.getNonDeletedElements()},this.syncActionResult=(0,s.tH)(function(E){if(!r.unmounted&&E!==!1){var K=null;if(E.elements&&(E.elements.forEach(function(qe){var Ve;((Ve=r.state.editingElement)===null||Ve===void 0?void 0:Ve.id)===qe.id&&r.state.editingElement!==qe&&(0,h.qP)(qe)&&(K=qe)}),r.scene.replaceAllElements(E.elements),E.commitToHistory&&r.history.resumeRecording()),E.files&&(r.files=E.replaceFiles?E.files:rt(rt({},r.files),E.files),r.addNewImagesToImageCache()),E.appState||K||r.state.contextMenu){var oe,Se,ee,Z,be,ke;E.commitToHistory&&r.history.resumeRecording();var Ie=(E==null||(oe=E.appState)===null||oe===void 0?void 0:oe.viewModeEnabled)||!1,De=(E==null||(Se=E.appState)===null||Se===void 0?void 0:Se.zenModeEnabled)||!1,Ae=(E==null||(ee=E.appState)===null||ee===void 0?void 0:ee.gridSize)||null,Re=(E==null||(Z=E.appState)===null||Z===void 0?void 0:Z.theme)||r.props.theme||n.C6.LIGHT,Xe=(be=E==null||(ke=E.appState)===null||ke===void 0?void 0:ke.name)!==null&&be!==void 0?be:r.state.name;r.props.viewModeEnabled!==void 0&&(Ie=r.props.viewModeEnabled),r.props.zenModeEnabled!==void 0&&(De=r.props.zenModeEnabled),r.props.gridModeEnabled!==void 0&&(Ae=r.props.gridModeEnabled?n.k:null),r.props.name!==void 0&&(Xe=r.props.name),r.setState(function(qe){var Ve;return Object.assign(E.appState||{},{contextMenu:null,editingElement:K||((Ve=E.appState)===null||Ve===void 0?void 0:Ve.editingElement)||null,viewModeEnabled:Ie,zenModeEnabled:De,gridSize:Ae,theme:Re,name:Xe})},function(){E.syncHistory&&r.history.setCurrentState(r.state,r.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,s.tH)(function(){nn=!1,r.setState({isBindingEnabled:!0})}),this.onUnload=function(){r.onBlur()},this.disableEvent=function(E){E.preventDefault()},this.resetHistory=function(){r.history.clear()},this.resetScene=(0,s.tH)(function(E){r.scene.replaceAllElements([]),r.setState(function(K){return rt(rt({},(0,R.im)()),{},{isLoading:(E==null||!E.resetLoadingState)&&K.isLoading,theme:r.state.theme})}),r.resetHistory()}),this.initializeScene=(0,c.Z)(k().mark(function E(){var K,oe,Se,ee,Z;return k().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ke=(0,c.Z)(k().mark(function Ie(De){var Ae,Re;return k().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(De.files.length){Xe.next=2;break}return Xe.abrupt("return");case 2:return Ae=De.files[0],Xe.next=5,Ae.getFile();case 5:Re=Xe.sent,r.loadFileToCanvas(new File([Re],Re.name||"",{type:Re.type}),Ae);case 7:case"end":return Xe.stop()}},Ie)}));return function(Ie){return ke.apply(this,arguments)}}()),r.props.theme&&r.setState({theme:r.props.theme}),r.state.isLoading||r.setState({isLoading:!0}),Se=null,be.prev=4,be.next=7,r.props.initialData;case 7:if(be.t0=be.sent,be.t0){be.next=10;break}be.t0=null;case 10:Se=be.t0,(ee=Se)!==null&&ee!==void 0&&ee.libraryItems&&r.library.updateLibrary({libraryItems:Se.libraryItems,merge:!0}).catch(function(ke){console.error(ke)}),be.next=18;break;case 14:be.prev=14,be.t1=be.catch(4),console.error(be.t1),Se={appState:{errorMessage:be.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(Z=(0,H.nu)(Se,null,null)).appState=rt(rt({},Z.appState),{},{theme:r.props.theme||Z.appState.theme,openSidebar:((K=Z.appState)===null||K===void 0?void 0:K.openSidebar)||r.state.openSidebar,activeTool:Z.appState.activeTool.type==="image"?rt(rt({},Z.appState.activeTool),{},{type:"selection"}):Z.appState.activeTool,isLoading:!1,toast:r.state.toast}),(oe=Se)!==null&&oe!==void 0&&oe.scrollToContent&&(Z.appState=rt(rt({},Z.appState),(0,ue.W)(Z.elements,rt(rt({},Z.appState),{},{width:r.state.width,height:r.state.height,offsetTop:r.state.offsetTop,offsetLeft:r.state.offsetLeft}),null))),r.fonts.loadFontsForElements(Z.elements),r.resetHistory(),r.syncActionResult(rt(rt({},Z),{},{commitToHistory:!0}));case 24:case"end":return be.stop()}},E,null,[[4,14]])})),this.refreshDeviceState=function(E){var K=E.getBoundingClientRect(),oe=K.width,Se=K.height,ee=r.props.UIOptions.dockedSidebarBreakpoint!=null?r.props.UIOptions.dockedSidebarBreakpoint:n.sk;r.device=(0,s.v4)(r.device,{isSmScreen:oe<n.eF,isMobile:oe<n.kV||Se<n.Yx&&oe<n.sS,canDeviceFitSidebar:oe>ee})},this.onResize=(0,s.tH)(function(){r.scene.getElementsIncludingDeleted().forEach(function(E){return(0,ae.bI)(E)}),r.setState({})}),this.renderScene=function(){var E={},K={},oe={},Se={},ee={};r.state.collaborators.forEach(function(ke,Ie){if(ke.selectedElementIds)for(var De=0,Ae=Object.keys(ke.selectedElementIds);De<Ae.length;De++){var Re=Ae[De];Re in oe||(oe[Re]=[]),oe[Re].push(Ie)}ke.pointer&&(ke.username&&(Se[Ie]=ke.username),ke.userState&&(ee[Ie]=ke.userState),K[Ie]=(0,s._i)({sceneX:ke.pointer.x,sceneY:ke.pointer.y},r.state),E[Ie]=ke.button)});var Z=r.scene.getNonDeletedElements().filter(function(ke){return(!(0,M.pC)(ke)||r.state.pendingImageElementId!==ke.id)&&(!r.state.editingElement||r.state.editingElement.type!=="text"||ke.id!==r.state.editingElement.id)}),be=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,ce.Eu)({elements:Z,appState:r.state,scale:window.devicePixelRatio,rc:r.rc,canvas:r.canvas,renderConfig:{selectionColor:be,scrollX:r.state.scrollX,scrollY:r.state.scrollY,viewBackgroundColor:r.state.viewBackgroundColor,zoom:r.state.zoom,remotePointerViewportCoords:K,remotePointerButton:E,remoteSelectedElementIds:oe,remotePointerUsernames:Se,remotePointerUserStates:ee,shouldCacheIgnoreZoom:r.state.shouldCacheIgnoreZoom,theme:r.state.theme,imageCache:r.imageCache,isExporting:!1,renderScrollbars:!r.device.isMobile},callback:function(ke){var Ie=ke.atLeastOneVisibleElement,De=ke.scrollBars;De&&(Yn=De);var Ae=!(0,h.iB)(r.state.editingElement)&&!Ie&&Z.length>0;r.state.scrolledOutside!==Ae&&r.setState({scrolledOutside:Ae}),r.scheduleImageRefresh()}},In&&window.EXCALIDRAW_THROTTLE_RENDER===!0),In||(In=!0)},this.onScroll=(0,s.Ds)(function(){var E=r.getCanvasOffsets(),K=E.offsetTop,oe=E.offsetLeft;r.setState(function(Se){return Se.offsetLeft===oe&&Se.offsetTop===K?null:{offsetTop:K,offsetLeft:oe}})},n.HM),this.onCut=(0,s.tH)(function(E){var K;!((K=r.excalidrawContainerRef.current)===null||K===void 0)&&K.contains(document.activeElement)&&!(0,s.s)(E.target)&&(r.cutAll(),E.preventDefault(),E.stopPropagation())}),this.onCopy=(0,s.tH)(function(E){var K;!((K=r.excalidrawContainerRef.current)===null||K===void 0)&&K.contains(document.activeElement)&&!(0,s.s)(E.target)&&(r.copyAll(),E.preventDefault(),E.stopPropagation())}),this.cutAll=function(){r.actionManager.executeAction(I.ZM,"keyboard")},this.copyAll=function(){r.actionManager.executeAction(I.uN,"keyboard")},this.onTapStart=function(E){if(n.Dt||E.preventDefault(),!vn)return vn=!0,clearTimeout(Un),void(Un=window.setTimeout(Vn.resetTapTwice,n.Gj));if(vn&&E.touches.length===1){var K=(0,y.Z)(E.touches,1)[0];r.handleCanvasDoubleClick({clientX:K.clientX,clientY:K.clientY}),vn=!1,clearTimeout(Un)}n.Dt&&E.preventDefault(),E.touches.length===2&&r.setState({selectedElementIds:{}})},this.onTapEnd=function(E){r.resetContextMenuTimer(),E.touches.length>0?r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds}):rr.pointers.clear()},this.pasteFromClipboard=(0,s.tH)(function(){var E=(0,c.Z)(k().mark(function K(oe){var Se,ee,Z,be,ke,Ie,De,Ae,Re,Xe,qe,Ve,ht;return k().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(Z=!(!Gn||!oe),be=document.activeElement,ke=(Se=r.excalidrawContainerRef.current)===null||Se===void 0?void 0:Se.contains(be),!oe||ke){lt.next=5;break}return lt.abrupt("return");case 5:if(Ie=document.elementFromPoint(tn,rn),!oe||Ie instanceof HTMLCanvasElement&&!(0,s.s)(be)){lt.next=8;break}return lt.abrupt("return");case 8:return De=oe==null||(ee=oe.clipboardData)===null||ee===void 0?void 0:ee.files[0],lt.next=11,(0,D.mQ)(oe,Z);case 11:if(Ae=lt.sent,De||!Ae.text||Z||(Re=Ae.text.trim()).startsWith("<svg")&&Re.endsWith("</svg>")&&(De=(0,Ue.Pn)(Re)),!(0,Ue.Wr)(De)||Ae.spreadsheet){lt.next=20;break}return Xe=(0,s.dE)({clientX:tn,clientY:rn},r.state),qe=Xe.x,Ve=Xe.y,ht=r.createImageElement({sceneX:qe,sceneY:Ve}),r.insertImageElement(ht,De),r.initializeImageDimensions(ht),r.setState({selectedElementIds:(0,G.Z)({},ht.id,!0)}),lt.abrupt("return");case 20:if(!r.props.onPaste){lt.next=32;break}return lt.prev=21,lt.next=24,r.props.onPaste(Ae,oe);case 24:if(lt.t0=lt.sent,lt.t0!==!1){lt.next=27;break}return lt.abrupt("return");case 27:lt.next=32;break;case 29:lt.prev=29,lt.t1=lt.catch(21),console.error(lt.t1);case 32:Ae.errorMessage?r.setState({errorMessage:Ae.errorMessage}):Ae.spreadsheet&&!Z?r.setState({pasteDialog:{data:Ae.spreadsheet,shown:!0}}):Ae.elements?r.addElementsFromPasteOrLibrary({elements:Ae.elements,files:Ae.files||null,position:"cursor"}):Ae.text&&r.addTextFromPaste(Ae.text,Z),r.setActiveTool({type:"selection"}),oe==null||oe.preventDefault();case 35:case"end":return lt.stop()}},K,null,[[21,29]])}));return function(K){return E.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(E){var K=(0,H.ET)(E.elements,null),oe=(0,h.KP)(K),Se=(0,y.Z)(oe,4),ee=Se[0],Z=Se[1],be=Se[2],ke=Se[3],Ie=(0,s.TE)(ee,be)/2,De=(0,s.TE)(Z,ke)/2,Ae=(0,w.Z)(E.position)==="object"?E.position.clientX:E.position==="cursor"?tn:r.state.width/2+r.state.offsetLeft,Re=(0,w.Z)(E.position)==="object"?E.position.clientY:E.position==="cursor"?rn:r.state.height/2+r.state.offsetTop,Xe=(0,s.dE)({clientX:Ae,clientY:Re},r.state),qe=Xe.x-Ie,Ve=Xe.y-De,ht=new Map,lt=(0,L.wC)(qe,Ve,r.state.gridSize),kt=(0,y.Z)(lt,2),nt=kt[0],Nt=kt[1],Lt=new Map,Mt=K.map(function(wt){var Dt=(0,h.Sy)(r.state.editingGroupId,ht,wt,{x:wt.x+nt-ee,y:wt.y+Nt-Z});return Lt.set(wt.id,Dt.id),Dt});(0,st.P7)(Mt,K,Lt);var Wt=[].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),(0,f.Z)(Mt));(0,u.ek)(Wt,K,Lt),E.files&&(r.files=rt(rt({},r.files),E.files)),r.scene.replaceAllElements(Wt),r.history.resumeRecording(),r.setState((0,b.bO)(rt(rt({},r.state),{},{openSidebar:r.state.openSidebar&&r.device.canDeviceFitSidebar&&r.state.isSidebarDocked?r.state.openSidebar:null,selectedElementIds:Mt.reduce(function(wt,Dt){return(0,M.Xh)(Dt)||(wt[Dt.id]=!0),wt},{}),selectedGroupIds:{}}),r.scene.getNonDeletedElements()),function(){E.files&&r.addNewImagesToImageCache()}),r.setActiveTool({type:"selection"})},this.setAppState=function(E,K){r.setState(E,K)},this.removePointer=function(E){Jr&&r.resetContextMenuTimer(),rr.pointers.delete(E.pointerId)},this.toggleLock=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";r.state.activeTool.locked||(0,p.L)("toolbar","toggleLock","".concat(E," (").concat(r.device.isMobile?"mobile":"desktop",")")),r.setState(function(K){return{activeTool:rt(rt(rt({},K.activeTool),(0,s.Om)(r.state,K.activeTool.locked?{type:"selection"}:K.activeTool)),{},{locked:!K.activeTool.locked})}})},this.togglePenMode=function(){r.setState(function(E){return{penMode:!E.penMode}})},this.onHandToolToggle=function(){r.actionManager.executeAction(na.eF)},this.scrollToContent=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.scene.getNonDeletedElements();r.setState(rt({},(0,ue.W)(Array.isArray(E)?E:[E],r.state,r.canvas)))},this.setToast=function(E){r.setState({toast:E})},this.restoreFileFromShare=(0,c.Z)(k().mark(function E(){var K,oe,Se,ee;return k().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,Z.next=3,caches.open("web-share-target");case 3:return K=Z.sent,Z.next=6,K.match("shared-file");case 6:if(!(oe=Z.sent)){Z.next=16;break}return Z.next=10,oe.blob();case 10:return Se=Z.sent,ee=new File([Se],Se.name||"",{type:Se.type}),r.loadFileToCanvas(ee,null),Z.next=15,K.delete("shared-file");case 15:window.history.replaceState(null,n.iC,window.location.pathname);case 16:Z.next=21;break;case 18:Z.prev=18,Z.t0=Z.catch(0),r.setState({errorMessage:Z.t0.message});case 21:case"end":return Z.stop()}},E,null,[[0,18]])})),this.addFiles=(0,s.tH)(function(E){var K=E.reduce(function(oe,Se){return oe.set(Se.id,Se),oe},new Map);r.files=rt(rt({},r.files),Object.fromEntries(K)),r.scene.getNonDeletedElements().forEach(function(oe){(0,M.wi)(oe)&&K.has(oe.fileId)&&(r.imageCache.delete(oe.fileId),(0,ae.bI)(oe))}),r.scene.informMutation(),r.addNewImagesToImageCache()}),this.updateScene=(0,s.tH)(function(E){E.commitToHistory&&r.history.resumeRecording(),E.appState&&r.setState(E.appState),E.elements&&r.scene.replaceAllElements(E.elements),E.collaborators&&r.setState({collaborators:E.collaborators})}),this.onSceneUpdated=function(){r.setState({})},this.toggleMenu=function(E,K){return E!=="customSidebar"||r.props.renderSidebar?(E==="library"||E==="customSidebar")&&(oe=K===void 0?r.state.openSidebar===E?null:E:K?E:null,r.setState({openSidebar:oe}),!!oe):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var oe},this.updateCurrentCursorPosition=(0,s.tH)(function(E){tn=E.clientX,rn=E.clientY}),this.onKeyDown=(0,s.tH)(function(E){if("Proxy"in window&&(!E.shiftKey&&/^[A-Z]$/.test(E.key)||E.shiftKey&&/^[a-z]$/.test(E.key))&&(E=new Proxy(E,{get:function(Ve,ht){var lt=Ve[ht];return typeof lt=="function"?lt.bind(Ve):ht==="key"?E.shiftKey?Ve.key.toUpperCase():Ve.key.toLowerCase():lt}})),E[C.tW.CTRL_OR_CMD]&&E.key.toLowerCase()===C.tW.V&&(Gn=E.shiftKey,clearTimeout(xo),xo=window.setTimeout(function(){Gn=!1},100)),!E[C.tW.CTRL_OR_CMD]||!(0,s.s)(E.target)||E.code!==C.aU.MINUS&&E.code!==C.aU.EQUAL){if(!((0,s.s)(E.target)&&E.key!==C.tW.ESCAPE||(0,C.Wl)(E.key)&&(0,s._Z)(E.target)))if(E.key!==C.tW.QUESTION_MARK)if(E.key.toLowerCase()===C.tW.E&&E.shiftKey&&E[C.tW.CTRL_OR_CMD])r.setState({openDialog:"imageExport"});else{if(E.key===C.tW.PAGE_UP||E.key===C.tW.PAGE_DOWN){var K=(E.shiftKey?r.state.width:r.state.height)/r.state.zoom.value;E.key===C.tW.PAGE_DOWN&&(K=-K),E.shiftKey?r.setState(function(Ve){return{scrollX:Ve.scrollX+K}}):r.setState(function(Ve){return{scrollY:Ve.scrollY+K}})}if(!r.actionManager.handleKeyDown(E)&&!r.state.viewModeEnabled){if(E[C.tW.CTRL_OR_CMD]&&r.state.isBindingEnabled&&r.setState({isBindingEnabled:!1}),(0,C.Wl)(E.key)){var oe=r.state.gridSize&&(E.shiftKey?n.$e:r.state.gridSize)||(E.shiftKey?n.Iw:n.$e),Se=0,ee=0;E.key===C.tW.ARROW_LEFT?Se=-oe:E.key===C.tW.ARROW_RIGHT?Se=oe:E.key===C.tW.ARROW_UP?ee=-oe:E.key===C.tW.ARROW_DOWN&&(ee=oe);var Z=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state,!0);Z.forEach(function(Ve){(0,v.DR)(Ve,{x:Ve.x+Se,y:Ve.y+ee}),(0,u.Ww)(Ve,{simultaneouslyUpdated:Z})}),r.maybeSuggestBindingForAll(Z),E.preventDefault()}else if(E.key===C.tW.ENTER){var be=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(be.length===1){var ke=be[0];if(E[C.tW.CTRL_OR_CMD])(0,M.bt)(ke)&&(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===be[0].id||(r.history.resumeRecording(),r.setState({editingLinearElement:new _._(ke,r.scene)})));else if((0,h.iB)(ke)||(0,st.Zr)(ke)){var Ie;(0,h.iB)(ke)||(Ie=ke);var De=(0,st.TP)(ke,r.state),Ae=De.x,Re=De.y;return r.startTextEditing({sceneX:Ae,sceneY:Re,container:Ie}),void E.preventDefault()}}}else if(!E.ctrlKey&&!E.altKey&&!E.metaKey&&r.state.draggingElement===null){var Xe=function(Ve){var ht=N.find(function(lt,kt){return lt.numericKey!=null&&Ve===lt.numericKey.toString()||lt.key&&(typeof lt.key=="string"?lt.key===Ve:lt.key.includes(Ve))});return(ht==null?void 0:ht.value)||null}(E.key);Xe?(r.state.activeTool.type!==Xe&&(0,p.L)("toolbar",Xe,"keyboard (".concat(r.device.isMobile?"mobile":"desktop",")")),r.setActiveTool({type:Xe}),E.stopPropagation()):E.key===C.tW.Q&&(r.toggleLock("keyboard"),E.stopPropagation())}if(E.key===C.tW.SPACE&&rr.pointers.size===0&&(nn=!0,(0,s.KJ)(r.canvas,n.oc.GRAB),E.preventDefault()),!(E.key!==C.tW.G&&E.key!==C.tW.S||E.altKey||E[C.tW.CTRL_OR_CMD])){var qe=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(r.state.activeTool.type==="selection"&&!qe.length)return;E.key===C.tW.G&&((0,ue.$b)(r.state.activeTool.type)||qe.some(function(Ve){return(0,ue.$b)(Ve.type)}))&&(r.setState({openPopup:"backgroundColorPicker"}),E.stopPropagation()),E.key===C.tW.S&&(r.setState({openPopup:"strokeColorPicker"}),E.stopPropagation())}}}else r.setState({openDialog:"help"})}else E.preventDefault()}),this.onWheel=(0,s.tH)(function(E){E.target instanceof HTMLCanvasElement||!E.ctrlKey||E.preventDefault()}),this.onKeyUp=(0,s.tH)(function(E){if(E.key===C.tW.SPACE&&(r.state.viewModeEnabled?(0,s.KJ)(r.canvas,n.oc.GRAB):r.state.activeTool.type==="selection"?(0,s.z8)(r.canvas):((0,s.Uk)(r.canvas,r.state),r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),nn=!1),E[C.tW.CTRL_OR_CMD]||r.state.isBindingEnabled||r.setState({isBindingEnabled:!0}),(0,C.Wl)(E.key)){var K=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);(0,u.N1)(r.state)?(0,u.el)(K):(0,u.H)(K),r.setState({suggestedBindings:[]})}}),this.setActiveTool=function(E){var K=(0,s.Om)(r.state,E);K.type==="hand"?(0,s.KJ)(r.canvas,n.oc.GRAB):nn||(0,s.Uk)(r.canvas,r.state),(0,s.wO)(document.activeElement)&&r.focusContainer(),(0,M.dt)(K.type)||r.setState({suggestedBindings:[]}),K.type==="image"&&r.onImageAction(),K.type!=="selection"?r.setState({activeTool:K,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):r.setState({activeTool:K})},this.setCursor=function(E){(0,s.KJ)(r.canvas,E)},this.resetCursor=function(){(0,s.z8)(r.canvas)},this.isTouchScreenMultiTouchGesture=function(){return rr.pointers.size>=2},this.onGestureStart=(0,s.tH)(function(E){E.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({selectedElementIds:{}}),rr.initialScale=r.state.zoom.value}),this.onGestureChange=(0,s.tH)(function(E){if(E.preventDefault(),!r.isTouchScreenMultiTouchGesture()){var K=rr.initialScale;K&&r.setState(function(oe){return rt({},(0,Pe.E)({viewportX:tn,viewportY:rn,nextZoom:(0,ue.j)(K*E.scale)},oe))})}}),this.onGestureEnd=(0,s.tH)(function(E){E.preventDefault(),r.isTouchScreenMultiTouchGesture()&&r.setState({previousSelectedElementIds:{},selectedElementIds:r.state.previousSelectedElementIds}),rr.initialScale=null}),this.startTextEditing=function(E){var K,oe=E.sceneX,Se=E.sceneY,ee=E.insertAtParentCenter,Z=ee===void 0||ee,be=E.container,ke=!1,Ie=Z&&r.getTextWysiwygSnappedToCenterPosition(oe,Se,r.state,be);be&&Ie&&(ke=!0);var De=null,Ae=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(!(De=Ae.length===1?(0,h.iB)(Ae[0])?Ae[0]:be?(0,st.WJ)(Ae[0]):r.getTextElementAtPosition(oe,Se):r.getTextElementAtPosition(oe,Se))&&ke&&be&&!(0,M.Yv)(be)){var Re={fontSize:r.state.currentItemFontSize,fontFamily:r.state.currentItemFontFamily},Xe=(0,st.AT)((0,s.mO)(Re)),qe=(0,st.w_)((0,s.mO)(Re)),Ve=(0,st.HE)(be),ht=Math.max(Ve.height,qe),lt=Math.max(Ve.width,Xe);(0,v.DR)(be,{height:ht,width:lt}),oe=be.x+lt/2,Se=be.y+ht/2,Ie&&(Ie=r.getTextWysiwygSnappedToCenterPosition(oe,Se,r.state,be))}var kt=De||(0,h.VL)({x:Ie?Ie.elementCenterX:oe,y:Ie?Ie.elementCenterY:Se,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:null,text:"",fontSize:r.state.currentItemFontSize,fontFamily:r.state.currentItemFontFamily,textAlign:Ie?"center":r.state.currentItemTextAlign,verticalAlign:Ie?n.oX.MIDDLE:n.hs,containerId:ke?be==null?void 0:be.id:void 0,groupIds:(K=be==null?void 0:be.groupIds)!==null&&K!==void 0?K:[],locked:!1});if(!De&&ke&&be&&(0,v.DR)(be,{boundElements:(be.boundElements||[]).concat({type:"text",id:kt.id})}),r.setState({editingElement:kt}),!De){if(be&&ke){var nt=r.scene.getElementIndex(be.id);r.scene.insertElementAtIndex(kt,nt+1)}else r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[kt]));Ie||(0,v.DR)(kt,{y:kt.y-kt.baseline/2})}r.setState({editingElement:kt}),r.handleTextWysiwyg(kt,{isExistingElement:!!De})},this.handleCanvasDoubleClick=function(E){if(!r.state.multiElement&&r.state.activeTool.type==="selection"){var K=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state);if(K.length===1&&(0,M.bt)(K[0])){if(E[C.tW.CTRL_OR_CMD]&&(!r.state.editingLinearElement||r.state.editingLinearElement.elementId!==K[0].id))return r.history.resumeRecording(),void r.setState({editingLinearElement:new _._(K[0],r.scene)});if(r.state.editingLinearElement&&r.state.editingLinearElement.elementId===K[0].id)return}(0,s.z8)(r.canvas);var oe=(0,s.dE)(E,r.state),Se=oe.x,ee=oe.y;if((0,b.iJ)(r.state).length>0){var Z=r.getElementAtPosition(Se,ee),be=Z&&(0,b.YS)(Z,r.state.selectedGroupIds);if(be)return void r.setState(function(De){return(0,b.bO)(rt(rt({},De),{},{editingGroupId:be,selectedElementIds:(0,G.Z)({},Z.id,!0),selectedGroupIds:{}}),r.scene.getNonDeletedElements())})}if((0,s.z8)(r.canvas),!E[C.tW.CTRL_OR_CMD]&&!r.state.viewModeEnabled){var ke=(0,st.OW)(r.scene.getNonDeletedElements(),r.state,Se,ee);if(ke&&((0,M.Yv)(ke)||(0,M.Xo)(ke))){var Ie=(0,st.TP)(ke,r.state);Se=Ie.x,ee=Ie.y}r.startTextEditing({sceneX:Se,sceneY:ee,insertAtParentCenter:!E.altKey,container:ke})}}},this.getElementLinkAtPosition=function(E,K){var oe=r.scene.getNonDeletedElements().slice().reverse(),Se=1/0;return oe.find(function(ee,Z){return K&&ee.id===K.id&&(Se=Z),ee.link&&Z<=Se&&(0,qr.wq)(ee,r.state,[E.x,E.y],r.device.isMobile)})},this.redirectToLink=function(E,K){var oe=(0,L.LW)(r.lastPointerDown.clientX,r.lastPointerDown.clientY,r.lastPointerUp.clientX,r.lastPointerUp.clientY);if(!(!r.hitLinkElement||K&&oe>n.f||!K&&oe!==0)){var Se=(0,s.dE)(r.lastPointerDown,r.state),ee=(0,qr.wq)(r.hitLinkElement,r.state,[Se.x,Se.y],r.device.isMobile),Z=(0,s.dE)(r.lastPointerUp,r.state),be=(0,qr.wq)(r.hitLinkElement,r.state,[Z.x,Z.y],r.device.isMobile);if(ee&&be){var ke,Ie,De=r.hitLinkElement.link;if(De&&(r.props.onLinkOpen&&(Ie=(0,s.ag)(n.Ks.EXCALIDRAW_LINK,E.nativeEvent),r.props.onLinkOpen(r.hitLinkElement,Ie)),(ke=Ie)===null||ke===void 0||!ke.defaultPrevented)){var Ae=(0,qr.q$)(De)?"_self":"_blank",Re=window.open(void 0,Ae);Re&&(Re.opener=null,Re.location=(0,qr.$u)(De))}}}},this.handleCanvasPointerMove=function(E){r.savePointer(E.clientX,E.clientY,r.state.cursorButton),rr.pointers.has(E.pointerId)&&rr.pointers.set(E.pointerId,{x:E.clientX,y:E.clientY});var K=rr.initialScale;if(rr.pointers.size===2&&rr.lastCenter&&K&&rr.initialDistance){var oe=re(rr.pointers),Se=oe.x-rr.lastCenter.x,ee=oe.y-rr.lastCenter.y;rr.lastCenter=oe;var Z=O(Array.from(rr.pointers.values())),be=r.state.activeTool.type==="freedraw"&&r.state.penMode?1:Z/rr.initialDistance,ke=be?(0,ue.j)(K*be):r.state.zoom.value;r.setState(function(br){var Qr=(0,Pe.E)({viewportX:oe.x,viewportY:oe.y,nextZoom:ke},br);return{zoom:Qr.zoom,scrollX:Qr.scrollX+Se/ke,scrollY:Qr.scrollY+ee/ke,shouldCacheIgnoreZoom:!0}}),r.resetShouldCacheIgnoreZoomDebounced()}else rr.lastCenter=rr.initialDistance=rr.initialScale=null;if(!(nn||bn||Kn||(0,R.l$)(r.state))){var Ie=(0,ue._4)(Yn,E.clientX-r.state.offsetLeft,E.clientY-r.state.offsetTop).isOverEither;r.state.draggingElement||r.state.multiElement||(Ie?(0,s.z8)(r.canvas):(0,s.Uk)(r.canvas,r.state));var De=(0,s.dE)(E,r.state),Ae=De.x,Re=De.y;if(r.state.editingLinearElement&&!r.state.editingLinearElement.isDragging){var Xe=_._.handlePointerMove(E,Ae,Re,r.state);Xe&&Xe!==r.state.editingLinearElement&&(0,Ee.flushSync)(function(){r.setState({editingLinearElement:Xe})}),(Xe==null?void 0:Xe.lastUncommittedPoint)!=null?r.maybeSuggestBindingAtCursor(De):(0,Ee.flushSync)(function(){r.setState({suggestedBindings:[]})})}if((0,M.Lx)(r.state.activeTool.type)){var qe=r.state.draggingElement;(0,M.Mn)(qe,!1)?r.maybeSuggestBindingsForLinearElementAtCoords(qe,[De],r.state.startBoundElement):r.maybeSuggestBindingAtCursor(De)}if(r.state.multiElement){var Ve=r.state.multiElement,ht=Ve.x,lt=Ve.y,kt=Ve.points,nt=Ve.lastCommittedPoint,Nt=kt[kt.length-1];if((0,s.Uk)(r.canvas,r.state),Nt===nt)(0,L.LW)(Ae-ht,Re-lt,Nt[0],Nt[1])>=n.qx?(0,v.DR)(Ve,{points:[].concat((0,f.Z)(kt),[[Ae-ht,Re-lt]])}):(0,s.KJ)(r.canvas,n.oc.POINTER);else if(kt.length>2&&nt&&(0,L.LW)(Ae-ht,Re-lt,nt[0],nt[1])<n.qx)(0,s.KJ)(r.canvas,n.oc.POINTER),(0,v.DR)(Ve,{points:kt.slice(0,-1)});else{var Lt,Mt=(0,L.wC)(Ae,Re,r.state.gridSize),Wt=(0,y.Z)(Mt,2),wt=Wt[0],Dt=Wt[1],Vt=(Lt=Ve==null?void 0:Ve.lastCommittedPoint)!==null&&Lt!==void 0?Lt:[0,0],dr=(0,y.Z)(Vt,2),gr=dr[0],xr=dr[1],cr=wt-ht-gr,Tr=Dt-lt-xr;if((0,C.Ge)(E)){var Xt=(0,h.o4)(gr+ht,xr+lt,wt,Dt);cr=Xt.width,Tr=Xt.height}(0,L.g6)(kt,r.state.zoom.value)&&(0,s.KJ)(r.canvas,n.oc.POINTER),(0,v.DR)(Ve,{points:[].concat((0,f.Z)(kt.slice(0,-1)),[[gr+cr,xr+Tr]])})}}else if(!(E.buttons||r.state.activeTool.type!=="selection"&&r.state.activeTool.type!=="text"&&r.state.activeTool.type!=="eraser")){var vr=r.scene.getNonDeletedElements(),fr=(0,ue.eD)(vr,r.state);if(fr.length!==1||Ie||r.state.editingLinearElement){if(fr.length>1&&!Ie){var Or=(0,h.n2)((0,h.KP)(fr),Ae,Re,r.state.zoom,E.pointerType);if(Or)return void(0,s.KJ)(r.canvas,(0,h.Un)({transformHandleType:Or}))}}else{var Kt=(0,h.jt)(vr,r.state,Ae,Re,r.state.zoom,E.pointerType);if(Kt&&Kt.transformHandleType)return void(0,s.KJ)(r.canvas,(0,h.Un)(Kt))}var Qt=r.getElementAtPosition(De.x,De.y);r.hitLinkElement=r.getElementLinkAtPosition(De,Qt),(0,R.EN)(r.state)||(r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]?((0,s.KJ)(r.canvas,n.oc.POINTER),(0,qr.Pp)(r.hitLinkElement,r.state)):((0,qr.lV)(),Qt&&Qt.link&&r.state.selectedElementIds[Qt.id]&&!r.state.contextMenu&&!r.state.showHyperlinkPopup?r.setState({showHyperlinkPopup:"info"}):r.state.activeTool.type==="text"?(0,s.KJ)(r.canvas,(0,h.iB)(Qt)?n.oc.TEXT:n.oc.CROSSHAIR):r.state.viewModeEnabled?(0,s.KJ)(r.canvas,n.oc.GRAB):Ie?(0,s.KJ)(r.canvas,n.oc.AUTO):r.state.selectedLinearElement?r.handleHoverSelectedLinearElement(r.state.selectedLinearElement,Ae,Re):E[C.tW.CTRL_OR_CMD]?(0,s.KJ)(r.canvas,n.oc.AUTO):!Qt&&!r.isHittingCommonBoundingBoxOfSelectedElements(De,fr)||Qt!=null&&Qt.locked||(0,s.KJ)(r.canvas,n.oc.MOVE)))}}},this.handleEraser=function(E,K,oe){for(var Se=function(qe){qe.forEach(function(Ve){Ve.locked||(ee.push(Ve.id),E.altKey?K.elementIdsToErase[Ve.id]&&K.elementIdsToErase[Ve.id].erase&&(K.elementIdsToErase[Ve.id].erase=!1):K.elementIdsToErase[Ve.id]||(K.elementIdsToErase[Ve.id]={erase:!0,opacity:Ve.opacity}))})},ee=[],Z=(0,L.LW)(K.lastCoords.x,K.lastCoords.y,oe.x,oe.y),be=10/r.state.zoom.value,ke=rt({},K.lastCoords),Ie=0;Ie<=Z&&(Se(r.getElementsAtPosition(ke.x,ke.y)),Ie!==Z);){var De=(Ie=Math.min(Ie+be,Z))/Z,Ae=(1-De)*ke.x+De*oe.x,Re=(1-De)*ke.y+De*oe.y;ke.x=Ae,ke.y=Re}var Xe=r.scene.getElementsIncludingDeleted().map(function(qe){var Ve=(0,M.Xh)(qe)&&ee.includes(qe.containerId)?qe.containerId:qe.id;if(ee.includes(Ve)){if(!E.altKey)return(0,v.BE)(qe,{opacity:n.xY});if(K.elementIdsToErase[Ve]&&K.elementIdsToErase[Ve].erase===!1)return(0,v.BE)(qe,{opacity:K.elementIdsToErase[Ve].opacity})}return qe});r.scene.replaceAllElements(Xe),K.lastCoords.x=oe.x,K.lastCoords.y=oe.y},this.handleTouchMove=function(E){yn=!0},this.handleCanvasPointerDown=function(E){var K,oe;r.state.contextMenu&&r.setState({contextMenu:null});var Se=document.getSelection();if(Se!=null&&Se.anchorNode&&Se.removeAllRanges(),r.maybeOpenContextMenuAfterPointerDownOnTouchDevices(E),r.maybeCleanupAfterMissingPointerUp(E),r.state.penDetected||E.pointerType!=="pen"||r.setState(function(qe){return{penMode:!0,penDetected:!0}}),!r.device.isTouchScreen&&["pen","touch"].includes(E.pointerType)&&(r.device=(0,s.v4)(r.device,{isTouchScreen:!0})),!bn&&(r.lastPointerDown=E,r.setState({lastPointerDownWith:E.pointerType,cursorButton:"down"}),r.savePointer(E.clientX,E.clientY,"down"),r.updateGestureOnPointerDown(E),!r.handleCanvasPanUsingWheelOrSpaceDrag(E)&&!(E.button!==n.Oh.MAIN&&E.button!==n.Oh.TOUCH||rr.pointers.size>1))){var ee=r.initialPointerDownState(E);if(!r.handleDraggingScrollBar(E,ee)&&(r.clearSelectionIfNotUsingSelection(),r.updateBindingEnabledOnPointerMove(E),!r.handleSelectionOnPointerDown(E,ee)&&(!r.state.penMode||E.pointerType!=="touch"||r.state.activeTool.type==="selection"||r.state.activeTool.type==="text"||r.state.activeTool.type==="image")))if(r.state.activeTool.type!=="text"){if(r.state.activeTool.type==="arrow"||r.state.activeTool.type==="line")r.handleLinearElementOnPointerDown(E,r.state.activeTool.type,ee);else if(r.state.activeTool.type==="image"){(0,s.KJ)(r.canvas,n.oc.CROSSHAIR);var Z=r.state.pendingImageElementId&&r.scene.getElement(r.state.pendingImageElementId);if(!Z)return;r.setState({draggingElement:Z,editingElement:Z,pendingImageElementId:null,multiElement:null});var be=(0,s.dE)(E,r.state),ke=be.x,Ie=be.y;(0,v.DR)(Z,{x:ke,y:Ie})}else r.state.activeTool.type==="freedraw"?r.handleFreeDrawElementOnPointerDown(E,r.state.activeTool.type,ee):r.state.activeTool.type==="custom"?(0,s.KJ)(r.canvas,n.oc.AUTO):r.state.activeTool.type!=="eraser"&&r.state.activeTool.type!=="hand"&&r.createGenericElementOnPointerDown(r.state.activeTool.type,ee);(K=r.props)===null||K===void 0||(oe=K.onPointerDown)===null||oe===void 0||oe.call(K,r.state.activeTool,ee);var De=r.onPointerMoveFromPointerDownHandler(ee),Ae=r.onPointerUpFromPointerDownHandler(ee),Re=r.onKeyDownFromPointerDownHandler(ee),Xe=r.onKeyUpFromPointerDownHandler(ee);$r=Ae,r.state.viewModeEnabled||(window.addEventListener(n.Ks.POINTER_MOVE,De),window.addEventListener(n.Ks.POINTER_UP,Ae),window.addEventListener(n.Ks.KEYDOWN,Re),window.addEventListener(n.Ks.KEYUP,Xe),ee.eventListeners.onMove=De,ee.eventListeners.onUp=Ae,ee.eventListeners.onKeyUp=Xe,ee.eventListeners.onKeyDown=Re)}else r.handleTextOnPointerDown(E,ee)}},this.handleCanvasPointerUp=function(E){if(r.lastPointerUp=E,r.device.isTouchScreen){var K=(0,s.dE)({clientX:E.clientX,clientY:E.clientY},r.state),oe=r.getElementAtPosition(K.x,K.y);r.hitLinkElement=r.getElementLinkAtPosition(K,oe)}r.hitLinkElement&&!r.state.selectedElementIds[r.hitLinkElement.id]&&r.redirectToLink(E,r.device.isTouchScreen),r.removePointer(E)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(E){E.pointerType==="touch"&&(yn=!1,Jr?yn=!0:Jr=window.setTimeout(function(){Jr=0,yn||r.handleCanvasContextMenu(E)},n.nM))},this.resetContextMenuTimer=function(){clearTimeout(Jr),Jr=0,yn=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(E){if(!(rr.pointers.size<=1&&(E.button===n.Oh.WHEEL||E.button===n.Oh.MAIN&&nn||(0,R.l$)(r.state)||r.state.viewModeEnabled))||(0,h.iB)(r.state.editingElement))return!1;bn=!0,E.preventDefault();var K=!1,oe=/Linux/.test(window.navigator.platform);(0,s.KJ)(r.canvas,n.oc.GRABBING);var Se=E.clientX,ee=E.clientY,Z=(0,s.$9)(function(ke){var Ie=Se-ke.clientX,De=ee-ke.clientY;if(Se=ke.clientX,ee=ke.clientY,oe&&!K&&(Math.abs(Ie)>1||Math.abs(De)>1)){K=!0;var Ae=function Re(Xe){document.body.removeEventListener(n.Ks.PASTE,Re),Xe.stopPropagation()};document.body.addEventListener(n.Ks.PASTE,Ae),window.addEventListener(n.Ks.POINTER_UP,function Re(){setTimeout(function(){document.body.removeEventListener(n.Ks.PASTE,Ae),window.removeEventListener(n.Ks.POINTER_UP,Re)},100)})}r.setState({scrollX:r.state.scrollX-Ie/r.state.zoom.value,scrollY:r.state.scrollY-De/r.state.zoom.value})}),be=(0,s.tH)($r=function(){$r=null,bn=!1,nn||(r.state.viewModeEnabled?(0,s.KJ)(r.canvas,n.oc.GRAB):(0,s.Uk)(r.canvas,r.state)),r.setState({cursorButton:"up"}),r.savePointer(E.clientX,E.clientY,"up"),window.removeEventListener(n.Ks.POINTER_MOVE,Z),window.removeEventListener(n.Ks.POINTER_UP,be),window.removeEventListener(n.Ks.BLUR,be),Z.flush()});return window.addEventListener(n.Ks.BLUR,be),window.addEventListener(n.Ks.POINTER_MOVE,Z,{passive:!0}),window.addEventListener(n.Ks.POINTER_UP,be),!0},this.clearSelectionIfNotUsingSelection=function(){r.state.activeTool.type!=="selection"&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(E,K){if(r.state.activeTool.type==="selection"){var oe=r.scene.getNonDeletedElements(),Se=(0,ue.eD)(oe,r.state);if(Se.length!==1||r.state.editingLinearElement)Se.length>1&&(K.resize.handleType=(0,h.n2)((0,h.KP)(Se),K.origin.x,K.origin.y,r.state.zoom,E.pointerType));else{var ee=(0,h.jt)(oe,r.state,K.origin.x,K.origin.y,r.state.zoom,E.pointerType);ee!=null&&(r.setState({resizingElement:ee.element}),K.resize.handleType=ee.transformHandleType)}if(K.resize.handleType)(0,s.KJ)(r.canvas,(0,h.Un)({transformHandleType:K.resize.handleType})),K.resize.isResizing=!0,K.resize.offset=(0,s.AK)((0,h.xx)(K.resize.handleType,Se,K.origin.x,K.origin.y)),Se.length===1&&(0,M.bt)(Se[0])&&Se[0].points.length===2&&(K.resize.arrowDirection=(0,h.T)(K.resize.handleType,Se[0]));else{var Z;if(r.state.selectedLinearElement){var be=r.state.editingLinearElement||r.state.selectedLinearElement,ke=_._.handlePointerDown(E,r.state,r.history,K.origin,be);if(ke.hitElement&&(K.hit.element=ke.hitElement),ke.linearElementEditor&&(r.setState({selectedLinearElement:ke.linearElementEditor}),r.state.editingLinearElement&&r.setState({editingLinearElement:ke.linearElementEditor})),ke.didAddPoint)return!0}if(K.hit.element=(Z=K.hit.element)!==null&&Z!==void 0?Z:r.getElementAtPosition(K.origin.x,K.origin.y),K.hit.element&&r.getElementLinkAtPosition({x:K.origin.x,y:K.origin.y},K.hit.element))return!1;K.hit.allHitElements=r.getElementsAtPosition(K.origin.x,K.origin.y);var Ie=K.hit.element,De=K.hit.allHitElements.some(function(Ae){return r.isASelectedElement(Ae)});if(Ie!==null&&De||E.shiftKey||K.hit.hasHitCommonBoundingBoxOfSelectedElements||r.clearSelection(Ie),r.state.editingLinearElement)r.setState({selectedElementIds:(0,G.Z)({},r.state.editingLinearElement.elementId,!0)});else if(Ie!=null){if(E[C.tW.CTRL_OR_CMD])return r.state.selectedElementIds[Ie.id]||(K.hit.wasAddedToSelection=!0),r.setState(function(Ae){return rt(rt({},(0,b.iE)(Ae,Ie)),{},{previousSelectedElementIds:r.state.selectedElementIds})}),!1;r.state.selectedElementIds[Ie.id]||(r.state.editingGroupId&&!(0,b.Nd)(Ie,r.state.editingGroupId)&&r.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),De||K.hit.hasHitCommonBoundingBoxOfSelectedElements||(r.setState(function(Ae){return(0,b.bO)(rt(rt({},Ae),{},{selectedElementIds:rt(rt({},Ae.selectedElementIds),{},(0,G.Z)({},Ie.id,!0)),showHyperlinkPopup:!!Ie.link&&"info"}),r.scene.getNonDeletedElements())}),K.hit.wasAddedToSelection=!0))}r.setState({previousSelectedElementIds:r.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(E,K){if(!(0,h.iB)(r.state.editingElement)){var oe=K.origin.x,Se=K.origin.y,ee=r.getElementAtPosition(oe,Se,{includeBoundTextElement:!0}),Z=(0,st.OW)(r.scene.getNonDeletedElements(),r.state,oe,Se);(0,M.Xo)(ee)&&(Z=ee,oe=ee.x+ee.width/2,Se=ee.y+ee.height/2),r.startTextEditing({sceneX:oe,sceneY:Se,insertAtParentCenter:!E.altKey,container:Z}),(0,s.z8)(r.canvas),r.state.activeTool.locked||r.setState({activeTool:(0,s.Om)(r.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(E,K,oe){var Se=(0,L.wC)(oe.origin.x,oe.origin.y,null),ee=(0,y.Z)(Se,2),Z=ee[0],be=ee[1],ke=(0,W.KE)({type:K,x:Z,y:be,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:null,simulatePressure:E.pressure===.5,locked:!1});r.setState(function(Ae){return{selectedElementIds:rt(rt({},Ae.selectedElementIds),{},(0,G.Z)({},ke.id,!1))}});var Ie=ke.simulatePressure?ke.pressures:[].concat((0,f.Z)(ke.pressures),[E.pressure]);(0,v.DR)(ke,{points:[[0,0]],pressures:Ie});var De=(0,u.Y9)(oe.origin,r.scene);r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[ke])),r.setState({draggingElement:ke,editingElement:ke,startBoundElement:De,suggestedBindings:[]})},this.createImageElement=function(E){var K=E.sceneX,oe=E.sceneY,Se=(0,L.wC)(K,oe,r.state.gridSize),ee=(0,y.Z)(Se,2),Z=ee[0],be=ee[1];return(0,h.vw)({type:"image",x:Z,y:be,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,roundness:null,opacity:r.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(E,K,oe){if(r.state.multiElement){var Se=r.state.multiElement;if(Se.type==="line"&&(0,L.g6)(Se.points,r.state.zoom.value))return(0,v.DR)(Se,{lastCommittedPoint:Se.points[Se.points.length-1]}),void r.actionManager.executeAction(I.pL);var ee=Se.x,Z=Se.y,be=Se.lastCommittedPoint;if(Se.points.length>1&&be&&(0,L.LW)(oe.origin.x-ee,oe.origin.y-Z,be[0],be[1])<n.qx)return void r.actionManager.executeAction(I.pL);r.setState(function(Lt){return{selectedElementIds:rt(rt({},Lt.selectedElementIds),{},(0,G.Z)({},Se.id,!0))}}),(0,v.DR)(Se,{lastCommittedPoint:Se.points[Se.points.length-1]}),(0,s.KJ)(r.canvas,n.oc.POINTER)}else{var ke=(0,L.wC)(oe.origin.x,oe.origin.y,r.state.gridSize),Ie=(0,y.Z)(ke,2),De=Ie[0],Ae=Ie[1],Re=r.state,Xe=Re.currentItemStartArrowhead,qe=Re.currentItemEndArrowhead,Ve=K==="arrow"?[Xe,qe]:[null,null],ht=(0,y.Z)(Ve,2),lt=ht[0],kt=ht[1],nt=(0,h.y8)({type:K,x:De,y:Ae,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.state.currentItemRoundness==="round"?{type:n.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:lt,endArrowhead:kt,locked:!1});r.setState(function(Lt){return{selectedElementIds:rt(rt({},Lt.selectedElementIds),{},(0,G.Z)({},nt.id,!1))}}),(0,v.DR)(nt,{points:[].concat((0,f.Z)(nt.points),[[0,0]])});var Nt=(0,u.Y9)(oe.origin,r.scene);r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[nt])),r.setState({draggingElement:nt,editingElement:nt,startBoundElement:Nt,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(E,K){var oe=(0,L.wC)(K.origin.x,K.origin.y,r.state.gridSize),Se=(0,y.Z)(oe,2),ee=Se[0],Z=Se[1],be=(0,h.Up)({type:E,x:ee,y:Z,strokeColor:r.state.currentItemStrokeColor,backgroundColor:r.state.currentItemBackgroundColor,fillStyle:r.state.currentItemFillStyle,strokeWidth:r.state.currentItemStrokeWidth,strokeStyle:r.state.currentItemStrokeStyle,roughness:r.state.currentItemRoughness,opacity:r.state.currentItemOpacity,roundness:r.state.currentItemRoundness==="round"?{type:(0,M.QI)(E)?n.a6.ADAPTIVE_RADIUS:n.a6.PROPORTIONAL_RADIUS}:null,locked:!1});be.type==="selection"?r.setState({selectionElement:be,draggingElement:be}):(r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[be])),r.setState({multiElement:null,draggingElement:be,editingElement:be}))},this.restoreReadyToEraseElements=function(E){var K=r.scene.getElementsIncludingDeleted().map(function(oe){return E.elementIdsToErase[oe.id]&&E.elementIdsToErase[oe.id].erase?(0,v.BE)(oe,{opacity:E.elementIdsToErase[oe.id].opacity}):(0,M.Xh)(oe)&&E.elementIdsToErase[oe.containerId]&&E.elementIdsToErase[oe.containerId].erase?(0,v.BE)(oe,{opacity:E.elementIdsToErase[oe.containerId].opacity}):oe});r.scene.replaceAllElements(K)},this.eraseElements=function(E){var K=r.scene.getElementsIncludingDeleted().map(function(oe){return E.elementIdsToErase[oe.id]&&E.elementIdsToErase[oe.id].erase||(0,M.Xh)(oe)&&E.elementIdsToErase[oe.containerId]&&E.elementIdsToErase[oe.containerId].erase?(0,v.BE)(oe,{isDeleted:!0}):oe});r.history.resumeRecording(),r.scene.replaceAllElements(K)},this.initializeImage=function(){var E=(0,c.Z)(k().mark(function K(oe){var Se,ee,Z,be,ke,Ie,De,Ae,Re,Xe,qe,Ve,ht,lt,kt;return k().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(be=oe.imageFile,ke=oe.imageElement,Ie=oe.showCursorImagePreview,De=Ie!==void 0&&Ie,(0,Ue.Wr)(be)){nt.next=3;break}throw new Error((0,m.t)("errors.unsupportedFileType"));case 3:if(Ae=be.type,(0,s.KJ)(r.canvas,"wait"),Ae!==n.LO.svg){nt.next=23;break}return nt.prev=6,nt.t0=Ue.Pn,nt.t1=Cn.bp,nt.next=11,be.text();case 11:return nt.t2=nt.sent,nt.next=14,(0,nt.t1)(nt.t2);case 14:nt.t3=nt.sent,nt.t4=be.name,be=(0,nt.t0)(nt.t3,nt.t4),nt.next=23;break;case 19:throw nt.prev=19,nt.t5=nt.catch(6),console.warn(nt.t5),new Error((0,m.t)("errors.svgImageInsertError"));case 23:return nt.next=25,((Se=(ee=r.props).generateIdForFile)===null||Se===void 0?void 0:Se.call(ee,be))||(0,Ue.tW)(be);case 25:if(Re=nt.sent){nt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,m.t)("errors.imageInsertError"));case 29:if((Xe=r.files[Re])!=null&&Xe.dataURL){nt.next=42;break}return nt.prev=31,nt.next=34,(0,Ue.Tu)(be,{maxWidthOrHeight:n.h6});case 34:be=nt.sent,nt.next=40;break;case 37:nt.prev=37,nt.t6=nt.catch(31),console.error("error trying to resing image file on insertion",nt.t6);case 40:if(!(be.size>n.$n)){nt.next=42;break}throw new Error((0,m.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(n.$n/1024/1024),"MB")}));case 42:if(De&&(Ve=(qe=r.files[Re])===null||qe===void 0?void 0:qe.dataURL,ht=Ve&&(0,Ue.KG)(Ve),r.setImagePreviewCursor(ht||be)),nt.t7=(Z=r.files[Re])===null||Z===void 0?void 0:Z.dataURL,nt.t7){nt.next=48;break}return nt.next=47,(0,Ue.Sf)(be);case 47:nt.t7=nt.sent;case 48:return lt=nt.t7,kt=(0,v.DR)(ke,{fileId:Re},!1),nt.abrupt("return",new Promise(function(){var Nt=(0,c.Z)(k().mark(function Lt(Mt,Wt){var wt,Dt;return k().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(Vt.prev=0,r.files=rt(rt({},r.files),{},(0,G.Z)({},Re,{mimeType:Ae,id:Re,dataURL:lt,created:Date.now(),lastRetrieved:Date.now()})),Dt=r.imageCache.get(Re)){Vt.next=7;break}return r.addNewImagesToImageCache(),Vt.next=7,r.updateImageCache([kt]);case 7:if(!((Dt==null?void 0:Dt.image)instanceof Promise)){Vt.next=10;break}return Vt.next=10,Dt.image;case 10:r.state.pendingImageElementId!==kt.id&&((wt=r.state.draggingElement)===null||wt===void 0?void 0:wt.id)!==kt.id&&r.initializeImageDimensions(kt,!0),Mt(kt),Vt.next=18;break;case 14:Vt.prev=14,Vt.t0=Vt.catch(0),console.error(Vt.t0),Wt(new Error((0,m.t)("errors.imageInsertError")));case 18:return Vt.prev=18,De||(0,s.z8)(r.canvas),Vt.finish(18);case 21:case"end":return Vt.stop()}},Lt,null,[[0,14,18,21]])}));return function(Lt,Mt){return Nt.apply(this,arguments)}}()));case 51:case"end":return nt.stop()}},K,null,[[6,19],[31,37]])}));return function(K){return E.apply(this,arguments)}}(),this.insertImageElement=function(){var E=(0,c.Z)(k().mark(function K(oe,Se,ee){return k().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return r.scene.replaceAllElements([].concat((0,f.Z)(r.scene.getElementsIncludingDeleted()),[oe])),Z.prev=1,Z.next=4,r.initializeImage({imageFile:Se,imageElement:oe,showCursorImagePreview:ee});case 4:Z.next=11;break;case 6:Z.prev=6,Z.t0=Z.catch(1),(0,v.DR)(oe,{isDeleted:!0}),r.actionManager.executeAction(I.pL),r.setState({errorMessage:Z.t0.message||(0,m.t)("errors.imageInsertError")});case 11:case"end":return Z.stop()}},K,null,[[1,6]])}));return function(K,oe,Se){return E.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var E=(0,c.Z)(k().mark(function K(oe){var Se,ee,Z,be,ke,Ie,De;return k().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Se=96,Ae.next=3,(0,Ue.Tu)(oe,{maxWidthOrHeight:Se});case 3:return ee=Ae.sent,Ae.next=6,(0,Ue.Sf)(ee);case 6:if(Z=Ae.sent,oe.type!==n.LO.svg){Ae.next=20;break}return Ae.next=10,(0,Cn.PK)(Z);case 10:be=Ae.sent,ke=Math.min(be.height,Se),(Ie=ke*(be.width/be.height))>Se&&(ke=(Ie=Se)*(be.height/be.width)),(De=document.createElement("canvas")).height=ke,De.width=Ie,De.getContext("2d").drawImage(be,0,0,Ie,ke),Z=De.toDataURL(n.LO.svg);case 20:r.state.pendingImageElementId&&(0,s.KJ)(r.canvas,"url(".concat(Z,") 4 4, auto"));case 21:case"end":return Ae.stop()}},K)}));return function(K){return E.apply(this,arguments)}}(),this.onImageAction=(0,c.Z)(k().mark(function E(){var K,oe,Se,ee,Z,be,ke,Ie,De,Ae=arguments;return k().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return K=Ae.length>0&&Ae[0]!==void 0?Ae[0]:{insertOnCanvasDirectly:!1},oe=K.insertOnCanvasDirectly,Re.prev=1,Se=r.state.width/2+r.state.offsetLeft,ee=r.state.height/2+r.state.offsetTop,Z=(0,s.dE)({clientX:Se,clientY:ee},r.state),be=Z.x,ke=Z.y,Re.next=7,(0,Ot.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:Ie=Re.sent,De=r.createImageElement({sceneX:be,sceneY:ke}),oe?(r.insertImageElement(De,Ie),r.initializeImageDimensions(De),r.setState({selectedElementIds:(0,G.Z)({},De.id,!0)},function(){r.actionManager.executeAction(I.pL)})):r.setState({pendingImageElementId:De.id},function(){r.insertImageElement(De,Ie,!0)}),Re.next=16;break;case 12:Re.prev=12,Re.t0=Re.catch(1),Re.t0.name!=="AbortError"?console.error(Re.t0):console.warn(Re.t0),r.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,s.Om)(r.state,{type:"selection"})},function(){r.actionManager.executeAction(I.pL)});case 16:case"end":return Re.stop()}},E,null,[[1,12]])})),this.initializeImageDimensions=function(E){var K,oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Se=(0,M.wi)(E)&&((K=r.imageCache.get(E.fileId))===null||K===void 0?void 0:K.image);if(!Se||Se instanceof Promise){if(E.width<n.f/r.state.zoom.value&&E.height<n.f/r.state.zoom.value){var ee=100/r.state.zoom.value;(0,v.DR)(E,{x:E.x-ee/2,y:E.y-ee/2,width:ee,height:ee})}}else if(oe||E.width<n.f/r.state.zoom.value&&E.height<n.f/r.state.zoom.value){var Z=Math.max(r.state.height-120,160),be=Math.min(Z,Math.floor(.5*r.state.height)/r.state.zoom.value),ke=Math.min(Se.naturalHeight,be),Ie=ke*(Se.naturalWidth/Se.naturalHeight),De=E.x+E.width/2-Ie/2,Ae=E.y+E.height/2-ke/2;(0,v.DR)(E,{x:De,y:Ae,width:Ie,height:ke})}},this.updateImageCache=function(){var E=(0,c.Z)(k().mark(function K(oe){var Se,ee,Z,be,ke,Ie,De,Ae=arguments;return k().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Se=Ae.length>1&&Ae[1]!==void 0?Ae[1]:r.files,Re.next=3,(0,Cn.Xx)({imageCache:r.imageCache,fileIds:oe.map(function(Xe){return Xe.fileId}),files:Se});case 3:if(ee=Re.sent,Z=ee.updatedFiles,be=ee.erroredFiles,Z.size||be.size){ke=mo(oe);try{for(ke.s();!(Ie=ke.n()).done;)De=Ie.value,Z.has(De.fileId)&&(0,ae.bI)(De)}catch(Xe){ke.e(Xe)}finally{ke.f()}}return be.size&&r.scene.replaceAllElements(r.scene.getElementsIncludingDeleted().map(function(Xe){return(0,M.wi)(Xe)&&be.has(Xe.fileId)?(0,v.BE)(Xe,{status:"error"}):Xe})),Re.abrupt("return",{updatedFiles:Z,erroredFiles:be});case 9:case"end":return Re.stop()}},K)}));return function(K){return E.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,c.Z)(k().mark(function E(){var K,oe,Se,ee,Z=arguments;return k().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(K=Z.length>0&&Z[0]!==void 0?Z[0]:(0,Cn.oA)(r.scene.getNonDeletedElements()),oe=Z.length>1&&Z[1]!==void 0?Z[1]:r.files,!(Se=K.filter(function(ke){return!ke.isDeleted&&!r.imageCache.has(ke.fileId)})).length){be.next=9;break}return be.next=6,r.updateImageCache(Se,oe);case 6:ee=be.sent,ee.updatedFiles.size&&r.scene.informMutation();case 9:case"end":return be.stop()}},E)})),this.scheduleImageRefresh=ea()(function(){r.addNewImagesToImageCache()},n.LL),this.updateBindingEnabledOnPointerMove=function(E){var K=(0,u.cz)(E);r.state.isBindingEnabled!==K&&r.setState({isBindingEnabled:K})},this.maybeSuggestBindingAtCursor=function(E){var K=(0,u.Y9)(E,r.scene);r.setState({suggestedBindings:K!=null?[K]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(E,K,oe){if(K.length){var Se=K.reduce(function(ee,Z){var be=(0,u.Y9)(Z,r.scene);return be==null||(0,u.DK)(E,oe==null?void 0:oe.id,be)||ee.push(be),ee},[]);r.setState({suggestedBindings:Se})}},this.handleCanvasRef=function(E){var K,oe,Se;E!==null?(r.canvas=E,r.rc=ie.Z.canvas(r.canvas),r.canvas.addEventListener(n.Ks.WHEEL,r.handleWheel,{passive:!1}),r.canvas.addEventListener(n.Ks.TOUCH_START,r.onTapStart),r.canvas.addEventListener(n.Ks.TOUCH_END,r.onTapEnd)):((K=r.canvas)===null||K===void 0||K.removeEventListener(n.Ks.WHEEL,r.handleWheel),(oe=r.canvas)===null||oe===void 0||oe.removeEventListener(n.Ks.TOUCH_START,r.onTapStart),(Se=r.canvas)===null||Se===void 0||Se.removeEventListener(n.Ks.TOUCH_END,r.onTapEnd))},this.handleAppOnDrop=function(){var E=(0,c.Z)(k().mark(function K(oe){var Se,ee,Z,be,ke,Ie,De,Ae,Re,Xe;return k().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,(0,Ue.bv)(oe);case 2:if(Se=qe.sent,ee=Se.file,Z=Se.fileHandle,qe.prev=5,!(0,Ue.Wr)(ee)){qe.next=26;break}if((ee==null?void 0:ee.type)!==n.LO.png&&(ee==null?void 0:ee.type)!==n.LO.svg){qe.next=20;break}return qe.prev=8,qe.next=11,(0,fe.cT)(ee,r.state,r.scene.getElementsIncludingDeleted(),Z);case 11:return be=qe.sent,r.syncActionResult(rt(rt({},be),{},{appState:rt(rt({},be.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),qe.abrupt("return");case 16:if(qe.prev=16,qe.t0=qe.catch(8),qe.t0.name==="EncodingError"){qe.next=20;break}throw qe.t0;case 20:return ke=(0,s.dE)(oe,r.state),Ie=ke.x,De=ke.y,Ae=r.createImageElement({sceneX:Ie,sceneY:De}),r.insertImageElement(Ae,ee),r.initializeImageDimensions(Ae),r.setState({selectedElementIds:(0,G.Z)({},Ae.id,!0)}),qe.abrupt("return");case 26:qe.next=31;break;case 28:return qe.prev=28,qe.t1=qe.catch(5),qe.abrupt("return",r.setState({isLoading:!1,errorMessage:qe.t1.message}));case 31:if(!(Re=oe.dataTransfer.getData(n.LO.excalidrawlib))||typeof Re!="string"){qe.next=35;break}try{Xe=(0,Ue.wf)(Re),r.addElementsFromPasteOrLibrary({elements:(0,q.WV)(Xe),position:oe,files:null})}catch(Ve){r.setState({errorMessage:Ve.message})}return qe.abrupt("return");case 35:if(!ee){qe.next=38;break}return qe.next=38,r.loadFileToCanvas(ee,Z);case 38:case"end":return qe.stop()}},K,null,[[5,28],[8,16]])}));return function(K){return E.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var E=(0,c.Z)(k().mark(function K(oe,Se){var ee;return k().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,Ue.gY)(oe);case 2:return oe=Z.sent,Z.prev=3,Z.next=6,(0,Ue.ZY)(oe,r.state,r.scene.getElementsIncludingDeleted(),Se);case 6:if((ee=Z.sent).type!==n.LO.excalidraw){Z.next=12;break}r.setState({isLoading:!0}),r.syncActionResult(rt(rt({},ee.data),{},{appState:rt(rt({},ee.data.appState||r.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Z.next=15;break;case 12:if(ee.type!==n.LO.excalidrawlib){Z.next=15;break}return Z.next=15,r.library.updateLibrary({libraryItems:oe,merge:!0,openLibraryMenu:!0}).catch(function(be){console.error(be),r.setState({errorMessage:(0,m.t)("errors.importLibraryError")})});case 15:Z.next=20;break;case 17:Z.prev=17,Z.t0=Z.catch(3),r.setState({isLoading:!1,errorMessage:Z.t0.message});case 20:case"end":return Z.stop()}},K,null,[[3,17]])}));return function(K,oe){return E.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(E){if(E.preventDefault(),E.nativeEvent.pointerType!=="touch"&&(E.nativeEvent.pointerType!=="pen"||E.button===n.Oh.SECONDARY)||r.state.activeTool.type==="selection"){var K=(0,s.dE)(E,r.state),oe=K.x,Se=K.y,ee=r.getElementAtPosition(oe,Se,{preferSelected:!0,includeLockedElements:!0}),Z=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state),be=r.isHittingCommonBoundingBoxOfSelectedElements({x:oe,y:Se},Z),ke=ee||be?"element":"canvas",Ie=r.excalidrawContainerRef.current.getBoundingClientRect(),De=Ie.top,Ae=Ie.left,Re=E.clientX-Ae,Xe=E.clientY-De;(0,p.L)("contextMenu","openContextMenu",ke),r.setState(rt(rt({},ee&&!r.state.selectedElementIds[ee.id]?(0,b.bO)(rt(rt({},r.state),{},{selectedElementIds:(0,G.Z)({},ee.id,!0),selectedLinearElement:(0,M.bt)(ee)?new _._(ee,r.scene):null}),r.scene.getNonDeletedElements()):r.state),{},{showHyperlinkPopup:!1}),function(){r.setState({contextMenu:{top:Xe,left:Re,items:r.getContextMenuItems(ke)}})})}},this.maybeDragNewGenericElement=function(E,K){var oe=r.state.draggingElement,Se=E.lastCoords;if(oe)if(oe.type==="selection"&&r.state.activeTool.type!=="eraser")(0,h.EJ)(oe,r.state.activeTool.type,E.origin.x,E.origin.y,Se.x,Se.y,(0,s.TE)(E.origin.x,Se.x),(0,s.TE)(E.origin.y,Se.y),(0,C.E0)(K),(0,C.OA)(K));else{var ee,Z=(0,L.wC)(Se.x,Se.y,r.state.gridSize),be=(0,y.Z)(Z,2),ke=be[0],Ie=be[1],De=(0,M.wi)(oe)&&((ee=r.imageCache.get(oe.fileId))===null||ee===void 0?void 0:ee.image),Ae=!De||De instanceof Promise?null:De.width/De.height;(0,h.EJ)(oe,r.state.activeTool.type,E.originInGrid.x,E.originInGrid.y,ke,Ie,(0,s.TE)(E.originInGrid.x,ke),(0,s.TE)(E.originInGrid.y,Ie),(0,M.pC)(oe)?!(0,C.E0)(K):(0,C.E0)(K),(0,C.OA)(K),Ae),r.maybeSuggestBindingForAll([oe])}},this.maybeHandleResize=function(E,K){var oe=(0,ue.eD)(r.scene.getNonDeletedElements(),r.state),Se=E.resize.handleType;r.setState({isResizing:Se&&Se!=="rotation",isRotating:Se==="rotation"});var ee=E.lastCoords,Z=(0,L.wC)(ee.x-E.resize.offset.x,ee.y-E.resize.offset.y,r.state.gridSize),be=(0,y.Z)(Z,2),ke=be[0],Ie=be[1];return!!(0,h.vY)(E,Se,oe,E.resize.arrowDirection,(0,C.Ge)(K),(0,C.OA)(K),oe.length===1&&(0,M.pC)(oe[0])?!(0,C.E0)(K):(0,C.E0)(K),ke,Ie,E.resize.center.x,E.resize.center.y)&&(r.maybeSuggestBindingForAll(oe),!0)},this.getContextMenuItems=function(E){var K=[];return K.push(I.jK,I.FA),E==="canvas"?r.state.viewModeEnabled?[].concat(K,[I.Pb,I.JN,uo,I.u0]):[ho.yQ,ze,I.jK,I.FA,I.zp,ze,I.Yy,ze,I.Pb,I.JN,uo,I.u0]:(K.push(I.zp),r.state.viewModeEnabled?[I.uN].concat(K):[I.ZM,I.uN,ho.yQ,ze].concat(K,[ze,I.pw,I.W3,ze,I.EQ,I.y7,I.vD,I.s,ze,I.FL,ze,I.V,I.yA,I.zi,I.BZ,ze,I.jl,I.kt,ze,I.Qs,I.nz,I.xF,I.iL,ze,I.X9]))},this.handleWheel=(0,s.tH)(function(E){if(E.preventDefault(),!bn){var K=E.deltaX,oe=E.deltaY;if(E.metaKey||E.ctrlKey){var Se=Math.sign(oe),ee=100*n.V4,Z=Math.abs(oe),be=oe;Z>ee&&(be=ee*Se);var ke=r.state.zoom.value-be/100;return ke+=Math.log10(Math.max(1,r.state.zoom.value))*-Se*Math.min(1,Z/20),r.setState(function(Ie){return rt(rt({},(0,Pe.E)({viewportX:tn,viewportY:rn,nextZoom:(0,ue.j)(ke)},Ie)),{},{shouldCacheIgnoreZoom:!0})}),void r.resetShouldCacheIgnoreZoomDebounced()}E.shiftKey?r.setState(function(Ie){var De=Ie.zoom;return{scrollX:Ie.scrollX-(oe||K)/De.value}}):r.setState(function(Ie){var De=Ie.zoom,Ae=Ie.scrollX,Re=Ie.scrollY;return{scrollX:Ae-K/De.value,scrollY:Re-oe/De.value}})}}),this.savePointer=function(E,K,oe){var Se,ee;if(E&&K){var Z=(0,s.dE)({clientX:E,clientY:K},r.state);isNaN(Z.x)||isNaN(Z.y),(Se=(ee=r.props).onPointerUpdate)===null||Se===void 0||Se.call(ee,{pointer:Z,button:oe,pointersMap:rr.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,s.Ds)(function(){r.unmounted||r.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(E){var K;if((K=r.excalidrawContainerRef)!==null&&K!==void 0&&K.current){var oe=r.excalidrawContainerRef.current.getBoundingClientRect(),Se=oe.width,ee=oe.height,Z=oe.left,be=oe.top,ke=r.state,Ie=ke.width,De=ke.height,Ae=ke.offsetTop,Re=ke.offsetLeft;if(Se===Ie&&ee===De&&Z===Re&&be===Ae)return void(E&&E());r.setState({width:Se,height:ee,offsetLeft:Z,offsetTop:be},function(){E&&E()})}},this.refresh=function(){r.setState(rt({},r.getCanvasOffsets()))}};n.Vi.TEST!=="production"&&n.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var r;return(r=this.app)===null||r===void 0?void 0:r.scene.getElementsIncludingDeleted()},set:function(r){var E;return(E=this.app)===null||E===void 0?void 0:E.scene.replaceAllElements(r)}}}));var la=Vn},3807:function(ge,Q,t){t.d(Q,{o:function(){return de}});var w=t(45),y=t(3646),f=t(487),c=t.n(f),j=t(631),A=t.n(j),F=t(2052),o=t.n(F),z=t(4010),B=t.n(z),G=t(1469),le=t.n(G),k=t(9329),se=t.n(k),pe=t(6029),Ee={};Ee.styleTagTransform=se(),Ee.setAttributes=B(),Ee.insert=o().bind(null,"head"),Ee.domAPI=A(),Ee.insertStyleElement=le(),c()(pe.Z,Ee),pe.Z&&pe.Z.locals&&pe.Z.locals;var ie=t(4512),de=function(ye){var I=ye.children,J=ye.checked,g=ye.onChange,m=ye.className;return(0,ie.jsxs)("div",{className:(0,w.Z)("Checkbox",m,{"is-checked":J}),onClick:function(C){g(!J,C),C.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ie.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":J,children:y.eQ}),(0,ie.jsx)("div",{className:"Checkbox-label",children:I})]})}},4499:function(ge,Q,t){t.d(Q,{z:function(){return e}});var w=t(2577),y=t(9787),f=t.n(y),c=t(2891),j=t(6340),A=t(487),F=t.n(A),o=t(631),z=t.n(o),B=t(2052),G=t.n(B),le=t(4010),k=t.n(le),se=t(1469),pe=t.n(se),Ee=t(9329),ie=t.n(Ee),de=t(2345),ye={};ye.styleTagTransform=ie(),ye.setAttributes=k(),ye.insert=G().bind(null,"head"),ye.domAPI=z(),ye.insertStyleElement=pe(),F()(de.Z,ye),de.Z&&de.Z.locals&&de.Z.locals;var I=t(6066),J=t(8211),g=t(56),m=t(4512),C=function(i,a){return!g.Z[a].includes(i)},v=function(i){var a=new Option().style;return a.color=i,!!a.color},u=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),s=function(i){var a=i.colors,l=i.color,p=i.onChange,T=i.onClose,X=i.label,te=i.showInput,R=te===void 0||te,D=i.type,fe=i.elements,q=f().useRef(),H=f().useRef(),h=f().useRef(),_=f().useRef(),W=f().useState(function(){return D==="canvasBackground"?[]:function(O,S){for(var b=[],d=O.filter(function(L){return!L.isDeleted}).sort(function(L,ce){return ce.updated-L.updated}),x=0,P={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[S];x<d.length&&b.length<5;){var U=d[x];b.length<5&&C(U[P],S)&&!b.includes(U[P])&&b.push(U[P]),x++}return b}(fe,D)}),M=(0,w.Z)(W,1)[0];f().useEffect(function(){H.current?H.current.focus():_.current?_.current.focus():h.current&&h.current.focus()},[]);var re=function(O){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return O.map(function(b,d){var x=b.replace("#",""),P=S?u[d+15]:u[d],U=S?x:(0,J.t)("colors.".concat(x));return(0,m.jsxs)("button",{className:"color-picker-swatch",onClick:function(L){L.currentTarget.focus(),p(b)},title:"".concat(U).concat((0,j.Qm)(b)?"":" (".concat(b,")"),"  ").concat(P.toUpperCase()),"aria-label":U,"aria-keyshortcuts":u[d],style:{color:b},ref:function(L){!S&&L&&d===0&&(q.current=L),L&&b===l&&(H.current=L)},onFocus:function(){p(b)},children:[(0,j.Qm)(b)?(0,m.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,m.jsx)("span",{className:"color-picker-keybinding",children:P})]},b)})};return(0,m.jsxs)("div",{className:"color-picker color-picker-type-".concat(D),role:"dialog","aria-modal":"true","aria-label":(0,J.t)("labels.colorPicker"),onKeyDown:function(O){var S=!1;if((0,I.Wl)(O.key)){var b,d,x;S=!0;var P,U=document.activeElement,L=(0,J.G3)().rtl,ce=!1,ae=Array.prototype.indexOf.call((b=h.current.querySelector(".color-picker-content--default"))===null||b===void 0?void 0:b.children,U);ae===-1&&(ae=Array.prototype.indexOf.call((P=h.current.querySelector(".color-picker-content--canvas-colors"))===null||P===void 0?void 0:P.children,U))!==-1&&(ce=!0);var ue=ce?(d=h.current)===null||d===void 0?void 0:d.querySelector(".color-picker-content--canvas-colors"):(x=h.current)===null||x===void 0?void 0:x.querySelector(".color-picker-content--default");if(ue&&ae!==-1){var Ce,Pe=ue.children.length-(R?1:0),N=O.key===(L?I.tW.ARROW_LEFT:I.tW.ARROW_RIGHT)?(ae+1)%Pe:O.key===(L?I.tW.ARROW_RIGHT:I.tW.ARROW_LEFT)?(Pe+ae-1)%Pe:ce||O.key!==I.tW.ARROW_DOWN?ce||O.key!==I.tW.ARROW_UP?ae:(Pe+ae-5)%Pe:(ae+5)%Pe;(Ce=ue.children[N])===null||Ce===void 0||Ce.focus()}O.preventDefault()}else if(!u.includes(O.key.toLowerCase())||O[I.tW.CTRL_OR_CMD]||O.altKey||(0,j.s)(O.target))O.key!==I.tW.ESCAPE&&O.key!==I.tW.ENTER||(S=!0,O.preventDefault(),T());else{var Y,$,xe;S=!0;var Oe=u.indexOf(O.key.toLowerCase()),Ze=Oe>=15,Fe=Ze?h==null||(Y=h.current)===null||Y===void 0?void 0:Y.querySelector(".color-picker-content--canvas-colors"):h==null||($=h.current)===null||$===void 0?void 0:$.querySelector(".color-picker-content--default"),Je=Ze?Oe-15:Oe;Fe==null||(xe=Fe.children[Je])===null||xe===void 0||xe.focus(),O.preventDefault()}S&&(O.nativeEvent.stopImmediatePropagation(),O.stopPropagation())},children:[(0,m.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,m.jsx)("div",{className:"color-picker-triangle"}),(0,m.jsxs)("div",{className:"color-picker-content",ref:function(O){O&&(h.current=O)},tabIndex:-1,children:[(0,m.jsx)("div",{className:"color-picker-content--default",children:re(a)}),!!M.length&&(0,m.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,m.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,J.t)("labels.canvasColors")}),(0,m.jsx)("div",{className:"color-picker-content--canvas-colors",children:re(M,!0)})]}),R&&(0,m.jsx)(n,{color:l,label:X,onChange:function(O){p(O)},ref:_})]})]})},n=f().forwardRef(function(i,a){var l=i.color,p=i.onChange,T=i.label,X=f().useState(l),te=(0,w.Z)(X,2),R=te[0],D=te[1],fe=f().useRef(null);f().useEffect(function(){D(l)},[l]),f().useImperativeHandle(a,function(){return fe.current});var q=f().useCallback(function(H){var h=H.toLowerCase(),_=function(W){return(0,j.Qm)(W)?W:v("#".concat(W))?"#".concat(W):v(W)?W:null}(h);_&&p(_),D(h)},[p]);return(0,m.jsxs)("label",{className:"color-input-container",children:[(0,m.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,m.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":T,onChange:function(H){return q(H.target.value)},value:(R||"").replace(/^#/,""),onBlur:function(){return D(l)},ref:fe})]})});n.displayName="ColorInput";var e=function(i){var a,l=i.type,p=i.color,T=i.onChange,X=i.label,te=i.isActive,R=i.setActive,D=i.elements,fe=(i.appState,f().useRef(null)),q=(a=fe.current)===null||a===void 0?void 0:a.getBoundingClientRect();return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"color-picker-control-container",children:[(0,m.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,m.jsx)("button",{className:"color-picker-label-swatch","aria-label":X,style:p?{"--swatch-color":p}:void 0,onClick:function(){return R(!te)},ref:fe})}),(0,m.jsx)(n,{color:p,label:X,onChange:function(H){T(H)}})]}),(0,m.jsx)(f().Suspense,{fallback:"",children:te?(0,m.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:q==null?void 0:q.top,left:q==null?void 0:q.right,zIndex:1},children:(0,m.jsx)(c.J,{onCloseRequest:function(H){return H.target!==fe.current&&R(!1)},children:(0,m.jsx)(s,{colors:g.Z[l],color:p||null,onChange:function(H){T(H)},onClose:function(){var H;R(!1),(H=fe.current)===null||H===void 0||H.focus()},label:X,showInput:!1,type:l,elements:D})})}):null})]})}},7046:function(ge,Q,t){t.d(Q,{Z:function(){return s}});var w=t(7169),y=t(2726),f=t(8211),c=t(8396),j=t(487),A=t.n(j),F=t(631),o=t.n(F),z=t(2052),B=t.n(z),G=t(4010),le=t.n(G),k=t(1469),se=t.n(k),pe=t(9329),Ee=t.n(pe),ie=t(9393),de={};de.styleTagTransform=Ee(),de.setAttributes=le(),de.insert=B().bind(null,"head"),de.domAPI=o(),de.insertStyleElement=se(),A()(ie.Z,de),ie.Z&&ie.Z.locals&&ie.Z.locals;var ye=t(6428),I=t(4739),J=t(770),g=t(4206),m=t(4512),C=["onConfirm","onCancel","children","confirmText","cancelText","className"];function v(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),i.push.apply(i,a)}return i}function u(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?v(Object(i),!0).forEach(function(a){(0,w.Z)(n,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(i,a))})}return n}var s=function(n){var e=n.onConfirm,i=n.onCancel,a=n.children,l=n.confirmText,p=l===void 0?(0,f.t)("buttons.confirm"):l,T=n.cancelText,X=T===void 0?(0,f.t)("buttons.cancel"):T,te=n.className,R=te===void 0?"":te,D=(0,y.Z)(n,C),fe=(0,g.n9)(),q=(0,I.b9)(J.u);return(0,m.jsxs)(c.V,u(u({onCloseRequest:i,small:!0},D),{},{className:"confirm-dialog ".concat(R),children:[a,(0,m.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,m.jsx)(ye.Z,{label:X,onClick:function(){fe({openMenu:null}),q(!1),i()}}),(0,m.jsx)(ye.Z,{label:p,onClick:function(){fe({openMenu:null}),q(!1),e()},actionType:"danger"})]})]}))}},8396:function(ge,Q,t){t.d(Q,{V:function(){return p}});var w=t(2577),y=t(45),f=t(9787),c=t(8211),j=t(4206),A=t(6066),F=t(487),o=t.n(F),z=t(631),B=t.n(z),G=t(2052),le=t.n(G),k=t(4010),se=t.n(k),pe=t(1469),Ee=t.n(pe),ie=t(9329),de=t.n(ie),ye=t(9482),I={};I.styleTagTransform=de(),I.setAttributes=se(),I.insert=le().bind(null,"head"),I.domAPI=B(),I.insertStyleElement=Ee(),o()(ye.Z,I),ye.Z&&ye.Z.locals&&ye.Z.locals;var J=t(3646),g=t(1881),m=t(6843),C={};C.styleTagTransform=de(),C.setAttributes=se(),C.insert=le().bind(null,"head"),C.domAPI=B(),C.insertStyleElement=Ee(),o()(m.Z,C),m.Z&&m.Z.locals&&m.Z.locals;var v=t(5156),u=t(2335),s=t(4512),n=function(T){var X=T.theme,te=X===void 0?u.C6.LIGHT:X,R=T.closeOnClickOutside,D=R===void 0||R,fe=e(te);return fe?(0,v.createPortal)((0,s.jsxs)("div",{className:(0,y.Z)("Modal",T.className),role:"dialog","aria-modal":"true",onKeyDown:function(q){q.key===A.tW.ESCAPE&&(q.nativeEvent.stopImmediatePropagation(),q.stopPropagation(),T.onCloseRequest())},"aria-labelledby":T.labelledBy,"data-prevent-outside-click":!0,children:[(0,s.jsx)("div",{className:"Modal__background",onClick:D?T.onCloseRequest:void 0}),(0,s.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(T.maxWidth,"px")},tabIndex:0,children:T.children})]}),fe):null},e=function(T){var X=(0,f.useState)(null),te=(0,w.Z)(X,2),R=te[0],D=te[1],fe=(0,j.Fy)(),q=(0,f.useRef)(fe.isMobile);q.current=fe.isMobile;var H=(0,j.J0)().container;return(0,f.useLayoutEffect)(function(){R&&R.classList.toggle("excalidraw--mobile",fe.isMobile)},[R,fe.isMobile]),(0,f.useLayoutEffect)(function(){var h=!(H==null||!H.classList.contains("theme--dark"))||T==="dark",_=document.createElement("div");return _.classList.add("excalidraw","excalidraw-modal-container"),_.classList.toggle("excalidraw--mobile",q.current),h&&(_.classList.add("theme--dark"),_.classList.add("theme--dark-background-none")),document.body.appendChild(_),D(_),function(){document.body.removeChild(_)}},[H,T]),R},i=t(6340),a=t(4739),l=t(770),p=function(T){var X=function(){var M=(0,f.useState)(null),re=(0,w.Z)(M,2),O=re[0],S=re[1];return[O,(0,f.useCallback)(function(b){return S(b)},[])]}(),te=(0,w.Z)(X,2),R=te[0],D=te[1],fe=(0,f.useState)(document.activeElement),q=(0,w.Z)(fe,1)[0],H=(0,j.J0)().id;(0,f.useEffect)(function(){if(R){var M=(0,i.xp)(R);M.length>0&&T.autofocus!==!1&&(M[1]||M[0]).focus();var re=function(O){if(O.key===A.tW.TAB){var S=(0,i.xp)(R),b=document.activeElement,d=S.findIndex(function(x){return x===b});d===0&&O.shiftKey?(S[S.length-1].focus(),O.preventDefault()):d!==S.length-1||O.shiftKey||(S[0].focus(),O.preventDefault())}};return R.addEventListener("keydown",re),function(){return R.removeEventListener("keydown",re)}}},[R,T.autofocus]);var h=(0,j.n9)(),_=(0,a.b9)(l.u),W=function(){h({openMenu:null}),_(!1),q.focus(),T.onCloseRequest()};return(0,s.jsx)(n,{className:(0,y.Z)("Dialog",T.className),labelledBy:"dialog-title",maxWidth:T.small?550:800,onCloseRequest:W,theme:T.theme,closeOnClickOutside:T.closeOnClickOutside,children:(0,s.jsxs)(g.W,{ref:D,children:[(0,s.jsxs)("h2",{id:"".concat(H,"-dialog-title"),className:"Dialog__title",children:[(0,s.jsx)("span",{className:"Dialog__titleContent",children:T.title}),(0,s.jsx)("button",{className:"Modal__close",onClick:W,title:(0,c.t)("buttons.close"),"aria-label":(0,c.t)("buttons.close"),children:(0,j.Fy)().isMobile?J.op:J.Tw})]}),(0,s.jsx)("div",{className:"Dialog__content",children:T.children})]})})}},6428:function(ge,Q,t){t.d(Q,{Z:function(){return m}});var w=t(7169),y=t(2726),f=t(45),c=t(487),j=t.n(c),A=t(631),F=t.n(A),o=t(2052),z=t.n(o),B=t(4010),G=t.n(B),le=t(1469),k=t.n(le),se=t(9329),pe=t.n(se),Ee=t(6148),ie={};ie.styleTagTransform=pe(),ie.setAttributes=G(),ie.insert=z().bind(null,"head"),ie.domAPI=F(),ie.insertStyleElement=k(),j()(Ee.Z,ie),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var de=t(5644),ye=t(4512),I=["label","onClick","className","children","actionType","type","isLoading"];function J(C,v){var u=Object.keys(C);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(C);v&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(C,n).enumerable})),u.push.apply(u,s)}return u}function g(C){for(var v=1;v<arguments.length;v++){var u=arguments[v]!=null?arguments[v]:{};v%2?J(Object(u),!0).forEach(function(s){(0,w.Z)(C,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(u)):J(Object(u)).forEach(function(s){Object.defineProperty(C,s,Object.getOwnPropertyDescriptor(u,s))})}return C}var m=function(C){var v=C.label,u=C.onClick,s=C.className,n=C.children,e=C.actionType,i=C.type,a=i===void 0?"button":i,l=C.isLoading,p=(0,y.Z)(C,I),T=e?"Dialog__action-button--".concat(e):"";return(0,ye.jsxs)("button",g(g({className:(0,f.Z)("Dialog__action-button",T,s),type:a,"aria-label":v,onClick:u},p),{},{children:[n&&(0,ye.jsx)("div",{style:l?{visibility:"hidden"}:{},children:n}),(0,ye.jsx)("div",{style:l?{visibility:"hidden"}:{},children:v}),l&&(0,ye.jsx)("div",{style:{position:"absolute",inset:0},children:(0,ye.jsx)(de.Z,{})})]}))}},1881:function(ge,Q,t){t.d(Q,{W:function(){return g}});var w=t(7169),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),F=t.n(A),o=t(4010),z=t.n(o),B=t(1469),G=t.n(B),le=t(9329),k=t.n(le),se=t(7369),pe={};pe.styleTagTransform=k(),pe.setAttributes=z(),pe.insert=F().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(9787),ie=t.n(Ee),de=t(45),ye=t(4512);function I(m,C){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);C&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),v.push.apply(v,u)}return v}function J(m){for(var C=1;C<arguments.length;C++){var v=arguments[C]!=null?arguments[C]:{};C%2?I(Object(v),!0).forEach(function(u){(0,w.Z)(m,u,v[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):I(Object(v)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(v,u))})}return m}var g=ie().forwardRef(function(m,C){var v=m.children,u=m.padding,s=m.className,n=m.style;return(0,ye.jsx)("div",{className:(0,de.Z)("Island",s),style:J({"--padding":u},n),ref:C,children:v})})},770:function(ge,Q,t){t.d(Q,{W:function(){return U},u:function(){return x}});var w=t(8950),y=t(2577),f=t(2975),c=t.n(f),j=t(9787),A=t(5523),F=t(7053),o=t(8211),z=t(3646),B=t(1319),G=t(1393),le=t(6340),k=t(4739),se=t(9487),pe=t(7046),Ee=t(7169),ie=t(5284),de=t(8396),ye=t(3024),I=t(2335),J=t(487),g=t.n(J),m=t(631),C=t.n(m),v=t(2052),u=t.n(v),s=t(4010),n=t.n(s),e=t(1469),i=t.n(e),a=t(9329),l=t.n(a),p=t(7589),T={};T.styleTagTransform=l(),T.setAttributes=n(),T.insert=u().bind(null,"head"),T.domAPI=C(),T.insertStyleElement=i(),g()(p.Z,T),p.Z&&p.Z.locals&&p.Z.locals;var X=t(8465),te={};te.styleTagTransform=l(),te.setAttributes=n(),te.insert=u().bind(null,"head"),te.domAPI=C(),te.insertStyleElement=i(),g()(X.Z,te),X.Z&&X.Z.locals&&X.Z.locals;var R=t(4512);function D(L,ce){var ae=Object.keys(L);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(L);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(L,Ce).enumerable})),ae.push.apply(ae,ue)}return ae}function fe(L){for(var ce=1;ce<arguments.length;ce++){var ae=arguments[ce]!=null?arguments[ce]:{};ce%2?D(Object(ae),!0).forEach(function(ue){(0,Ee.Z)(L,ue,ae[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ae)):D(Object(ae)).forEach(function(ue){Object.defineProperty(L,ue,Object.getOwnPropertyDescriptor(ae,ue))})}return L}var q=function(L){var ce=L.libItem,ae=L.appState,ue=L.index,Ce=L.onChange,Pe=L.onRemove,N=(0,j.useRef)(null),Y=(0,j.useRef)(null);return(0,j.useEffect)(function(){var $=N.current;$&&(0,w.Z)(c().mark(function xe(){var Oe;return c().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,(0,ye.$D)({elements:ce.elements,appState:fe(fe({},ae),{},{viewBackgroundColor:ie.white,exportBackground:!0}),files:null});case 2:Oe=Ze.sent,$.innerHTML=Oe.outerHTML;case 4:case"end":return Ze.stop()}},xe)}))()},[ce.elements,ae]),(0,R.jsxs)("div",{className:"single-library-item",children:[ce.status==="published"&&(0,R.jsx)("span",{className:"single-library-item-status",children:(0,o.t)("labels.statusPublished")}),(0,R.jsx)("div",{ref:N,className:"single-library-item__svg"}),(0,R.jsx)(B.V,{"aria-label":(0,o.t)("buttons.remove"),type:"button",icon:z.Tw,className:"single-library-item--remove",onClick:Pe.bind(null,ce.id),title:(0,o.t)("buttons.remove")}),(0,R.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,R.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,R.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,R.jsx)("span",{style:{fontWeight:500,color:ie.gray[6]},children:(0,o.t)("publishDialog.itemName")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("input",{type:"text",ref:Y,style:{width:"80%",padding:"0.2rem"},defaultValue:ce.name,placeholder:"Item name",onChange:function($){Ce($.target.value,ue)}})]}),(0,R.jsx)("span",{className:"error",children:ce.error})]})]})},H=t(434),h=t(6428);function _(L,ce){var ae=Object.keys(L);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(L);ce&&(ue=ue.filter(function(Ce){return Object.getOwnPropertyDescriptor(L,Ce).enumerable})),ae.push.apply(ae,ue)}return ae}function W(L){for(var ce=1;ce<arguments.length;ce++){var ae=arguments[ce]!=null?arguments[ce]:{};ce%2?_(Object(ae),!0).forEach(function(ue){(0,Ee.Z)(L,ue,ae[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ae)):_(Object(ae)).forEach(function(ue){Object.defineProperty(L,ue,Object.getOwnPropertyDescriptor(ae,ue))})}return L}function M(L,ce){var ae=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!ae){if(Array.isArray(L)||(ae=function($,xe){if($){if(typeof $=="string")return re($,xe);var Oe=Object.prototype.toString.call($).slice(8,-1);if(Oe==="Object"&&$.constructor&&(Oe=$.constructor.name),Oe==="Map"||Oe==="Set")return Array.from($);if(Oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oe))return re($,xe)}}(L))||ce){ae&&(L=ae);var ue=0,Ce=function(){};return{s:Ce,n:function(){return ue>=L.length?{done:!0}:{done:!1,value:L[ue++]}},e:function($){throw $},f:Ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pe,N=!0,Y=!1;return{s:function(){ae=ae.call(L)},n:function(){var $=ae.next();return N=$.done,$},e:function($){Y=!0,Pe=$},f:function(){try{N||ae.return==null||ae.return()}finally{if(Y)throw Pe}}}}function re(L,ce){(ce==null||ce>L.length)&&(ce=L.length);for(var ae=0,ue=new Array(ce);ae<ce;ae++)ue[ae]=L[ae];return ue}var O="publish-library-data",S=function(){var L=(0,w.Z)(c().mark(function ce(ae){var ue,Ce,Pe,N,Y,$,xe,Oe,Ze,Fe,Je,Ke,Be,Le,ne,me,ve;return c().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:ue=6,Ce=128,Pe=Math.round(Ce/16),N=Math.max(Math.round(Ce/64),2),Y=(0,le.yo)(ae,ue),($=document.createElement("canvas")).width=Y[0].length*Ce+(Y[0].length+1)*(2*Pe)-2*Pe,$.height=Y.length*Ce+(Y.length+1)*(2*Pe)-2*Pe,(xe=$.getContext("2d")).fillStyle=ie.white,xe.fillRect(0,0,$.width,$.height),Oe=M(ae.entries()),we.prev=12,Oe.s();case 14:if((Ze=Oe.n()).done){we.next=28;break}return Fe=(0,y.Z)(Ze.value,2),Je=Fe[0],Ke=Fe[1],we.next=18,(0,ye.NL)({elements:Ke.elements,files:null,maxWidthOrHeight:Ce});case 18:Be=we.sent,Le=Be.width,ne=Be.height,me=Math.floor(Je/ue)*(Ce+2*Pe),ve=Je%ue*(Ce+2*Pe),xe.drawImage(Be,ve+(Ce-Le)/2+Pe,me+(Ce-ne)/2+Pe),xe.lineWidth=N,xe.strokeStyle=ie.gray[4],xe.strokeRect(ve+Pe/2,me+Pe/2,Ce+Pe,Ce+Pe);case 26:we.next=14;break;case 28:we.next=33;break;case 30:we.prev=30,we.t0=we.catch(12),Oe.e(we.t0);case 33:return we.prev=33,Oe.f(),we.finish(33);case 36:return we.t1=H.Tu,we.t2=File,we.next=40,(0,H._c)($);case 40:return we.t3=we.sent,we.t4=[we.t3],we.t5={type:I.LO.png},we.t6=new we.t2(we.t4,"preview",we.t5),we.t7={outputType:I.LO.jpg,maxWidthOrHeight:5e3},we.next=47,(0,we.t1)(we.t6,we.t7);case 47:return we.abrupt("return",we.sent);case 48:case"end":return we.stop()}},ce,null,[[12,30,33,36]])}));return function(ce){return L.apply(this,arguments)}}(),b=function(L){var ce=L.onClose,ae=L.libraryItems,ue=L.appState,Ce=L.onSuccess,Pe=L.onError,N=L.updateItemsInStorage,Y=L.onRemove,$=(0,j.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),xe=(0,y.Z)($,2),Oe=xe[0],Ze=xe[1],Fe=(0,j.useState)(!1),Je=(0,y.Z)(Fe,2),Ke=Je[0],Be=Je[1];(0,j.useEffect)(function(){var Ye=function(){try{var et=localStorage.getItem(O);if(et)return JSON.parse(et)}catch(it){console.error(it)}return null}();Ye&&Ze(Ye)},[]);var Le=(0,j.useState)(ae.slice()),ne=(0,y.Z)(Le,2),me=ne[0],ve=ne[1];(0,j.useEffect)(function(){ve(ae.slice())},[ae]);var we,Me=function(Ye){Ze(W(W({},Oe),{},(0,Ee.Z)({},Ye.target.name,Ye.target.value)))},Te=function(){var Ye=(0,w.Z)(c().mark(function et(it){var $e,tt,st,Et,Pt,_t,vt;return c().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(it.preventDefault(),Be(!0),$e=[],tt=!1,me.forEach(function(ft){var St="";ft.name||(St=(0,o.t)("publishDialog.errors.required"),tt=!0),$e.push(W(W({},ft),{},{error:St}))}),!tt){yt.next=9;break}return ve($e),Be(!1),yt.abrupt("return");case 9:return yt.next=11,S(me);case 11:st=yt.sent,Et={type:I.r8.excalidrawLibrary,version:I.Kr.excalidrawLibrary,source:I.pb,libraryItems:me},Pt=JSON.stringify(Et,null,2),_t=new Blob([Pt],{type:"application/json"}),(vt=new FormData).append("excalidrawLib",_t),vt.append("previewImage",st),vt.append("previewImageType",st.type),vt.append("title",Oe.name),vt.append("authorName",Oe.authorName),vt.append("githubHandle",Oe.githubHandle),vt.append("name",Oe.name),vt.append("description",Oe.description),vt.append("twitterHandle",Oe.twitterHandle),vt.append("website",Oe.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:vt}).then(function(ft){return ft.ok?ft.json().then(function(St){var Yt=St.url;localStorage.removeItem(O),Ce({url:Yt,authorName:Oe.authorName,items:me})}):ft.json().catch(function(){throw new Error(ft.statusText||"something went wrong")}).then(function(St){throw new Error(St.message||ft.statusText||"something went wrong")})},function(ft){console.error(ft),Pe(ft),Be(!1)}).catch(function(ft){console.error(ft),Pe(ft),Be(!1)});case 27:case"end":return yt.stop()}},et)}));return function(et){return Ye.apply(this,arguments)}}(),ze=(0,j.useCallback)(function(){N(me),function(Ye){try{localStorage.setItem(O,JSON.stringify(Ye))}catch(et){console.error(et)}}(Oe),ce()},[me,ce,N,Oe]),We=!!ae.length,He=ae.some(function(Ye){return Ye.status==="published"});return(0,R.jsx)(de.V,{onCloseRequest:ze,title:(0,o.t)("publishDialog.title"),className:"publish-library",children:We?(0,R.jsxs)("form",{onSubmit:Te,children:[(0,R.jsxs)("div",{className:"publish-library-note",children:[(0,o.t)("publishDialog.noteDescription.pre"),(0,R.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,o.t)("publishDialog.noteDescription.link")})," ",(0,o.t)("publishDialog.noteDescription.post")]}),(0,R.jsxs)("span",{className:"publish-library-note",children:[(0,o.t)("publishDialog.noteGuidelines.pre"),(0,R.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,o.t)("publishDialog.noteGuidelines.link")}),(0,o.t)("publishDialog.noteGuidelines.post")]}),(0,R.jsx)("div",{className:"publish-library-note",children:(0,o.t)("publishDialog.noteItems")}),He&&(0,R.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,o.t)("publishDialog.republishWarning")}),(we=[],me.forEach(function(Ye,et){we.push((0,R.jsx)("div",{className:"single-library-item-wrapper",children:(0,R.jsx)(q,{libItem:Ye,appState:ue,index:et,onChange:function(it,$e){var tt=me.slice();tt[$e].name=it,ve(tt)},onRemove:Y})},et))}),(0,R.jsx)("div",{className:"selected-library-items",children:we})),(0,R.jsxs)("div",{className:"publish-library__fields",children:[(0,R.jsxs)("label",{children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{children:(0,o.t)("publishDialog.libraryName")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("input",{type:"text",name:"name",required:!0,value:Oe.name,onChange:Me,placeholder:(0,o.t)("publishDialog.placeholder.libraryName")})]}),(0,R.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{children:(0,o.t)("publishDialog.libraryDesc")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("textarea",{name:"description",rows:4,required:!0,value:Oe.description,onChange:Me,placeholder:(0,o.t)("publishDialog.placeholder.libraryDesc")})]}),(0,R.jsxs)("label",{children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{children:(0,o.t)("publishDialog.authorName")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("input",{type:"text",name:"authorName",required:!0,value:Oe.authorName,onChange:Me,placeholder:(0,o.t)("publishDialog.placeholder.authorName")})]}),(0,R.jsxs)("label",{children:[(0,R.jsx)("span",{children:(0,o.t)("publishDialog.githubUsername")}),(0,R.jsx)("input",{type:"text",name:"githubHandle",value:Oe.githubHandle,onChange:Me,placeholder:(0,o.t)("publishDialog.placeholder.githubHandle")})]}),(0,R.jsxs)("label",{children:[(0,R.jsx)("span",{children:(0,o.t)("publishDialog.twitterUsername")}),(0,R.jsx)("input",{type:"text",name:"twitterHandle",value:Oe.twitterHandle,onChange:Me,placeholder:(0,o.t)("publishDialog.placeholder.twitterHandle")})]}),(0,R.jsxs)("label",{children:[(0,R.jsx)("span",{children:(0,o.t)("publishDialog.website")}),(0,R.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,o.t)("publishDialog.errors.website"),value:Oe.website,onChange:Me,placeholder:(0,o.t)("publishDialog.placeholder.website")})]}),(0,R.jsxs)("span",{className:"publish-library-note",children:[(0,o.t)("publishDialog.noteLicense.pre"),(0,R.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,o.t)("publishDialog.noteLicense.link")}),(0,o.t)("publishDialog.noteLicense.post")]})]}),(0,R.jsxs)("div",{className:"publish-library__buttons",children:[(0,R.jsx)(h.Z,{label:(0,o.t)("buttons.cancel"),onClick:ze,"data-testid":"cancel-clear-canvas-button"}),(0,R.jsx)(h.Z,{type:"submit",label:(0,o.t)("buttons.submit"),actionType:"primary",isLoading:Ke})]})]}):(0,R.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,o.t)("publishDialog.atleastOneLibItem")})})},d=t(9127),x=(0,k.cn)(!1),P=function(L,ce){return L.filter(function(ae){return ce.includes(ae.id)})},U=function(L){var ce=L.setAppState,ae=L.selectedItems,ue=L.library,Ce=L.onRemoveFromLibrary,Pe=L.resetLibrary,N=L.onSelectItems,Y=L.appState,$=(0,k.KO)(F.rF,se.yE),xe=(0,y.Z)($,1)[0],Oe=(0,k.KO)(x),Ze=(0,y.Z)(Oe,2),Fe=Ze[0],Je=Ze[1],Ke=(0,j.useCallback)(function(){var _t=ae.length?(0,o.t)("alerts.removeItemsFromsLibrary",{count:ae.length}):(0,o.t)("alerts.resetLibrary"),vt=ae.length?(0,o.t)("confirmDialog.removeItemsFromLib"):(0,o.t)("confirmDialog.resetLibrary");return(0,R.jsx)(pe.Z,{onConfirm:function(){ae.length?Ce():Pe(),me(!1)},onCancel:function(){me(!1)},title:vt,children:(0,R.jsx)("p",{children:_t})})},[ae,Ce,Pe]),Be=(0,j.useState)(!1),Le=(0,y.Z)(Be,2),ne=Le[0],me=Le[1],ve=!!ae.length,we=ve?xe.libraryItems.filter(function(_t){return ae.includes(_t.id)}):xe.libraryItems,Me=ve?(0,o.t)("buttons.remove"):(0,o.t)("buttons.resetLibrary"),Te=(0,j.useState)(!1),ze=(0,y.Z)(Te,2),We=ze[0],He=ze[1],Ye=(0,j.useState)(null),et=(0,y.Z)(Ye,2),it=et[0],$e=et[1],tt=(0,j.useCallback)(function(){return(0,R.jsxs)(de.V,{onCloseRequest:function(){return $e(null)},title:(0,o.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,R.jsxs)("p",{children:[(0,o.t)("publishSuccessDialog.content",{authorName:it.authorName})," ",(0,R.jsx)("a",{href:it==null?void 0:it.url,target:"_blank",rel:"noopener noreferrer",children:(0,o.t)("publishSuccessDialog.link")})]}),(0,R.jsx)(B.V,{type:"button",title:(0,o.t)("buttons.close"),"aria-label":(0,o.t)("buttons.close"),label:(0,o.t)("buttons.close"),onClick:function(){return $e(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[$e,it]),st=(0,j.useCallback)(function(_t,vt){He(!1),$e({url:_t.url,authorName:_t.authorName});var yt=vt.slice();yt.forEach(function(ft){ae.includes(ft.id)&&(ft.status="published")}),ue.setLibrary(yt)},[He,$e,ae,ue]),Et=function(){var _t=(0,w.Z)(c().mark(function vt(){return c().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return yt.prev=0,yt.next=3,ue.updateLibrary({libraryItems:(0,G.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:yt.next=11;break;case 5:if(yt.prev=5,yt.t0=yt.catch(0),(yt.t0===null||yt.t0===void 0?void 0:yt.t0.name)!=="AbortError"){yt.next=10;break}return console.warn(yt.t0),yt.abrupt("return");case 10:ce({errorMessage:(0,o.t)("errors.importLibraryError")});case 11:case"end":return yt.stop()}},vt,null,[[0,5]])}));return function(){return _t.apply(this,arguments)}}(),Pt=function(){var _t=(0,w.Z)(c().mark(function vt(){var yt;return c().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(!ve){ft.next=4;break}ft.t0=we,ft.next=7;break;case 4:return ft.next=6,ue.getLatestLibrary();case 6:ft.t0=ft.sent;case 7:yt=ft.t0,(0,A.t1)(yt).catch(le.FG).catch(function(St){ce({errorMessage:St.message})});case 9:case"end":return ft.stop()}},vt)}));return function(){return _t.apply(this,arguments)}}();return(0,R.jsxs)("div",{style:{position:"relative"},children:[(0,R.jsxs)(d.Z,{open:Fe,children:[(0,R.jsx)(d.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return Je(!Fe)},children:z.YA}),(0,R.jsxs)(d.Z.Content,{onClickOutside:function(){return Je(!1)},onSelect:function(){return Je(!1)},className:"library-menu",children:[!ve&&(0,R.jsx)(d.Z.Item,{onSelect:Et,icon:z.Tl,"data-testid":"lib-dropdown--load",children:(0,o.t)("buttons.load")}),!!we.length&&(0,R.jsx)(d.Z.Item,{onSelect:Pt,icon:z.Hy,"data-testid":"lib-dropdown--export",children:(0,o.t)("buttons.export")}),!!we.length&&(0,R.jsx)(d.Z.Item,{onSelect:function(){return me(!0)},icon:z.XH,children:Me}),ve&&(0,R.jsx)(d.Z.Item,{icon:z.Nw,onSelect:function(){return He(!0)},"data-testid":"lib-dropdown--remove",children:(0,o.t)("buttons.publishLibrary")})]})]}),ae.length>0&&(0,R.jsx)("div",{className:"library-actions-counter",children:ae.length}),ne&&Ke(),We&&(0,R.jsx)(b,{onClose:function(){return He(!1)},libraryItems:P(xe.libraryItems,ae),appState:Y,onSuccess:function(_t){return st(_t,xe.libraryItems)},onError:function(_t){return window.alert(_t)},updateItemsInStorage:function(){return ue.setLibrary(xe.libraryItems)},onRemove:function(_t){return N(ae.filter(function(vt){return vt!==_t}))}}),it&&tt()]})}},5440:function(ge,Q,t){t.d(Q,{z:function(){return o}});var w=t(2577),y=t(8211),f=t(9787),c=t(5644),j=t(45),A=t(2335),F=t(4512),o=function(z){var B=z.delay,G=z.theme,le=(0,f.useState)(!!B),k=(0,w.Z)(le,2),se=k[0],pe=k[1];return(0,f.useEffect)(function(){if(B){var Ee=setTimeout(function(){pe(!1)},B);return function(){return clearTimeout(Ee)}}},[B]),se?null:(0,F.jsxs)("div",{className:(0,j.Z)("LoadingMessage",{"LoadingMessage--dark":G===A.C6.DARK}),children:[(0,F.jsx)("div",{children:(0,F.jsx)(c.Z,{})}),(0,F.jsx)("div",{className:"LoadingMessage-text",children:(0,y.t)("labels.loadingScene")})]})}},2891:function(ge,Q,t){t.d(Q,{J:function(){return I}});var w=t(9787),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),F=t.n(A),o=t(4010),z=t.n(o),B=t(1469),G=t.n(B),le=t(9329),k=t.n(le),se=t(9935),pe={};pe.styleTagTransform=k(),pe.setAttributes=z(),pe.insert=F().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(5156),ie=t(6340),de=t(6066),ye=t(4512),I=function(J){var g=J.children,m=J.left,C=J.top,v=J.onCloseRequest,u=J.fitInViewport,s=u!==void 0&&u,n=J.offsetLeft,e=n===void 0?0:n,i=J.offsetTop,a=i===void 0?0:i,l=J.viewportWidth,p=l===void 0?window.innerWidth:l,T=J.viewportHeight,X=T===void 0?window.innerHeight:T,te=(0,w.useRef)(null),R=te.current;return(0,w.useEffect)(function(){if(R){var D=function(fe){if(fe.key===de.tW.TAB){var q=(0,ie.xp)(R),H=document.activeElement,h=q.findIndex(function(_){return _===H});h===0&&fe.shiftKey?(q[q.length-1].focus(),fe.preventDefault(),fe.stopImmediatePropagation()):h!==q.length-1||fe.shiftKey||(q[0].focus(),fe.preventDefault(),fe.stopImmediatePropagation())}};return R.addEventListener("keydown",D),function(){return R.removeEventListener("keydown",D)}}},[R]),(0,w.useLayoutEffect)(function(){if(s&&te.current){var D=te.current,fe=D.getBoundingClientRect(),q=fe.x,H=fe.y,h=fe.width,_=fe.height;q+h-e>p&&(D.style.left="".concat(p-h-10,"px")),H+_-a>X&&(D.style.top="".concat(X-_,"px")),_>=X&&(D.style.height="".concat(X-20,"px"),D.style.top="10px",D.style.overflowY="scroll"),h>=p&&(D.style.width="".concat(p,"px"),D.style.left="0px",D.style.overflowX="scroll")}},[s,p,X,e,a]),(0,w.useEffect)(function(){if(v){var D=function(fe){var q;(q=te.current)!==null&&q!==void 0&&q.contains(fe.target)||(0,Ee.unstable_batchedUpdates)(function(){return v(fe)})};return document.addEventListener("pointerdown",D,!1),function(){return document.removeEventListener("pointerdown",D,!1)}}},[v]),(0,ye.jsx)("div",{className:"popover",style:{top:C,left:m},ref:te,children:g})}},9430:function(ge,Q,t){t.d(Q,{Y:function(){return te},b:function(){return X}});var w=t(2577),y=t(9787),f=t.n(y),c=t(1881),j=t(4739),A=t(9487),F=f().createContext({}),o=t(45),z=t(8211),B=t(4206),G=t(3646),le=t(7169),k=t(4512);function se(R,D){var fe=Object.keys(R);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(R);D&&(q=q.filter(function(H){return Object.getOwnPropertyDescriptor(R,H).enumerable})),fe.push.apply(fe,q)}return fe}var pe=t(1894),Ee=function(R){return(0,k.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,k.jsxs)(pe.u,{label:(0,z.t)("labels.sidebarLock"),children:[(0,k.jsxs)("label",{className:(0,o.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,k.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:R.onChange,checked:R.checked,"aria-label":(0,z.t)("labels.sidebarLock")})," ",(0,k.jsx)("div",{className:(0,o.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":R.checked}),tabIndex:0,children:G.qQ})," "]})," "]})})},ie=function(R){var D=(0,y.createContext)([!1,function(){}]),fe=function(H){var h=H.children,_=(0,y.useState)(!1),W=(0,w.Z)(_,2),M=W[0],re=W[1],O=(0,y.useMemo)(function(){return[M,re]},[M]);return(0,k.jsx)(D.Provider,{value:O,children:h})},q=function(H){var h=(0,y.useContext)(D),_=(0,w.Z)(h,2),W=_[0],M=_[1];return(0,y.useLayoutEffect)(function(){if(!H.__isFallback)return M(!0),function(){return M(!1)}},[H.__isFallback,M]),H.__isFallback&&W?null:(0,k.jsx)(R,function(re){for(var O=1;O<arguments.length;O++){var S=arguments[O]!=null?arguments[O]:{};O%2?se(Object(S),!0).forEach(function(b){(0,le.Z)(re,b,S[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(S)):se(Object(S)).forEach(function(b){Object.defineProperty(re,b,Object.getOwnPropertyDescriptor(S,b))})}return re}({},H))};return R.name&&(q.displayName="".concat(R.name,"_upstreamOverrideWrapper"),fe.displayName="".concat(R.name,"_upstreamOverrideContextWrapper")),[fe,q]}(function(R){var D=R.children,fe=R.className,q=(0,B.Fy)(),H=(0,y.useContext)(F),h=!(!q.canDeviceFitSidebar||!H.dockable),_=!!H.onClose;return(0,k.jsxs)("div",{className:(0,o.Z)("layer-ui__sidebar__header",fe),"data-testid":"sidebar-header",children:[D,(h||_)&&(0,k.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[h&&(0,k.jsx)(Ee,{checked:!!H.docked,onChange:function(){var W;(W=H.onDock)===null||W===void 0||W.call(H,!H.docked)}}),_&&(0,k.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:H.onClose,"aria-label":(0,z.t)("buttons.close"),children:G.Tw})]})]})}),de=(0,w.Z)(ie,2),ye={Context:de[0],Component:de[1]},I=t(487),J=t.n(I),g=t(631),m=t.n(g),C=t(2052),v=t.n(C),u=t(4010),s=t.n(u),n=t(1469),e=t.n(n),i=t(9329),a=t.n(i),l=t(8208),p={};p.styleTagTransform=a(),p.setAttributes=s(),p.insert=v().bind(null,"head"),p.domAPI=m(),p.insertStyleElement=e(),J()(l.Z,p),l.Z&&l.Z.locals&&l.Z.locals;var T=t(6340),X=(0,j.cn)({rendered:0,docked:0}),te=Object.assign((0,y.forwardRef)(function(R,D){var fe,q=R.children,H=R.onClose,h=R.onDock,_=R.docked,W=R.initialDockedState,M=W===void 0?_:W,re=R.dockable,O=re===void 0||re,S=R.className,b=R.__isInternal,d=(0,j.KO)(X,A.yE),x=(0,w.Z)(d,2),P=x[0],U=x[1],L=(0,B.n9)(),ce=(0,y.useState)((fe=_??M)!==null&&fe!==void 0&&fe),ae=(0,w.Z)(ce,2),ue=ae[0],Ce=ae[1];(0,y.useLayoutEffect)(function(){_===void 0&&L(function(Y){return Ce(Y.isSidebarDocked),null})},[L,_]),(0,y.useLayoutEffect)(function(){if(!b)return U(function(Y){return{rendered:Y.rendered+1,docked:ue?Y.docked+1:Y.docked}}),function(){U(function(Y){return{rendered:Y.rendered-1,docked:ue?Y.docked-1:Y.docked}})}},[b,U,ue]);var Pe=(0,y.useRef)(H);Pe.current=H,(0,y.useEffect)(function(){return function(){var Y;(Y=Pe.current)===null||Y===void 0||Y.call(Pe)}},[]);var N=(0,y.useRef)({});return N.current.onClose=function(){L({openSidebar:null})},N.current.onDock=function(Y){_===void 0&&(L({isSidebarDocked:Y}),Ce(Y)),h==null||h(Y)},N.current=(0,T.v4)(N.current,{docked:_??ue,dockable:O}),P.rendered>0&&b?null:(0,k.jsx)(c.W,{className:(0,o.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":ue},S),ref:D,children:(0,k.jsx)(F.Provider,{value:N.current,children:(0,k.jsxs)(ye.Context,{children:[(0,k.jsx)(ye.Component,{__isFallback:!0}),q]})})})}),{Header:ye.Component})},5644:function(ge,Q,t){t.d(Q,{Z:function(){return Ee}});var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),F=t(4010),o=t.n(F),z=t(1469),B=t.n(z),G=t(9329),le=t.n(G),k=t(5892),se={};se.styleTagTransform=le(),se.setAttributes=o(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=B(),y()(k.Z,se),k.Z&&k.Z.locals&&k.Z.locals;var pe=t(4512),Ee=function(ie){var de=ie.size,ye=de===void 0?"1em":de,I=ie.circleWidth,J=I===void 0?8:I;return(0,pe.jsx)("div",{className:"Spinner",children:(0,pe.jsx)("svg",{viewBox:"0 0 100 100",style:{width:ye,height:ye},children:(0,pe.jsx)("circle",{cx:"50",cy:"50",r:50-J/2,strokeWidth:J,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(ge,Q,t){t.d(Q,{Z:function(){return I}});var w=t(7169),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),F=t.n(A),o=t(4010),z=t.n(o),B=t(1469),G=t.n(B),le=t(9329),k=t.n(le),se=t(3874),pe={};pe.styleTagTransform=k(),pe.setAttributes=z(),pe.insert=F().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(45),ie=t(4512);function de(J,g){var m=Object.keys(J);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(J);g&&(C=C.filter(function(v){return Object.getOwnPropertyDescriptor(J,v).enumerable})),m.push.apply(m,C)}return m}function ye(J){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?de(Object(m),!0).forEach(function(C){(0,w.Z)(J,C,m[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(m)):de(Object(m)).forEach(function(C){Object.defineProperty(J,C,Object.getOwnPropertyDescriptor(m,C))})}return J}var I={Row:function(J){var g=J.children,m=J.gap,C=J.align,v=J.justifyContent,u=J.className,s=J.style;return(0,ie.jsx)("div",{className:(0,Ee.Z)("Stack Stack_horizontal",u),style:ye({"--gap":m,alignItems:C,justifyContent:v},s),children:g})},Col:function(J){var g=J.children,m=J.gap,C=J.align,v=J.justifyContent,u=J.className,s=J.style;return(0,ie.jsx)("div",{className:(0,Ee.Z)("Stack Stack_vertical",u),style:ye({"--gap":m,justifyItems:C,justifyContent:v},s),children:g})}}},1319:function(ge,Q,t){t.d(Q,{V:function(){return le}});var w=t(8950),y=t(2577),f=t(2975),c=t.n(f),j=(t(5422),t(9787)),A=t.n(j),F=t(45),o=t(4206),z=t(6797),B=t(5644),G=t(4512),le=A().forwardRef(function(k,se){var pe=(0,o.J0)().id,Ee=A().useRef(null);A().useImperativeHandle(se,function(){return Ee.current});var ie="ToolIcon_size_".concat(k.size),de=(0,j.useState)(!1),ye=(0,y.Z)(de,2),I=ye[0],J=ye[1],g=(0,j.useRef)(!0),m=function(){var u=(0,w.Z)(c().mark(function s(n){var e,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(i="onClick"in k&&((e=k.onClick)===null||e===void 0?void 0:e.call(k,n)))||!("then"in i)){a.next=18;break}return a.prev=2,J(!0),a.next=6,i;case 6:a.next=15;break;case 8:if(a.prev=8,a.t0=a.catch(2),a.t0 instanceof z._){a.next=14;break}throw a.t0;case 14:console.warn(a.t0);case 15:return a.prev=15,g.current&&J(!1),a.finish(15);case 18:case"end":return a.stop()}},s,null,[[2,8,15,18]])}));return function(s){return u.apply(this,arguments)}}();(0,j.useEffect)(function(){return function(){g.current=!1}},[]);var C=(0,j.useRef)(null);if(k.type==="button"||k.type==="icon"||k.type==="submit"){var v=k.type==="icon"?"button":k.type;return(0,G.jsxs)("button",{className:(0,F.Z)("ToolIcon_type_button",ie,k.className,k.visible&&!k.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!k.hidden,"ToolIcon--selected":k.selected,"ToolIcon--plain":k.type==="icon"}),"data-testid":k["data-testid"],hidden:k.hidden,title:k.title,"aria-label":k["aria-label"],type:v,onClick:m,ref:Ee,disabled:I||k.isLoading,children:[(k.icon||k.label)&&(0,G.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[k.icon||k.label,k.keyBindingLabel&&(0,G.jsx)("span",{className:"ToolIcon__keybinding",children:k.keyBindingLabel}),k.isLoading&&(0,G.jsx)(B.Z,{})]}),k.showAriaLabel&&(0,G.jsxs)("div",{className:"ToolIcon__label",children:[k["aria-label"]," ",I&&(0,G.jsx)(B.Z,{})]}),k.children]})}return(0,G.jsxs)("label",{className:(0,F.Z)("ToolIcon",k.className),title:k.title,onPointerDown:function(u){var s;C.current=u.pointerType||null,(s=k.onPointerDown)===null||s===void 0||s.call(k,{pointerType:u.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){C.current=null})},children:[(0,G.jsx)("input",{className:"ToolIcon_type_radio ".concat(ie),type:"radio",name:k.name,"aria-label":k["aria-label"],"aria-keyshortcuts":k["aria-keyshortcuts"],"data-testid":k["data-testid"],id:"".concat(pe,"-").concat(k.id),onChange:function(){var u;(u=k.onChange)===null||u===void 0||u.call(k,{pointerType:C.current})},checked:k.checked,ref:Ee}),(0,G.jsxs)("div",{className:"ToolIcon__icon",children:[k.icon,k.keyBindingLabel&&(0,G.jsx)("span",{className:"ToolIcon__keybinding",children:k.keyBindingLabel})]})]})});le.defaultProps={visible:!0,className:"",size:"medium"},le.displayName="ToolButton"},1894:function(ge,Q,t){t.d(Q,{u:function(){return ye},bK:function(){return ie},Js:function(){return de}});var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),F=t(4010),o=t.n(F),z=t(1469),B=t.n(z),G=t(9329),le=t.n(G),k=t(6626),se={};se.styleTagTransform=le(),se.setAttributes=o(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=B(),y()(k.Z,se),k.Z&&k.Z.locals&&k.Z.locals;var pe=t(9787),Ee=t(4512),ie=function(){var I=document.querySelector(".excalidraw-tooltip");if(I)return I;var J=document.createElement("div");return document.body.appendChild(J),J.classList.add("excalidraw-tooltip"),J},de=function(I,J){var g,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",C=I.getBoundingClientRect(),v=window.innerWidth,u=window.innerHeight,s=5,n=J.left+J.width/2-C.width/2;n<0?n=s:n+C.width>=v&&(n=v-C.width-s),m==="bottom"?(g=J.top+J.height+s)+C.height>=u&&(g=J.top-C.height-s):(g=J.top-C.height-s)<0&&(g=J.top+J.height+s),Object.assign(I.style,{top:"".concat(g,"px"),left:"".concat(n,"px")})},ye=function(I){var J=I.children,g=I.label,m=I.long,C=m!==void 0&&m,v=I.style;return(0,pe.useEffect)(function(){return function(){return ie().classList.remove("excalidraw-tooltip--visible")}},[]),(0,Ee.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(u){return function(s,n,e,i){n.classList.add("excalidraw-tooltip--visible"),n.style.minWidth=i?"50ch":"10ch",n.style.maxWidth=i?"50ch":"15ch",n.textContent=e;var a=s.getBoundingClientRect();de(n,a)}(u.currentTarget,ie(),g,C)},onPointerLeave:function(){return ie().classList.remove("excalidraw-tooltip--visible")},style:v,children:J})}},6773:function(ge,Q,t){t.d(Q,{Z:function(){return g}});var w=t(2577),y=t(487),f=t.n(y),c=t(631),j=t.n(c),A=t(2052),F=t.n(A),o=t(4010),z=t.n(o),B=t(1469),G=t.n(B),le=t(9329),k=t.n(le),se=t(6359),pe={};pe.styleTagTransform=k(),pe.setAttributes=z(),pe.insert=F().bind(null,"head"),pe.domAPI=j(),pe.insertStyleElement=G(),f()(se.Z,pe),se.Z&&se.Z.locals&&se.Z.locals;var Ee=t(9787),ie=t.n(Ee),de=t(45),ye=t(1894),I=t(4206),J=t(4512),g=function(m){var C=m.className,v=m.mobile,u=m.collaborators,s=(0,I.eh)(),n=new Map;u.forEach(function(i,a){n.set(i.id||a,i)});var e=n.size>0&&Array.from(n).filter(function(i){var a=(0,w.Z)(i,2),l=(a[0],a[1]);return Object.keys(l).length!==0}).map(function(i){var a=(0,w.Z)(i,2),l=a[0],p=a[1],T=s.renderAction("goToCollaborator",[l,p]);return v?(0,J.jsx)(ye.u,{label:p.username||"Unknown user",children:T},l):(0,J.jsx)(ie().Fragment,{children:T},l)});return(0,J.jsx)("div",{className:(0,de.Z)("UserList",C,{UserList_mobile:v}),children:e})}},8888:function(ge,Q,t){t.d(Q,{A3:function(){return B},ZC:function(){return le},R6:function(){return G}});var w=t(9787),y=t.n(w);const f=k=>{let se;const pe=new Set,Ee=(ye,I)=>{const J=typeof ye=="function"?ye(se):ye;if(!Object.is(J,se)){const g=se;se=I??typeof J!="object"?J:Object.assign({},se,J),pe.forEach(m=>m(se,g))}},ie=()=>se,de={setState:Ee,getState:ie,subscribe:ye=>(pe.add(ye),()=>pe.delete(ye)),destroy:()=>{console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),pe.clear()}};return se=k(Ee,ie,de),de},c=k=>k?f(k):f;var j=t(5668);const{useSyncExternalStoreWithSelector:A}=j,F=k=>{typeof k!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const se=typeof k=="function"?c(k):k,pe=(Ee,ie)=>function(de,ye=de.getState,I){const J=A(de.subscribe,de.getState,de.getServerState||de.getState,ye,I);return(0,w.useDebugValue)(J),J}(se,Ee,ie);return Object.assign(pe,se),pe},o=k=>k?F(k):F;function z(){const k=o(se=>({current:new Array,version:0,set:se}));return{In:({children:se})=>{const pe=k(ie=>ie.set),Ee=k(ie=>ie.version);return(0,w.useLayoutEffect)(()=>{pe(ie=>({version:ie.version+1}))},[]),(0,w.useLayoutEffect)(()=>(pe(({current:ie})=>({current:[...ie,se]})),()=>pe(({current:ie})=>({current:ie.filter(de=>de!==se)}))),[se,Ee]),null},Out:()=>{const se=k(pe=>pe.current);return y().createElement(y().Fragment,null,se)}}}var B=y().createContext(null),G=function(){return y().useContext(B)},le=function(){return y().useMemo(function(){return{mainMenuTunnel:z(),welcomeScreenMenuHintTunnel:z(),welcomeScreenToolbarHintTunnel:z(),welcomeScreenHelpHintTunnel:z(),welcomeScreenCenterTunnel:z(),footerCenterTunnel:z(),jotaiScope:Symbol()}},[])}},9127:function(ge,Q,t){t.d(Q,{Z:function(){return H}});var w=t(45),y=t(4206),f=t(4512),c=function(h){var _=h.className,W=_===void 0?"":_,M=h.children,re=h.onToggle,O=(0,y.gF)(),S=(0,y.Fy)(),b=(0,w.Z)("dropdown-menu-button ".concat(W),"zen-mode-transition",{"transition-left":O.zenModeEnabled,"dropdown-menu-button--mobile":S.isMobile}).trim();return(0,f.jsx)("button",{"data-prevent-outside-click":!0,className:b,onClick:re,type:"button","data-testid":"dropdown-menu-button",children:M})},j=c;c.displayName="DropdownMenuTrigger";var A=t(2739),F=function(){return(0,f.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},o=F;F.displayName="DropdownMenuSeparator";var z=function(h){var _=h.children,W=h.className,M=W===void 0?"":W,re=h.style,O=h.title;return(0,f.jsxs)("div",{className:"dropdown-menu-group ".concat(M),style:re,children:[O&&(0,f.jsx)("p",{className:"dropdown-menu-group-title",children:O}),_]})},B=z;z.displayName="DropdownMenuGroup";var G=t(1930),le=t(9787),k=t.n(le),se=t(1881),pe=t(7239),Ee=t(6772),ie=function(h){var _,W,M=h.children,re=h.onClickOutside,O=h.className,S=O===void 0?"":O,b=h.onSelect,d=h.style,x=(0,y.Fy)(),P=(_=function(){re==null||re()},W=(0,le.useRef)(null),(0,le.useEffect)(function(){var L=function(ce){var ae=W.current;!ae||ae.contains(ce.target)||(0,G.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some(function(ue){return ue.contains(ce.target)})||_(ce)};return document.addEventListener("pointerdown",L),document.addEventListener("touchstart",L),function(){document.removeEventListener("pointerdown",L),document.removeEventListener("touchstart",L)}},[W,_]),W),U=(0,w.Z)("dropdown-menu ".concat(S),{"dropdown-menu--mobile":x.isMobile}).trim();return(0,f.jsx)(Ee.N7.Provider,{value:{onSelect:b},children:(0,f.jsx)("div",{ref:P,className:U,style:d,"data-testid":"dropdown-menu",children:x.isMobile?(0,f.jsx)(pe.Z.Col,{className:"dropdown-menu-container",children:M}):(0,f.jsx)(se.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:M})})})};ie.displayName="DropdownMenuContent";var de=ie,ye=t(4215),I=t(7169),J=t(2726),g=["children","className"];function m(h,_){var W=Object.keys(h);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(h);_&&(M=M.filter(function(re){return Object.getOwnPropertyDescriptor(h,re).enumerable})),W.push.apply(W,M)}return W}function C(h){for(var _=1;_<arguments.length;_++){var W=arguments[_]!=null?arguments[_]:{};_%2?m(Object(W),!0).forEach(function(M){(0,I.Z)(h,M,W[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(W)):m(Object(W)).forEach(function(M){Object.defineProperty(h,M,Object.getOwnPropertyDescriptor(W,M))})}return h}var v=function(h){var _=h.children,W=h.className,M=W===void 0?"":W,re=(0,J.Z)(h,g);return(0,f.jsx)("div",C(C({},re),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(M).trim(),children:_}))},u=t(487),s=t.n(u),n=t(631),e=t.n(n),i=t(2052),a=t.n(i),l=t(4010),p=t.n(l),T=t(1469),X=t.n(T),te=t(9329),R=t.n(te),D=t(7399),fe={};fe.styleTagTransform=R(),fe.setAttributes=p(),fe.insert=a().bind(null,"head"),fe.domAPI=e(),fe.insertStyleElement=X(),s()(D.Z,fe),D.Z&&D.Z.locals&&D.Z.locals;var q=function(h){var _=h.children,W=h.open,M=function(O){return k().Children.toArray(O).find(function(S){return k().isValidElement(S)&&typeof S.type!="string"&&(S==null?void 0:S.type.displayName)&&S.type.displayName==="DropdownMenuTrigger"})||null}(_),re=function(O){return k().Children.toArray(O).find(function(S){return k().isValidElement(S)&&typeof S.type!="string"&&(S==null?void 0:S.type.displayName)&&S.type.displayName==="DropdownMenuContent"})||null}(_);return(0,f.jsxs)(f.Fragment,{children:[M,W&&re]})};q.Trigger=j,q.Content=de,q.Item=A.Z,q.ItemLink=ye.Z,q.ItemCustom=v,q.Group=B,q.Separator=o;var H=q;q.displayName="DropdownMenu"},2739:function(ge,Q,t){var w=t(7169),y=t(2726),f=t(6772),c=t(4122),j=t(4512),A=["icon","onSelect","children","shortcut","className"];function F(B,G){var le=Object.keys(B);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(B);G&&(k=k.filter(function(se){return Object.getOwnPropertyDescriptor(B,se).enumerable})),le.push.apply(le,k)}return le}function o(B){for(var G=1;G<arguments.length;G++){var le=arguments[G]!=null?arguments[G]:{};G%2?F(Object(le),!0).forEach(function(k){(0,w.Z)(B,k,le[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(le)):F(Object(le)).forEach(function(k){Object.defineProperty(B,k,Object.getOwnPropertyDescriptor(le,k))})}return B}var z=function(B){var G,le=B.icon,k=B.onSelect,se=B.children,pe=B.shortcut,Ee=B.className,ie=(0,y.Z)(B,A),de=(0,f.qZ)(ie.onClick,k);return(0,j.jsx)("button",o(o({},ie),{},{onClick:de,type:"button",className:(0,f.n)(Ee),title:(G=ie.title)!==null&&G!==void 0?G:ie["aria-label"],children:(0,j.jsx)(c.Z,{icon:le,shortcut:pe,children:se})}))};Q.Z=z,z.displayName="DropdownMenuItem"},4122:function(ge,Q,t){var w=t(4206),y=t(4512);Q.Z=function(f){var c=f.icon,j=f.shortcut,A=f.children,F=(0,w.Fy)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"dropdown-menu-item__icon",children:c}),(0,y.jsx)("div",{className:"dropdown-menu-item__text",children:A}),j&&!F.isMobile&&(0,y.jsx)("div",{className:"dropdown-menu-item__shortcut",children:j})]})}},4215:function(ge,Q,t){var w=t(7169),y=t(2726),f=t(4122),c=t(6772),j=t(4512),A=["icon","shortcut","href","children","onSelect","className"];function F(B,G){var le=Object.keys(B);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(B);G&&(k=k.filter(function(se){return Object.getOwnPropertyDescriptor(B,se).enumerable})),le.push.apply(le,k)}return le}function o(B){for(var G=1;G<arguments.length;G++){var le=arguments[G]!=null?arguments[G]:{};G%2?F(Object(le),!0).forEach(function(k){(0,w.Z)(B,k,le[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(le)):F(Object(le)).forEach(function(k){Object.defineProperty(B,k,Object.getOwnPropertyDescriptor(le,k))})}return B}var z=function(B){var G,le=B.icon,k=B.shortcut,se=B.href,pe=B.children,Ee=B.onSelect,ie=B.className,de=ie===void 0?"":ie,ye=(0,y.Z)(B,A),I=(0,c.qZ)(ye.onClick,Ee);return(0,j.jsx)("a",o(o({},ye),{},{href:se,target:"_blank",rel:"noreferrer",className:(0,c.n)(de),title:(G=ye.title)!==null&&G!==void 0?G:ye["aria-label"],onClick:I,children:(0,j.jsx)(f.Z,{icon:le,shortcut:k,children:pe})}))};Q.Z=z,z.displayName="DropdownMenuItemLink"},6772:function(ge,Q,t){t.d(Q,{N7:function(){return j},n:function(){return A},qZ:function(){return F}});var w=t(9787),y=t.n(w),f=t(2335),c=t(6340),j=y().createContext({}),A=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"dropdown-menu-item dropdown-menu-item-base ".concat(o).trim()},F=function(o,z){var B=(0,w.useContext)(j);return(0,c.Mj)(o,function(G){var le,k=new CustomEvent(f.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});z==null||z(k),k.defaultPrevented||(le=B.onSelect)===null||le===void 0||le.call(B,k)})}},3646:function(ge,Q,t){t.d(Q,{$c:function(){return Pe},$q:function(){return te},BF:function(){return We},BR:function(){return ce},Ct:function(){return Je},D7:function(){return S},DG:function(){return ae},DJ:function(){return C},DS:function(){return St},EO:function(){return Tt},ET:function(){return O},FC:function(){return J},Gc:function(){return Oe},HL:function(){return Ke},Hk:function(){return or},Hy:function(){return W},IN:function(){return Ze},J8:function(){return ue},Mw:function(){return v},NA:function(){return q},NW:function(){return h},Nw:function(){return lr},OA:function(){return dt},OW:function(){return s},P7:function(){return nr},Pm:function(){return p},RJ:function(){return He},RY:function(){return _},Re:function(){return e},ST:function(){return ve},Sd:function(){return R},TP:function(){return Ce},Tl:function(){return L},Tw:function(){return Te},UE:function(){return N},VL:function(){return T},Vl:function(){return $},Vq:function(){return Ee},W2:function(){return yt},W5:function(){return me},Wl:function(){return tt},X7:function(){return it},XB:function(){return X},XH:function(){return fe},YA:function(){return de},ZA:function(){return $e},Zm:function(){return b},_C:function(){return I},_U:function(){return m},a0:function(){return Ye},a1:function(){return P},a5:function(){return Et},aA:function(){return Jt},aT:function(){return Pt},bf:function(){return _t},by:function(){return M},e0:function(){return i},eQ:function(){return d},fr:function(){return Yt},gK:function(){return we},h0:function(){return re},il:function(){return qt},j8:function(){return Ne},jn:function(){return Me},kL:function(){return H},kM:function(){return vt},m:function(){return At},m9:function(){return st},mh:function(){return Le},nb:function(){return n},np:function(){return et},nq:function(){return ot},o3:function(){return Zt},oQ:function(){return g},oT:function(){return Bt},op:function(){return ze},pO:function(){return ie},po:function(){return U},pw:function(){return Fe},q0:function(){return Ue},qQ:function(){return ye},rr:function(){return Ot},t5:function(){return xe},tW:function(){return at},tb:function(){return l},tn:function(){return Ct},uD:function(){return ne},vo:function(){return gt},wr:function(){return ft},xL:function(){return D},xP:function(){return x},xs:function(){return Be},z6:function(){return jt},zG:function(){return Y},zb:function(){return a},zu:function(){return u}});var w=t(7169),y=t(2726),f=t(9787),c=t.n(f),j=t(5284),A=t(45),F=t(2335),o=t(4512),z=["width","height","mirror","style"];function B(zt,Ft){var $t=Object.keys(zt);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(zt);Ft&&(ir=ir.filter(function(wr){return Object.getOwnPropertyDescriptor(zt,wr).enumerable})),$t.push.apply($t,ir)}return $t}function G(zt){for(var Ft=1;Ft<arguments.length;Ft++){var $t=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?B(Object($t),!0).forEach(function(ir){(0,w.Z)(zt,ir,$t[ir])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors($t)):B(Object($t)).forEach(function(ir){Object.defineProperty(zt,ir,Object.getOwnPropertyDescriptor($t,ir))})}return zt}var le=function(zt){return zt===F.C6.LIGHT?j.white:"#1e1e1e"},k=function(zt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,$t=typeof Ft=="number"?{width:Ft}:Ft,ir=$t.width,wr=ir===void 0?512:ir,Rr=$t.height,Nr=Rr===void 0?wr:Rr,Br=$t.mirror,Dr=$t.style,ur=(0,y.Z)($t,z);return(0,o.jsx)("svg",G(G({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(wr," ").concat(Nr),className:(0,A.Z)({"rtl-mirror":Br}),style:Dr},ur),{},{children:typeof zt=="string"?(0,o.jsx)("path",{fill:"currentColor",d:zt}):zt}))},se={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},pe={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Ee=(k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,o.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,o.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,o.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),se),k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,o.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,o.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,o.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,o.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),se)),ie=k((0,o.jsxs)("svg",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,o.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),se),de=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,o.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,o.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),se),ye=k((0,o.jsxs)("svg",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,o.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,o.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),se),I=k((0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,o.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,o.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,o.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,o.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,o.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),pe),J=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,o.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,o.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),pe),g=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),m=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),C=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),v=k((0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),u=k((0,o.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,o.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),s=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),se),n=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),se),e=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),se),i=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,o.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,o.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),se),a=k((0,o.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),pe),l=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,o.jsx)("path",{d:"M16 7h4"}),(0,o.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),se),p=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,o.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),pe),T=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,o.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,o.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,o.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,o.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),se),X=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M12.5 6.667h.01"}),(0,o.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,o.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,o.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),pe),te=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,o.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),se),R=k((0,o.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),pe),D=k((0,o.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),pe),fe=k((0,o.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),pe),q=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,o.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),pe),H=k((0,o.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),pe),h=k((0,o.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),pe),_=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,o.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,o.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),se),W=k((0,o.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),pe),M=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,o.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,o.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),se),re=k((0,o.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),pe),O=k((0,o.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),pe),S=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,o.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),pe),b=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),se),d=k((0,o.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),x=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,o.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),pe),P=k("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),U=k("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),L=k((0,o.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),pe),ce=k("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ae=k("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),ue=k((0,o.jsxs)("g",{strokeWidth:"1.25",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M15 8h.01"}),(0,o.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,o.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,o.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,o.jsx)("path",{d:"M19 16v6"}),(0,o.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),se),Ce=k("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Pe=(k("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),N=(k("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),k((0,o.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),pe)),Y=k((0,o.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),pe),$=k("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),xe=(k((0,o.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),pe),k("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,o.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),k((0,o.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe)),Oe=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,o.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Ze=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Fe=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",children:[(0,o.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,o.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,o.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,o.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,o.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Je=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Ke=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Be=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Le=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),ne=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),me=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),ve=k((0,o.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),pe),we=k((0,o.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,o.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),pe),Me=k((0,o.jsxs)("g",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,o.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,o.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,o.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),se),Te=(k("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),k("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe)),ze=k("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),We=(k("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),k("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),k("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),c().memo(function(zt){var Ft=zt.theme;return k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,o.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,o.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,o.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,o.jsxs)("g",{fill:le(Ft),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,o.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),He=c().memo(function(zt){var Ft=zt.theme;return k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,o.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,o.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,o.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,o.jsxs)("g",{fill:le(Ft),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,o.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,o.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),Ye=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,o.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,o.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,o.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,o.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),pe),et=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("g",{clipPath:"url(#a)",children:[(0,o.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,o.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,o.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,o.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,o.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),it=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#a)",children:(0,o.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),G(G({},pe),{},{fill:"currentColor"})),$e=k((0,o.jsx)(o.Fragment,{children:(0,o.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),pe),tt=k((0,o.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),pe),st=k((0,o.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),pe),Et=k((0,o.jsxs)("g",{strokeWidth:"2",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M5 12h2"}),(0,o.jsx)("path",{d:"M17 12h2"}),(0,o.jsx)("path",{d:"M11 12h2"})]}),se),Pt=k((0,o.jsxs)("g",{strokeWidth:"2",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M4 12v.01"}),(0,o.jsx)("path",{d:"M8 12v.01"}),(0,o.jsx)("path",{d:"M12 12v.01"}),(0,o.jsx)("path",{d:"M16 12v.01"}),(0,o.jsx)("path",{d:"M20 12v.01"})]}),se),_t=k((0,o.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),pe),vt=k((0,o.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),pe),yt=k((0,o.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),pe),ft=k((0,o.jsxs)("svg",{strokeWidth:"1.5",children:[(0,o.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,o.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,o.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,o.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,o.jsx)("path",{d:"M16.6667 10V10.01"}),(0,o.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,o.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,o.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,o.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,o.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,o.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,o.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),pe),St=k((0,o.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,o.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,o.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,o.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,o.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,o.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,o.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,o.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,o.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,o.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,o.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,o.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),se),Yt=k((0,o.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),qt=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,o.jsxs)("g",{transform:$t?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,o.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,o.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Ct=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,o.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:$t?"translate(40, 0) scale(-1, 1)":"",children:[(0,o.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,o.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),At=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,o.jsx)("g",{transform:$t?"translate(40, 0) scale(-1, 1)":"",children:(0,o.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Ne=c().memo(function(zt){var Ft=zt.flip,$t=Ft!==void 0&&Ft;return k((0,o.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:$t?"translate(40, 0) scale(-1, 1)":"",children:[(0,o.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,o.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Ue=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#a)",children:(0,o.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),ot=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#a)",children:(0,o.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),at=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#a)",children:(0,o.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),dt=k((0,o.jsx)(o.Fragment,{children:(0,o.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),pe),gt=k((0,o.jsx)(o.Fragment,{children:(0,o.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),pe),jt=k((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"a",children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),pe),Ot=k((0,o.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,o.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,o.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),se),Zt=k((0,o.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,o.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,o.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),se),Bt=k((0,o.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,o.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,o.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),se),Tt=c().memo(function(zt){return zt.theme,k((0,o.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,o.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),se)}),Jt=c().memo(function(zt){return zt.theme,k((0,o.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,o.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),se)}),nr=c().memo(function(zt){return zt.theme,k((0,o.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,o.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,o.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),se)}),lr=k((0,o.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),or=(k((0,o.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),k((0,o.jsxs)("g",{strokeWidth:1.25,children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,o.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,o.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,o.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),se))},4709:function(ge,Q,t){t.d(Q,{Z:function(){return x}});var w={};t.r(w),t.d(w,{ChangeCanvasBackground:function(){return T},ClearCanvas:function(){return l},Export:function(){return X},Help:function(){return a},LiveCollaborationTrigger:function(){return R},LoadScene:function(){return n},SaveAsImage:function(){return i},SaveToActiveFile:function(){return e},Socials:function(){return te},ToggleTheme:function(){return p}});var y=t(4206),f=t(9127),c=t(785),j=t(8211),A=t(3646),F=t(2739),o=t(4215),z=t(5654),B=t(487),G=t.n(B),le=t(631),k=t.n(le),se=t(2052),pe=t.n(se),Ee=t(4010),ie=t.n(Ee),de=t(1469),ye=t.n(de),I=t(9329),J=t.n(I),g=t(4343),m={};m.styleTagTransform=J(),m.setAttributes=ie(),m.insert=pe().bind(null,"head"),m.domAPI=k(),m.insertStyleElement=ye(),G()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;var C=t(45),v=t(4739),u=t(6798),s=t(4512),n=function(){(0,y.gF)();var P=(0,y.eh)();return P.isActionEnabled(z._d)?(0,s.jsx)(F.Z,{icon:A.Tl,onSelect:function(){return P.executeAction(z._d)},"data-testid":"load-button",shortcut:(0,c.C)("loadScene"),"aria-label":(0,j.t)("buttons.load"),children:(0,j.t)("buttons.load")}):null};n.displayName="LoadScene";var e=function(){(0,y.gF)();var P=(0,y.eh)();return P.isActionEnabled(z.ns)?(0,s.jsx)(F.Z,{shortcut:(0,c.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return P.executeAction(z.ns)},icon:A.a1,"aria-label":"".concat((0,j.t)("buttons.save")),children:"".concat((0,j.t)("buttons.save"))}):null};e.displayName="SaveToActiveFile";var i=function(){var P=(0,y.n9)();return(0,y.gF)(),(0,s.jsx)(F.Z,{icon:A.J8,"data-testid":"image-export-button",onSelect:function(){return P({openDialog:"imageExport"})},shortcut:(0,c.C)("imageExport"),"aria-label":(0,j.t)("buttons.exportImage"),children:(0,j.t)("buttons.exportImage")})};i.displayName="SaveAsImage";var a=function(){(0,y.gF)();var P=(0,y.eh)();return(0,s.jsx)(F.Z,{"data-testid":"help-menu-item",icon:A.by,onSelect:function(){return P.executeAction(z.jY)},shortcut:"?","aria-label":(0,j.t)("helpDialog.title"),children:(0,j.t)("helpDialog.title")})};a.displayName="Help";var l=function(){(0,y.gF)();var P=(0,v.b9)(u.w);return(0,y.eh)().isActionEnabled(z.mo)?(0,s.jsx)(F.Z,{icon:A.XH,onSelect:function(){return P("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":(0,j.t)("buttons.clearReset"),children:(0,j.t)("buttons.clearReset")}):null};l.displayName="ClearCanvas";var p=function(){var P=(0,y.gF)(),U=(0,y.eh)();return U.isActionEnabled(z.Zp)?(0,s.jsx)(F.Z,{onSelect:function(L){return L.preventDefault(),U.executeAction(z.Zp)},icon:P.theme==="dark"?A.NW:A.kL,"data-testid":"toggle-dark-mode",shortcut:(0,c.C)("toggleTheme"),"aria-label":P.theme==="dark"?(0,j.t)("buttons.lightMode"):(0,j.t)("buttons.darkMode"),children:P.theme==="dark"?(0,j.t)("buttons.lightMode"):(0,j.t)("buttons.darkMode")}):null};p.displayName="ToggleTheme";var T=function(){var P=(0,y.gF)(),U=(0,y.eh)();return P.viewModeEnabled?null:(0,s.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,s.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:(0,j.t)("labels.canvasBackground")}),(0,s.jsx)("div",{style:{padding:"0 0.625rem"},children:U.renderAction("changeViewBackgroundColor")})]})};T.displayName="ChangeCanvasBackground";var X=function(){(0,y.gF)();var P=(0,y.n9)();return(0,s.jsx)(F.Z,{icon:A.Hy,onSelect:function(){P({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":(0,j.t)("buttons.export"),children:(0,j.t)("buttons.export")})};X.displayName="Export";var te=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{icon:A.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,s.jsx)(o.Z,{icon:A.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,s.jsx)(o.Z,{icon:A.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};te.displayName="Socials";var R=function(P){var U=P.onSelect,L=P.isCollaborating;return(0,y.gF)(),(0,s.jsx)(F.Z,{"data-testid":"collab-button",icon:A.jn,className:(0,C.Z)({"active-collab":L}),onSelect:U,children:(0,j.t)("labels.liveCollaboration")})};R.displayName="LiveCollaborationTrigger";var D=t(6773),fe=t(7169),q=t(2577),H=t(9787),h=t(8888);function _(P,U){var L=Object.keys(P);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(P);U&&(ce=ce.filter(function(ae){return Object.getOwnPropertyDescriptor(P,ae).enumerable})),L.push.apply(L,ce)}return L}var W,M,re,O,S,b=t(6340),d=Object.assign((W="MainMenu",M=function(P){var U=P.children,L=P.onSelect,ce=(0,h.R6)().mainMenuTunnel,ae=(0,y.Fy)(),ue=(0,y.gF)(),Ce=(0,y.n9)(),Pe=ae.isMobile?void 0:function(){return Ce({openMenu:null})};return(0,s.jsx)(ce.In,{children:(0,s.jsxs)(f.Z,{open:ue.openMenu==="canvas",children:[(0,s.jsx)(f.Z.Trigger,{onToggle:function(){Ce({openMenu:ue.openMenu==="canvas"?null:"canvas"})},children:A.RY}),(0,s.jsxs)(f.Z.Content,{onClickOutside:Pe,onSelect:(0,b.Mj)(L,function(){Ce({openMenu:null})}),children:[U,ae.isMobile&&ue.collaborators.size>0&&(0,s.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,s.jsx)("legend",{children:(0,j.t)("labels.collaborators")}),(0,s.jsx)(D.Z,{mobile:!0,collaborators:ue.collaborators})]})]})]})})},re=(0,v.cn)(0),O=!1,S=function(P){var U=(0,h.R6)().jotaiScope,L=(0,v.KO)(re,U),ce=(0,q.Z)(L,2),ae=ce[0],ue=ce[1];return(0,H.useLayoutEffect)(function(){return ue(function(Ce){return Ce+1}),function(){ue(function(Ce){return Ce-1})}},[ue]),P.__fallback||(O=!0),!ae&&P.__fallback&&O||ae>1&&P.__fallback?null:(0,s.jsx)(M,function(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var N=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?_(Object(N),!0).forEach(function(Y){(0,fe.Z)(Ce,Y,N[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(N)):_(Object(N)).forEach(function(Y){Object.defineProperty(Ce,Y,Object.getOwnPropertyDescriptor(N,Y))})}return Ce}({},P))},S.displayName=W,S),{Trigger:f.Z.Trigger,Item:f.Z.Item,ItemLink:f.Z.ItemLink,ItemCustom:f.Z.ItemCustom,Group:f.Z.Group,Separator:f.Z.Separator,DefaultItems:w}),x=d},2335:function(ge,Q,t){t.d(Q,{jo:function(){return Oe},iC:function(){return J},gK:function(){return Ke},$C:function(){return a},oc:function(){return n},_9:function(){return ve},qy:function(){return $},rk:function(){return te},n5:function(){return X},h6:function(){return xe},Rx:function(){return me},Hg:function(){return R},cW:function(){return U},hs:function(){return D},f:function(){return g},xY:function(){return ne},Iw:function(){return C},$e:function(){return v},Vi:function(){return i},Ks:function(){return pe},r8:function(){return H},ZB:function(){return Y},pb:function(){return h},ut:function(){return l},k:function(){return fe},sA:function(){return b},LL:function(){return _},EE:function(){return Pe},qx:function(){return m},$n:function(){return Ze},zK:function(){return N},LO:function(){return q},Zj:function(){return S},Yx:function(){return ue},sS:function(){return ae},kV:function(){return ce},sk:function(){return Ce},eF:function(){return L},Oh:function(){return e},WR:function(){return Me},a6:function(){return we},HM:function(){return re},ay:function(){return s},hR:function(){return Fe},Gj:function(){return W},I8:function(){return Le},wZ:function(){return u},C6:function(){return p},ZF:function(){return d},nM:function(){return M},ah:function(){return P},UO:function(){return x},Kr:function(){return Je},oX:function(){return Be},_D:function(){return T},V4:function(){return O},Dt:function(){return ye},Um:function(){return ie},vU:function(){return I},ED:function(){return de}});var w=t(487),y=t.n(w),f=t(631),c=t.n(f),j=t(2052),A=t.n(j),F=t(4010),o=t.n(F),z=t(1469),B=t.n(z),G=t(9329),le=t.n(G),k=t(6464),se={};se.styleTagTransform=le(),se.setAttributes=o(),se.insert=A().bind(null,"head"),se.domAPI=c(),se.insertStyleElement=B(),y()(k.Z,se);var pe,Ee=k.Z&&k.Z.locals?k.Z.locals:void 0,ie=/Mac|iPod|iPhone|iPad/.test(navigator.platform),de=/^Win/.test(navigator.platform),ye=/\b(android)\b/i.test(navigator.userAgent),I="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,J="Excalidraw",g=10,m=8,C=5,v=1,u=30,s=Math.PI/12,n={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},e={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Te){Te.COPY="copy",Te.PASTE="paste",Te.CUT="cut",Te.KEYDOWN="keydown",Te.KEYUP="keyup",Te.MOUSE_MOVE="mousemove",Te.RESIZE="resize",Te.UNLOAD="unload",Te.FOCUS="focus",Te.BLUR="blur",Te.DRAG_OVER="dragover",Te.DROP="drop",Te.GESTURE_END="gestureend",Te.BEFORE_UNLOAD="beforeunload",Te.GESTURE_START="gesturestart",Te.GESTURE_CHANGE="gesturechange",Te.POINTER_MOVE="pointermove",Te.POINTER_UP="pointerup",Te.STATE_CHANGE="statechange",Te.WHEEL="wheel",Te.TOUCH_START="touchstart",Te.TOUCH_END="touchend",Te.HASHCHANGE="hashchange",Te.VISIBILITY_CHANGE="visibilitychange",Te.SCROLL="scroll",Te.EXCALIDRAW_LINK="excalidraw-link",Te.MENU_ITEM_SELECT="menu.itemSelect"})(pe||(pe={}));var i={TEST:"test",DEVELOPMENT:"development"},a={SHAPE_ACTIONS_MENU:"App-menu__left"},l={Virgil:1,Helvetica:2,Cascadia:3},p={LIGHT:"light",DARK:"dark"},T="Segoe UI Emoji",X=20,te=l.Virgil,R="left",D="top",fe=20,q={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},H={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},h=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,_=500,W=300,M=500,re=100,O=.1,S=.1,b=300,d=Ee.themeFilter,x={addLibrary:"addLibrary"},P={addLibrary:"addLibrary"},U={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},L=640,ce=730,ae=1e3,ue=500,Ce=1229,Pe=parseInt(Ee.rightSidebarWidth),N=2,Y=[1,2,3],$=10,xe=1440,Oe=[q.png,q.jpg,q.svg,q.gif,q.webp,q.bmp,q.ico],Ze=2097152,Fe="http://www.w3.org/2000/svg",Je={excalidraw:2,excalidrawLibrary:2},Ke=5,Be={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Le={LEFT:"left",CENTER:"center",RIGHT:"right"},ne=20,me=.25,ve=32,we={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Me="__precedingElement__"},434:function(ge,Q,t){t.d(Q,{DQ:function(){return g},KG:function(){return l},Pn:function(){return T},Qk:function(){return J},Sf:function(){return a},Tu:function(){return p},Wr:function(){return C},ZY:function(){return v},_c:function(){return e},bv:function(){return X},cT:function(){return u},g8:function(){return m},gY:function(){return fe},lV:function(){return n},tW:function(){return i},vZ:function(){return q},wf:function(){return s}});var w=t(1930),y=t(2577),f=t(7169),c=t(8950),j=t(2975),A=t.n(j),F=t(5605),o=t(8897),z=t(2335),B=t(1047),G=t(6797),le=t(8211),k=t(75),se=t(6340),pe=t(1393),Ee=t(5523),ie=t(679);function de(H,h){var _=Object.keys(H);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(H);h&&(W=W.filter(function(M){return Object.getOwnPropertyDescriptor(H,M).enumerable})),_.push.apply(_,W)}return _}function ye(H){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?de(Object(_),!0).forEach(function(W){(0,f.Z)(H,W,_[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(_)):de(Object(_)).forEach(function(W){Object.defineProperty(H,W,Object.getOwnPropertyDescriptor(_,W))})}return H}var I=function(){var H=(0,c.Z)(A().mark(function h(_){var W;return A().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(_.type!==z.LO.png){M.next=18;break}return M.prev=1,M.next=4,Promise.resolve().then(t.bind(t,673));case 4:return M.next=6,M.sent.decodePngMetadata(_);case 6:return M.abrupt("return",M.sent);case 9:if(M.prev=9,M.t0=M.catch(1),M.t0.message!=="INVALID"){M.next=15;break}throw new DOMException((0,le.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,le.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:M.next=43;break;case 18:if(!("text"in Blob)){M.next=24;break}return M.next=21,_.text();case 21:W=M.sent,M.next=27;break;case 24:return M.next=26,new Promise(function(re){var O=new FileReader;O.readAsText(_,"utf8"),O.onloadend=function(){O.readyState===FileReader.DONE&&re(O.result)}});case 26:W=M.sent;case 27:if(_.type!==z.LO.svg){M.next=43;break}return M.prev=28,M.next=31,Promise.resolve().then(t.bind(t,673));case 31:return M.next=33,M.sent.decodeSvgMetadata({svg:W});case 33:return M.abrupt("return",M.sent);case 36:if(M.prev=36,M.t1=M.catch(28),M.t1.message!=="INVALID"){M.next=42;break}throw new DOMException((0,le.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,le.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return M.abrupt("return",W);case 44:case"end":return M.stop()}},h,null,[[1,9],[28,36]])}));return function(h){return H.apply(this,arguments)}}(),J=function(H){var h;return H&&((h=H.name.match(/\.(json|excalidraw|png|svg)$/))===null||h===void 0?void 0:h[1])||null},g=function(H){return H==="png"||H==="svg"},m=function(H){var h=J(H);return h==="png"||h==="svg"},C=function(H){var h=(H||{}).type;return!!h&&z.jo.includes(h)},v=function(){var H=(0,c.Z)(A().mark(function h(_,W,M,re){var O,S;return A().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,I(_);case 2:if(O=b.sent,b.prev=3,S=JSON.parse(O),!(0,Ee.dS)(S)){b.next=9;break}return b.abrupt("return",{type:z.LO.excalidraw,data:(0,ie.nu)({elements:(0,B._M)(S.elements||[]),appState:ye(ye({theme:W==null?void 0:W.theme,fileHandle:re||_.handle||null},(0,o.s)(S.appState||{})),W?(0,k.W)(S.elements||[],W,null):{}),files:S.files},W,M)});case 9:if(!(0,Ee.HT)(S)){b.next=11;break}return b.abrupt("return",{type:z.LO.excalidrawlib,data:S});case 11:throw new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 14:throw b.prev=14,b.t0=b.catch(3),console.error(b.t0.message),new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return b.stop()}},h,null,[[3,14]])}));return function(h,_,W,M){return H.apply(this,arguments)}}(),u=function(){var H=(0,c.Z)(A().mark(function h(_,W,M,re){var O;return A().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,v(_,W,M,re);case 2:if((O=S.sent).type===z.LO.excalidraw){S.next=5;break}throw new Error((0,le.t)("alerts.couldNotLoadInvalidFile"));case 5:return S.abrupt("return",O.data);case 6:case"end":return S.stop()}},h)}));return function(h,_,W,M){return H.apply(this,arguments)}}(),s=function(H){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",_=JSON.parse(H);if(!(0,Ee.HT)(_))throw new Error("Invalid library");var W=_.libraryItems||_.library;return(0,ie.wJ)(W,h)},n=function(){var H=(0,c.Z)(A().mark(function h(_){var W,M=arguments;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return W=M.length>1&&M[1]!==void 0?M[1]:"unpublished",re.t0=s,re.next=4,I(_);case 4:return re.t1=re.sent,re.t2=W,re.abrupt("return",(0,re.t0)(re.t1,re.t2));case 7:case"end":return re.stop()}},h)}));return function(h){return H.apply(this,arguments)}}(),e=function(){var H=(0,c.Z)(A().mark(function h(_){return A().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",new Promise(function(M,re){try{_.toBlob(function(O){if(!O)return re(new G.l((0,le.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));M(O)})}catch(O){re(O)}}));case 1:case"end":return W.stop()}},h)}));return function(h){return H.apply(this,arguments)}}(),i=function(){var H=(0,c.Z)(A().mark(function h(_){var W;return A().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.t0=window.crypto.subtle,M.next=4,q(_);case 4:return M.t1=M.sent,M.next=7,M.t0.digest.call(M.t0,"SHA-1",M.t1);case 7:return W=M.sent,M.abrupt("return",(0,se.G3)(new Uint8Array(W)));case 11:return M.prev=11,M.t2=M.catch(0),console.error(M.t2),M.abrupt("return",(0,F.x0)(40));case 15:case"end":return M.stop()}},h,null,[[0,11]])}));return function(h){return H.apply(this,arguments)}}(),a=function(){var H=(0,c.Z)(A().mark(function h(_){return A().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",new Promise(function(M,re){var O=new FileReader;O.onload=function(){var S=O.result;M(S)},O.onerror=function(S){return re(S)},O.readAsDataURL(_)}));case 1:case"end":return W.stop()}},h)}));return function(h){return H.apply(this,arguments)}}(),l=function(H){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",_=H.indexOf(","),W=atob(H.slice(_+1)),M=H.slice(0,_).split(":")[1].split(";")[0],re=new ArrayBuffer(W.length),O=new Uint8Array(re),S=0;S<W.length;S++)O[S]=W.charCodeAt(S);return new File([re],h,{type:M})},p=function(){var H=(0,c.Z)(A().mark(function h(_,W){var M,re,O,S,b,d;return A().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(_.type!==z.LO.svg){x.next=2;break}return x.abrupt("return",_);case 2:return x.next=4,Promise.all([t.e(4736).then(t.t.bind(t,4881,23)).then(function(P){return P.default}),t.e(4736).then(t.bind(t,100)).then(function(P){return P.default})]);case 4:if(M=x.sent,re=(0,y.Z)(M,2),O=re[0],S=re[1],b=S({pica:O({features:["js","wasm"]})}),W.outputType&&(d=W.outputType,b._create_blob=function(P){return this.pica.toBlob(P.out_canvas,d,.8).then(function(U){return P.out_blob=U,P})}),C(_)){x.next=12;break}throw new Error((0,le.t)("errors.unsupportedFileType"));case 12:return x.t0=File,x.next=15,b.toBlob(_,{max:W.maxWidthOrHeight});case 15:return x.t1=x.sent,x.t2=[x.t1],x.t3=_.name,x.t4={type:W.outputType||_.type},x.abrupt("return",new x.t0(x.t2,x.t3,x.t4));case 20:case"end":return x.stop()}},h)}));return function(h,_){return H.apply(this,arguments)}}(),T=function(H){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(H)],h,{type:z.LO.svg})},X=function(){var H=(0,c.Z)(A().mark(function h(_){var W,M;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return W=_.dataTransfer.files.item(0),re.next=3,te(_);case 3:if(M=re.sent,!W){re.next=10;break}return re.next=7,fe(W);case 7:re.t0=re.sent,re.next=11;break;case 10:re.t0=null;case 11:return re.t1=re.t0,re.t2=M,re.abrupt("return",{file:re.t1,fileHandle:re.t2});case 14:case"end":return re.stop()}},h)}));return function(h){return H.apply(this,arguments)}}(),te=function(){var H=(0,c.Z)(A().mark(function h(_){var W,M;return A().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!pe.kr){re.next=16;break}return re.prev=1,W=_.dataTransfer.items[0],re.next=5,W.getAsFileSystemHandle();case 5:if(re.t0=re.sent,re.t0){re.next=8;break}re.t0=null;case 8:return M=re.t0,re.abrupt("return",M);case 12:return re.prev=12,re.t1=re.catch(1),console.warn(re.t1.name,re.t1.message),re.abrupt("return",null);case 16:return re.abrupt("return",null);case 17:case"end":return re.stop()}},h,null,[[1,12]])}));return function(h){return H.apply(this,arguments)}}(),R=function(H){var h=null,_="".concat((0,w.Z)(new Uint8Array(H).slice(0,8)).join(" ")," "),W="255 216 255 ",M="71 73 70 56 57 97 ";return _==="137 80 78 71 13 10 26 10 "?h=z.LO.png:_.startsWith(W)?h=z.LO.jpg:_.startsWith(M)&&(h=z.LO.gif),h},D=function(H,h,_){return new File([H],_||"",{type:h})},fe=function(){var H=(0,c.Z)(A().mark(function h(_){var W,M,re,O,S,b,d,x;return A().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(_.type){P.next=28;break}if((W=_)===null||W===void 0||(M=W.name)===null||M===void 0||!M.endsWith(".excalidrawlib")){P.next=11;break}return P.t0=D,P.next=5,q(_);case 5:P.t1=P.sent,P.t2=z.LO.excalidrawlib,P.t3=_.name,_=(0,P.t0)(P.t1,P.t2,P.t3),P.next=26;break;case 11:if((re=_)===null||re===void 0||(O=re.name)===null||O===void 0||!O.endsWith(".excalidraw")){P.next=21;break}return P.t4=D,P.next=15,q(_);case 15:P.t5=P.sent,P.t6=z.LO.excalidraw,P.t7=_.name,_=(0,P.t4)(P.t5,P.t6,P.t7),P.next=26;break;case 21:return P.next=23,q(_);case 23:S=P.sent,(b=R(S))&&(_=D(S,b,_.name));case 26:P.next=34;break;case 28:if(!C(_)){P.next=34;break}return P.next=31,q(_);case 31:d=P.sent,(x=R(d))&&x!==_.type&&(_=D(d,x,_.name));case 34:return P.abrupt("return",_);case 35:case"end":return P.stop()}},h)}));return function(h){return H.apply(this,arguments)}}(),q=function(H){return"arrayBuffer"in H?H.arrayBuffer():new Promise(function(h,_){var W=new FileReader;W.onload=function(M){var re;if((re=M.target)===null||re===void 0||!re.result)return _(new Error("Couldn't convert blob to ArrayBuffer"));h(M.target.result)},W.readAsArrayBuffer(H)})}},1393:function(ge,Q,t){t.d(Q,{I$:function(){return le},NL:function(){return k},kr:function(){return c}});var w=t(1930),y=t(8950),f=t(2975),c=function(){if(typeof self>"u")return!1;if(!("top"in self&&self!==top)){if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1}(),j=c?t.e(4736).then(t.bind(t,2254)):t.e(4736).then(t.bind(t,3499));function A(){return A=(0,y.Z)(f.mark(function se(){var pe,Ee=arguments;return f.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,j;case 2:return ie.abrupt("return",(pe=ie.sent).default.apply(pe,Ee));case 3:case"end":return ie.stop()}},se)})),A.apply(this,arguments)}c?t.e(4736).then(t.bind(t,6474)):t.e(4736).then(t.bind(t,9521));var F=c?t.e(4736).then(t.bind(t,9475)):t.e(4736).then(t.bind(t,6281));function o(){return o=(0,y.Z)(f.mark(function se(){var pe,Ee=arguments;return f.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,F;case 2:return ie.abrupt("return",(pe=ie.sent).default.apply(pe,Ee));case 3:case"end":return ie.stop()}},se)})),o.apply(this,arguments)}var z=t(2335),B=t(6797),G=t(6340),le=function(se){var pe,Ee,ie,de=(pe=se.extensions)===null||pe===void 0?void 0:pe.reduce(function(I,J){return I.push(z.LO[J]),I},[]),ye=(Ee=se.extensions)===null||Ee===void 0?void 0:Ee.reduce(function(I,J){return J==="jpg"?I.concat(".jpg",".jpeg"):I.concat(".".concat(J))},[]);return function(){return A.apply(this,arguments)}({description:se.description,extensions:ye,mimeTypes:de,multiple:(ie=se.multiple)!==null&&ie!==void 0&&ie,legacySetup:function(I,J,g){var m=(0,G.Ds)(J,500),C=function(){v(),document.addEventListener(z.Ks.KEYUP,m),document.addEventListener(z.Ks.POINTER_UP,m),m()},v=function(){var s;if((s=g.files)!==null&&s!==void 0&&s.length){var n=se.multiple?(0,w.Z)(g.files):g.files[0];I(n)}};requestAnimationFrame(function(){window.addEventListener(z.Ks.FOCUS,C)});var u=window.setInterval(function(){v()},500);return function(s){clearInterval(u),m.cancel(),window.removeEventListener(z.Ks.FOCUS,C),document.removeEventListener(z.Ks.KEYUP,m),document.removeEventListener(z.Ks.POINTER_UP,m),s&&(console.warn("Opening the file was canceled (legacy-fs)."),s(new B._))}}})},k=function(se,pe){return function(){return o.apply(this,arguments)}(se,{fileName:"".concat(pe.name,".").concat(pe.extension),description:pe.description,extensions:[".".concat(pe.extension)]},pe.fileHandle)}},673:function(ge,Q,t){t.r(Q),t.d(Q,{decodePngMetadata:function(){return J},decodeSvgMetadata:function(){return m},encodePngMetadata:function(){return I},encodeSvgMetadata:function(){return g},getTEXtChunk:function(){return ye}});var w=t(8950),y=t(2975),f=t.n(y),c=t(2983),j=t.n(c),A=t(1194),F=t(3434),o=t.n(F),z=t(2744),B=t(2335),G=t(434),le=function(C){return new Promise(function(v,u){var s=typeof C=="string"?new Blob([new TextEncoder().encode(C)]):new Blob([C instanceof Uint8Array?C:new Uint8Array(C)]),n=new FileReader;n.onload=function(e){if(!e.target||typeof e.target.result!="string")return u(new Error("couldn't convert to byte string"));v(e.target.result)},n.readAsBinaryString(s)})},k=function(C){for(var v=new ArrayBuffer(C.length),u=new Uint8Array(v),s=0,n=C.length;s<n;s++)u[s]=C.charCodeAt(s);return v},se=function(C){return new TextDecoder("utf-8").decode(k(C))},pe=function(){var C=(0,w.Z)(f().mark(function v(u){var s=arguments;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(s.length>1&&s[1]!==void 0&&s[1])){n.next=5;break}n.t0=window.btoa(u),n.next=10;break;case 5:return n.t1=window,n.next=8,le(u);case 8:n.t2=n.sent,n.t0=n.t1.btoa.call(n.t1,n.t2);case 10:return n.abrupt("return",n.t0);case 11:case"end":return n.stop()}},v)}));return function(v){return C.apply(this,arguments)}}(),Ee=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n=arguments;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.length>1&&n[1]!==void 0&&n[1],e.abrupt("return",s?window.atob(u):se(window.atob(u)));case 2:case"end":return e.stop()}},v)}));return function(v){return C.apply(this,arguments)}}(),ie=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=u.text,u.compress===!1){e.next=11;break}return e.prev=2,e.next=5,le((0,z.deflate)(s));case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("encode: cannot deflate",e.t0);case 11:if(e.t1=!!n,e.t2=n,e.t2){e.next=17;break}return e.next=16,le(s);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 19:case"end":return e.stop()}},v,null,[[2,8]])}));return function(v){return C.apply(this,arguments)}}(),de=function(){var C=(0,w.Z)(f().mark(function v(u){var s;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=u.encoding,n.next=n.t0==="bstring"?3:12;break;case 3:if(!u.compressed){n.next=7;break}n.t1=u.encoded,n.next=10;break;case 7:return n.next=9,se(u.encoded);case 9:n.t1=n.sent;case 10:return s=n.t1,n.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(u.encoding,'"'));case 13:if(!u.compressed){n.next=15;break}return n.abrupt("return",(0,z.inflate)(new Uint8Array(k(s)),{to:"string"}));case 15:return n.abrupt("return",s);case 16:case"end":return n.stop()}},v)}));return function(v){return C.apply(this,arguments)}}(),ye=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j(),e.t1=Uint8Array,e.next=4,(0,G.vZ)(u);case 4:if(e.t2=e.sent,e.t3=new e.t1(e.t2),s=(0,e.t0)(e.t3),!(n=s.find(function(i){return i.name==="tEXt"}))){e.next=10;break}return e.abrupt("return",A.decode(n.data));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}},v)}));return function(v){return C.apply(this,arguments)}}(),I=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n,e,i;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=u.blob,n=u.metadata,a.t0=j(),a.t1=Uint8Array,a.next=5,(0,G.vZ)(s);case 5:return a.t2=a.sent,a.t3=new a.t1(a.t2),e=(0,a.t0)(a.t3),a.t4=A,a.t5=B.LO.excalidraw,a.t6=JSON,a.next=13,ie({text:n,compress:!0});case 13:return a.t7=a.sent,a.t8=a.t6.stringify.call(a.t6,a.t7),i=a.t4.encode.call(a.t4,a.t5,a.t8),e.splice(-1,0,i),a.abrupt("return",new Blob([o()(e)],{type:B.LO.png}));case 18:case"end":return a.stop()}},v)}));return function(v){return C.apply(this,arguments)}}(),J=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(u);case 2:if(((s=e.sent)==null?void 0:s.keyword)!==B.LO.excalidraw){e.next=19;break}if(e.prev=4,"encoded"in(n=JSON.parse(s.text))){e.next=10;break}if(!("type"in n)||n.type!==B.r8.excalidraw){e.next=9;break}return e.abrupt("return",s.text);case 9:throw new Error("FAILED");case 10:return e.next=12,de(n);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return e.stop()}},v,null,[[4,15]])}));return function(v){return C.apply(this,arguments)}}(),g=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n,e;return f().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=u.text,i.t0=pe,i.t1=JSON,i.next=5,ie({text:s});case 5:return i.t2=i.sent,i.t3=i.t1.stringify.call(i.t1,i.t2),i.next=9,(0,i.t0)(i.t3,!0);case 9:return n=i.sent,e="",e+="<!-- payload-type:".concat(B.LO.excalidraw," -->"),e+="<!-- payload-version:2 -->",e+="<!-- payload-start -->",e+=n,e+="<!-- payload-end -->",i.abrupt("return",e);case 17:case"end":return i.stop()}},v)}));return function(v){return C.apply(this,arguments)}}(),m=function(){var C=(0,w.Z)(f().mark(function v(u){var s,n,e,i,a,l,p;return f().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(s=u.svg).includes("payload-type:".concat(B.LO.excalidraw))){T.next=26;break}if(n=s.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){T.next=5;break}throw new Error("INVALID");case 5:return e=s.match(/<!-- payload-version:(\d+) -->/),i=(e==null?void 0:e[1])||"1",a=i!=="1",T.prev=8,T.next=11,Ee(n[1],a);case 11:if(l=T.sent,"encoded"in(p=JSON.parse(l))){T.next=17;break}if(!("type"in p)||p.type!==B.r8.excalidraw){T.next=16;break}return T.abrupt("return",l);case 16:throw new Error("FAILED");case 17:return T.next=19,de(p);case 19:return T.abrupt("return",T.sent);case 22:throw T.prev=22,T.t0=T.catch(8),console.error(T.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return T.stop()}},v,null,[[8,22]])}));return function(v){return C.apply(this,arguments)}}()},9485:function(ge,Q,t){t.d(Q,{Um:function(){return B.Um},cT:function(){return o.cT},n8:function(){return B.n8},p1:function(){return G}});var w=t(8950),y=t(2975),f=t.n(y),c=t(6665),j=t(2335),A=t(8211),F=t(4162),o=t(434),z=t(1393),B=t(5523),G=function(){var le=(0,w.Z)(f().mark(function k(se,pe,Ee,ie,de){var ye,I,J,g,m,C,v,u,s,n,e;return f().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(ye=de.exportBackground,I=de.exportPadding,J=I===void 0?j.qy:I,g=de.viewBackgroundColor,m=de.name,C=de.fileHandle,v=C===void 0?null:C,pe.length!==0){i.next=3;break}throw new Error((0,A.t)("alerts.cannotExportEmptyCanvas"));case 3:if(se!=="svg"&&se!=="clipboard-svg"){i.next=17;break}return i.next=6,(0,F.$D)(pe,{exportBackground:ye,exportWithDarkMode:Ee.exportWithDarkMode,viewBackgroundColor:g,exportPadding:J,exportScale:Ee.exportScale,exportEmbedScene:Ee.exportEmbedScene&&se==="svg"},ie);case 6:if(u=i.sent,se!=="svg"){i.next=13;break}return i.next=10,(0,z.NL)(new Blob([u.outerHTML],{type:j.LO.svg}),{description:"Export to SVG",name:m,extension:Ee.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:v});case 10:return i.abrupt("return",i.sent);case 13:if(se!=="clipboard-svg"){i.next=17;break}return i.next=16,(0,c.dd)(u.outerHTML);case 16:return i.abrupt("return");case 17:return i.next=19,(0,F.NL)(pe,Ee,ie,{exportBackground:ye,viewBackgroundColor:g,exportPadding:J});case 19:if((s=i.sent).style.display="none",document.body.appendChild(s),se!=="png"){i.next=38;break}return i.next=25,(0,o._c)(s);case 25:if(n=i.sent,s.remove(),!Ee.exportEmbedScene){i.next=33;break}return i.next=30,Promise.resolve().then(t.bind(t,673));case 30:return i.next=32,i.sent.encodePngMetadata({blob:n,metadata:(0,B.I_)(pe,Ee,ie,"local")});case 32:n=i.sent;case 33:return i.next=35,(0,z.NL)(n,{description:"Export to PNG",name:m,extension:Ee.exportEmbedScene?"excalidraw.png":"png",fileHandle:v});case 35:return i.abrupt("return",i.sent);case 38:if(se!=="clipboard"){i.next=60;break}return i.prev=39,e=(0,o._c)(s),i.next=43,(0,c.uR)(e);case 43:i.next=55;break;case 45:if(i.prev=45,i.t0=i.catch(39),console.warn(i.t0),i.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){i.next=50;break}throw i.t0;case 50:if(!j.vU||i.t0.name!=="TypeError"){i.next=54;break}throw new Error("".concat((0,A.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,A.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,A.t)("alerts.couldNotCopyToClipboard"));case 55:return i.prev=55,s.remove(),i.finish(55);case 58:i.next=62;break;case 60:throw s.remove(),new Error("Unsupported export type");case 62:case"end":return i.stop()}},k,null,[[39,45,55,58]])}));return function(k,se,pe,Ee,ie){return le.apply(this,arguments)}}()},5523:function(ge,Q,t){t.d(Q,{HT:function(){return ie},I_:function(){return k},NI:function(){return de},Um:function(){return se},dS:function(){return Ee},n8:function(){return pe},t1:function(){return ye}});var w=t(6655),y=t(8950),f=t(2975),c=t.n(f),j=t(1393),A=t(8897),F=t(2335),o=t(1047),z=t(434);function B(I,J){var g=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!g){if(Array.isArray(I)||(g=function(n,e){if(n){if(typeof n=="string")return G(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return G(n,e)}}(I))||J){g&&(I=g);var m=0,C=function(){};return{s:C,n:function(){return m>=I.length?{done:!0}:{done:!1,value:I[m++]}},e:function(n){throw n},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,u=!0,s=!1;return{s:function(){g=g.call(I)},n:function(){var n=g.next();return u=n.done,n},e:function(n){s=!0,v=n},f:function(){try{u||g.return==null||g.return()}finally{if(s)throw v}}}}function G(I,J){(J==null||J>I.length)&&(J=I.length);for(var g=0,m=new Array(J);g<J;g++)m[g]=I[g];return m}var le=function(I,J){var g,m={},C=B(I);try{for(C.s();!(g=C.n()).done;){var v=g.value;!v.isDeleted&&"fileId"in v&&v.fileId&&J[v.fileId]&&(m[v.fileId]=J[v.fileId])}}catch(u){C.e(u)}finally{C.f()}return m},k=function(I,J,g,m){var C={type:F.r8.excalidraw,version:F.Kr.excalidraw,source:F.pb,elements:m==="local"?(0,o._M)(I):(0,o.BQ)(I),appState:m==="local"?(0,A.s)(J):(0,A.eS)(J),files:m==="local"?le(I,g):void 0};return JSON.stringify(C,null,2)},se=function(){var I=(0,y.Z)(c().mark(function J(g,m,C){var v,u,s;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return v=k(g,m,C,"local"),u=new Blob([v],{type:F.LO.excalidraw}),n.next=4,(0,j.NL)(u,{name:m.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,z.g8)(m.fileHandle)?null:m.fileHandle});case 4:return s=n.sent,n.abrupt("return",{fileHandle:s});case 6:case"end":return n.stop()}},J)}));return function(J,g,m){return I.apply(this,arguments)}}(),pe=function(){var I=(0,y.Z)(c().mark(function J(g,m){var C;return c().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,j.I$)({description:"Excalidraw files"});case 2:return C=v.sent,v.t0=z.cT,v.next=6,(0,z.gY)(C);case 6:return v.t1=v.sent,v.t2=g,v.t3=m,v.t4=C.handle,v.abrupt("return",(0,v.t0)(v.t1,v.t2,v.t3,v.t4));case 11:case"end":return v.stop()}},J)}));return function(J,g){return I.apply(this,arguments)}}(),Ee=function(I){return(I==null?void 0:I.type)===F.r8.excalidraw&&(!I.elements||Array.isArray(I.elements)&&(!I.appState||(0,w.Z)(I.appState)==="object"))},ie=function(I){return(0,w.Z)(I)==="object"&&I&&I.type===F.r8.excalidrawLibrary&&(I.version===1||I.version===2)},de=function(I){var J={type:F.r8.excalidrawLibrary,version:F.Kr.excalidrawLibrary,source:F.pb,libraryItems:I};return JSON.stringify(J,null,2)},ye=function(){var I=(0,y.Z)(c().mark(function J(g){var m;return c().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return m=de(g),C.next=3,(0,j.NL)(new Blob([m],{type:F.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return C.stop()}},J)}));return function(J){return I.apply(this,arguments)}}()},7053:function(ge,Q,t){t.d(Q,{Di:function(){return s},WV:function(){return u},rF:function(){return J},xS:function(){return n},zh:function(){return C}});var w=t(7169),y=t(8950),f=t(5169),c=t(8821),j=t(1930),A=t(2975),F=t.n(A),o=t(434),z=t(679),B=t(4739),G=t(9487),le=t(8925),k=t(6797),se=t(8211),pe=t(9787),Ee=t(2335);function ie(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);i&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,l)}return a}function de(e){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?ie(Object(a),!0).forEach(function(l){(0,w.Z)(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}function ye(e,i){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(R,D){if(R){if(typeof R=="string")return I(R,D);var fe=Object.prototype.toString.call(R).slice(8,-1);if(fe==="Object"&&R.constructor&&(fe=R.constructor.name),fe==="Map"||fe==="Set")return Array.from(R);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return I(R,D)}}(e))||i){a&&(e=a);var l=0,p=function(){};return{s:p,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(R){throw R},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,X=!0,te=!1;return{s:function(){a=a.call(e)},n:function(){var R=a.next();return X=R.done,R},e:function(R){te=!0,T=R},f:function(){try{X||a.return==null||a.return()}finally{if(te)throw T}}}}function I(e,i){(i==null||i>e.length)&&(i=e.length);for(var a=0,l=new Array(i);a<i;a++)l[a]=e[a];return l}var J=(0,B.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),g=function(e){return JSON.parse(JSON.stringify(e))},m=function(e,i){return!e.find(function(a){return a.elements.length===i.elements.length&&a.elements.every(function(l,p){return l.id===i.elements[p].id&&l.versionNonce===i.elements[p].versionNonce})})},C=function(e,i){var a,l=[],p=ye(i);try{for(p.s();!(a=p.n()).done;){var T=a.value;m(e,T)&&l.push(T)}}catch(X){p.e(X)}finally{p.f()}return[].concat(l,(0,j.Z)(e))},v=(0,f.Z)(function e(i){var a=this;(0,c.Z)(this,e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return a.updateQueue[a.updateQueue.length-1]},this.notifyListeners=function(){if(a.updateQueue.length>0)G.e_.set(J,{status:"loading",libraryItems:a.lastLibraryItems,isInitialized:a.isInitialized});else{a.isInitialized=!0,G.e_.set(J,{status:"loaded",libraryItems:a.lastLibraryItems,isInitialized:a.isInitialized});try{var l,p;(l=(p=a.app.props).onLibraryChange)===null||l===void 0||l.call(p,g(a.lastLibraryItems))}catch(T){console.error(T)}}},this.resetLibrary=function(){return a.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var l=(0,y.Z)(F().mark(function p(T){var X;return F().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.prev=0,te.next=3,a.getLastUpdateTask()||a.lastLibraryItems;case 3:X=te.sent,a.updateQueue.length>0?T(a.getLatestLibrary()):T(g(X)),te.next=10;break;case 7:return te.prev=7,te.t0=te.catch(0),te.abrupt("return",T(a.lastLibraryItems));case 10:case"end":return te.stop()}},p,null,[[0,7]])}));return function(p){return l.apply(this,arguments)}}())},this.updateLibrary=function(){var l=(0,y.Z)(F().mark(function p(T){var X,te,R,D,fe,q,H,h,_;return F().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return X=T.libraryItems,te=T.prompt,R=te!==void 0&&te,D=T.merge,fe=D!==void 0&&D,q=T.openLibraryMenu,H=q!==void 0&&q,h=T.defaultStatus,_=h===void 0?"unpublished":h,H&&a.app.setState({openSidebar:"library"}),W.abrupt("return",a.setLibrary(function(){return new Promise(function(){var M=(0,y.Z)(F().mark(function re(O,S){var b,d;return F().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,typeof X!="function"||X instanceof Blob?X:X(a.lastLibraryItems);case 3:if(!((b=x.sent)instanceof Blob)){x.next=10;break}return x.next=7,(0,o.lV)(b,_);case 7:d=x.sent,x.next=11;break;case 10:d=(0,z.wJ)(b,_);case 11:!R||window.confirm((0,se.t)("alerts.confirmAddLibrary",{numShapes:d.length}))?O(fe?C(a.lastLibraryItems,d):d):S(new k._),x.next=17;break;case 14:x.prev=14,x.t0=x.catch(0),S(x.t0);case 17:case"end":return x.stop()}},re,null,[[0,14]])}));return function(re,O){return M.apply(this,arguments)}}())}).finally(function(){a.app.focusContainer()}));case 3:case"end":return W.stop()}},p)}));return function(p){return l.apply(this,arguments)}}(),this.setLibrary=function(l){var p=new Promise(function(){var T=(0,y.Z)(F().mark(function X(te,R){return F().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,a.getLastUpdateTask();case 3:return typeof l=="function"&&(l=l(a.lastLibraryItems)),D.t0=g,D.next=7,l;case 7:D.t1=D.sent,a.lastLibraryItems=(0,D.t0)(D.t1),te(a.lastLibraryItems),D.next=15;break;case 12:D.prev=12,D.t2=D.catch(0),R(D.t2);case 15:case"end":return D.stop()}},X,null,[[0,12]])}));return function(X,te){return T.apply(this,arguments)}}()).catch(function(T){if(T.name==="AbortError")return console.warn("Library update aborted by user"),a.lastLibraryItems;throw T}).finally(function(){a.updateQueue=a.updateQueue.filter(function(T){return T!==p}),a.notifyListeners()});return a.updateQueue.push(p),a.notifyListeners(),p},this.app=i});Q.ZP=v;var u=function(e){var i,a=Math.ceil(Math.sqrt(e.length)),l=[],p=0,T=0,X=0,te=0,R=0,D=0,fe=0,q=ye(e);try{var H=function(){var h=i.value;R&&R%a==0&&(T+=X+50,p=0,D=0,fe++),D===0&&(X=function(d){return e.slice(d*a,d*a+a).reduce(function(x,P){var U=(0,le.v2)(P.elements).height;return Math.max(x,U)},0)}(fe)),te=function(d){var x,P=0,U=0,L=0,ce=ye(e);try{for(ce.s();!(x=ce.n()).done;){var ae=x.value;if(P%a==0&&(U=0),U===d){var ue=(0,le.v2)(ae.elements).width;L=Math.max(L,ue)}P++,U++}}catch(Ce){ce.e(Ce)}finally{ce.f()}return L}(D);var _=(0,le.v2)(h.elements),W=_.minX,M=_.minY,re=_.width,O=_.height,S=(te-re)/2,b=(X-O)/2;l.push.apply(l,(0,j.Z)(h.elements.map(function(d){return de(de({},d),{},{x:d.x+p+S-W,y:d.y+T+b-M})}))),p+=te+50,R++,D++};for(q.s();!(i=q.n()).done;)H()}catch(h){q.e(h)}finally{q.f()}return l},s=function(){var e=new URLSearchParams(window.location.hash.slice(1)).get(Ee.ah.addLibrary)||new URLSearchParams(window.location.search).get(Ee.UO.addLibrary),i=e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return e?{libraryUrl:e,idToken:i}:null},n=function(e){var i=e.excalidrawAPI,a=e.getInitialLibraryItems,l=(0,pe.useRef)(a);(0,pe.useEffect)(function(){if(i){var p=function(){var te=(0,y.Z)(F().mark(function R(D){var fe,q,H,h,_,W;return F().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return fe=D.libraryUrl,q=D.idToken,H=new Promise(function(){var re=(0,y.Z)(F().mark(function O(S,b){var d,x;return F().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,fetch(decodeURIComponent(fe));case 3:return d=P.sent,P.next=6,d.blob();case 6:x=P.sent,S(x),P.next=13;break;case 10:P.prev=10,P.t0=P.catch(0),b(P.t0);case 13:case"end":return P.stop()}},O,null,[[0,10]])}));return function(O,S){return re.apply(this,arguments)}}()),h=q!==i.id,M.next=5,h&&document.hidden?new Promise(function(re){window.addEventListener("focus",function(){return re()},{once:!0})}):null;case 5:return M.prev=5,M.next=8,i.updateLibrary({libraryItems:H,prompt:h,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:M.next=13;break;case 10:throw M.prev=10,M.t0=M.catch(5),M.t0;case 13:return M.prev=13,window.location.hash.includes(Ee.ah.addLibrary)?((_=new URLSearchParams(window.location.hash.slice(1))).delete(Ee.ah.addLibrary),window.history.replaceState({},Ee.iC,"#".concat(_.toString()))):window.location.search.includes(Ee.UO.addLibrary)&&((W=new URLSearchParams(window.location.search)).delete(Ee.UO.addLibrary),window.history.replaceState({},Ee.iC,"?".concat(W.toString()))),M.finish(13);case 16:case"end":return M.stop()}},R,null,[[5,10,13,16]])}));return function(R){return te.apply(this,arguments)}}(),T=function(te){te.preventDefault();var R=s();R&&(te.stopImmediatePropagation(),window.history.replaceState({},"",te.oldURL),p(R))};l.current&&i.updateLibrary({libraryItems:l.current()});var X=s();return X&&p(X),window.addEventListener(Ee.Ks.HASHCHANGE,T),function(){window.removeEventListener(Ee.Ks.HASHCHANGE,T)}}},[i])}},679:function(ge,Q,t){t.d(Q,{ET:function(){return g},lY:function(){return v},nu:function(){return u},wJ:function(){return n}});var w=t(2577),y=t(7169),f=t(1047),c=t(1974),j=t(6954),A=t(2335),F=t(8897),o=t(6938),z=t(1935),B=t(6340),G=t(5284);function le(e,i){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(R,D){if(R){if(typeof R=="string")return k(R,D);var fe=Object.prototype.toString.call(R).slice(8,-1);if(fe==="Object"&&R.constructor&&(fe=R.constructor.name),fe==="Map"||fe==="Set")return Array.from(R);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return k(R,D)}}(e))||i){a&&(e=a);var l=0,p=function(){};return{s:p,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(R){throw R},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,X=!0,te=!1;return{s:function(){a=a.call(e)},n:function(){var R=a.next();return X=R.done,R},e:function(R){te=!0,T=R},f:function(){try{X||a.return==null||a.return()}finally{if(te)throw T}}}}function k(e,i){(i==null||i>e.length)&&(i=e.length);for(var a=0,l=new Array(i);a<i;a++)l[a]=e[a];return l}function se(e,i){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);i&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(e,p).enumerable})),a.push.apply(a,l)}return a}function pe(e){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?se(Object(a),!0).forEach(function(l){(0,y.Z)(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var Ee={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},ie=function(e){return Object.keys(A.ut).includes(e)?A.ut[e]:A.rk},de=function(e,i){var a,l,p,T,X,te,R,D,fe,q,H,h,_,W,M={type:i.type||e.type,version:e.version||1,versionNonce:(a=e.versionNonce)!==null&&a!==void 0?a:0,isDeleted:(l=e.isDeleted)!==null&&l!==void 0&&l,id:e.id||(0,j.kb)(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:(p=e.strokeStyle)!==null&&p!==void 0?p:"solid",roughness:(T=e.roughness)!==null&&T!==void 0?T:1,opacity:e.opacity==null?100:e.opacity,angle:e.angle||0,x:(X=(te=i.x)!==null&&te!==void 0?te:e.x)!==null&&X!==void 0?X:0,y:(R=(D=i.y)!==null&&D!==void 0?D:e.y)!==null&&R!==void 0?R:0,strokeColor:e.strokeColor||G.black,backgroundColor:e.backgroundColor||"transparent",width:e.width||0,height:e.height||0,seed:(fe=e.seed)!==null&&fe!==void 0?fe:1,groupIds:(q=e.groupIds)!==null&&q!==void 0?q:[],roundness:e.roundness?e.roundness:e.strokeSharpness==="round"?{type:(0,c.QI)(e.type)?A.a6.LEGACY:A.a6.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map(function(re){return{type:"arrow",id:re}}):(H=e.boundElements)!==null&&H!==void 0?H:[],updated:(h=e.updated)!==null&&h!==void 0?h:(0,B.C3)(),link:(_=e.link)!==null&&_!==void 0?_:null,locked:(W=e.locked)!==null&&W!==void 0&&W};return"customData"in e&&(M.customData=e.customData),A.WR in e&&(M[A.WR]=e[A.WR]),pe(pe(pe({},M),(0,f.Qp)(M)),i)},ye=function(e){var i,a,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(e.type){case"text":var p=e.fontSize,T=e.fontFamily;if("font"in e){var X=e.font.split(" "),te=(0,w.Z)(X,2),R=te[0],D=te[1];p=parseInt(R,10),T=ie(D)}return e=de(e,{fontSize:p,fontFamily:T,text:(i=e.text)!==null&&i!==void 0?i:"",baseline:e.baseline,textAlign:e.textAlign||A.Hg,verticalAlign:e.verticalAlign||A.hs,containerId:(a=e.containerId)!==null&&a!==void 0?a:null,originalText:e.originalText||e.text}),l&&(e=pe(pe({},e),(0,f.JZ)(e))),e;case"freedraw":return de(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return de(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var fe=e,q=fe.startArrowhead,H=q===void 0?null:q,h=fe.endArrowhead,_=h===void 0?e.type==="arrow"?"arrow":null:h,W=e.x,M=e.y,re=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(re[0][0]!==0||re[0][1]!==0){var O=o._.getNormalizedPoints(e);re=O.points,W=O.x,M=O.y}return de(e,{type:e.type==="draw"?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:H,endArrowhead:_,points:re,x:W,y:M});case"ellipse":case"rectangle":case"diamond":return de(e,{})}},I=function(e,i){if(e.boundElements){var a=e.boundElements.slice(),l=new Set;e.boundElements=a.reduce(function(p,T){var X=i.get(T.id);if(X&&!l.has(T.id)){if(l.add(T.id),X.isDeleted)return p;p.push(T),(0,c.iB)(X)&&!X.containerId&&(X.containerId=e.id)}return p},[])}},J=function(e,i){var a=e.containerId?i.get(e.containerId):null;if(a){if(!e.isDeleted&&a.boundElements&&!a.boundElements.find(function(p){return p.id===e.id})){var l=(a.boundElements||(a.boundElements=[])).slice();l.push({type:"text",id:e.id}),a.boundElements=l}}else e.containerId=null},g=function(e,i){var a,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=i?(0,B.xn)(i):null,T=(e||[]).reduce(function(D,fe){if(fe.type!=="selection"&&!(0,f.QD)(fe)){var q=ye(fe,l);if(q){var H=p==null?void 0:p.get(fe.id);H&&H.version>q.version&&(q=(0,z.ZP)(q,H.version)),D.push(q)}}return D},[]),X=(0,B.xn)(T),te=le(T);try{for(te.s();!(a=te.n()).done;){var R=a.value;(0,c.iB)(R)&&R.containerId?J(R,X):R.boundElements&&I(R,X)}}catch(D){te.e(D)}finally{te.f()}return T},m=function(e,i,a){var l=i[e];return l!==void 0?l:a[e]},C={isLibraryOpen:function(e,i){return["openSidebar","isLibraryOpen"in e?e.isLibraryOpen?"library":null:m("openSidebar",e,i)]},isLibraryMenuDocked:function(e,i){var a;return["isSidebarDocked",(a=e.isLibraryMenuDocked)!==null&&a!==void 0?a:m("isSidebarDocked",e,i)]}},v=function(e,i){var a,l,p;e=e||{};for(var T=(0,F.im)(),X={},te=0,R=Object.keys(C);te<R.length;te++){var D=R[te];if(D in e){var fe=C[D](e,T),q=(0,w.Z)(fe,2),H=q[0],h=q[1];X[H]=h}}for(var _=0,W=Object.entries(T);_<W.length;_++){var M=(0,w.Z)(W[_],2),re=M[0],O=M[1],S=e[re],b=i?i[re]:void 0;X[re]=S!==void 0?S:b!==void 0?b:O}return pe(pe({},X),{},{cursorButton:(i==null?void 0:i.cursorButton)||"up",penDetected:(a=i==null?void 0:i.penDetected)!==null&&a!==void 0?a:!!e.penMode&&(l=e.penDetected)!==null&&l!==void 0&&l,activeTool:pe(pe({},(0,B.Om)(T,X.activeTool.type&&Ee[X.activeTool.type]?X.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(p=X.activeTool.locked)!==null&&p!==void 0&&p}),zoom:typeof e.zoom=="number"?{value:e.zoom}:e.zoom||T.zoom,openSidebar:X.openSidebar==="library"?X.isSidebarDocked?"library":null:X.openSidebar})},u=function(e,i,a){return{elements:g(e==null?void 0:e.elements,a),appState:v(e==null?void 0:e.appState,i||null),files:(e==null?void 0:e.files)||{}}},s=function(e){var i=g((0,f.Lm)(e.elements),null);return i.length?pe(pe({},e),{},{elements:i}):null},n=function(){var e,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,l=[],p=le(i);try{for(p.s();!(e=p.n()).done;){var T=e.value;if(Array.isArray(T)){var X=s({status:a,elements:T,id:(0,j.kb)(),created:Date.now()});X&&l.push(X)}else{var te=T,R=s(pe(pe({},te),{},{id:te.id||(0,j.kb)(),status:te.status||a,created:te.created||Date.now()}));R&&l.push(R)}}}catch(D){p.e(D)}finally{p.f()}return l}},4929:function(ge,Q,t){t.d(Q,{rj:function(){return D},nW:function(){return q},nz:function(){return W},sw:function(){return re},lV:function(){return x},q$:function(){return _},wq:function(){return O},$u:function(){return h},Pp:function(){return b}});var w=t(7169),y=t(2577),f=t(6340),c=t(1935),j=t(7901),A=t(1319),F=t(3646),o=t(8211),z=t(9787),B=t(45),G=t(6066),le=t(3063),k=t(6552),se=t(2335),pe=t(1894),Ee=t(75),ie=t(2325),de=t(1047),ye=t(487),I=t.n(ye),J=t(631),g=t.n(J),m=t(2052),C=t.n(m),v=t(4010),u=t.n(v),s=t(1469),n=t.n(s),e=t(9329),i=t.n(e),a=t(5260),l={};l.styleTagTransform=i(),l.setAttributes=u(),l.insert=C().bind(null,"head"),l.domAPI=g(),l.insertStyleElement=n(),I()(a.Z,l),a.Z&&a.Z.locals&&a.Z.locals;var p=t(7047),T=t(4206),X=t(4512);function te(U,L){var ce=Object.keys(U);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(U);L&&(ae=ae.filter(function(ue){return Object.getOwnPropertyDescriptor(U,ue).enumerable})),ce.push.apply(ce,ae)}return ce}function R(U){for(var L=1;L<arguments.length;L++){var ce=arguments[L]!=null?arguments[L]:{};L%2?te(Object(ce),!0).forEach(function(ae){(0,w.Z)(U,ae,ce[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(ce)):te(Object(ce)).forEach(function(ae){Object.defineProperty(U,ae,Object.getOwnPropertyDescriptor(ce,ae))})}return U}var D=document.createElement("img");D.src="data:".concat(se.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var fe=!1,q=function(U){var L=U.element,ce=U.setAppState,ae=U.onLinkOpen,ue=(0,T.gF)(),Ce=L.link||"",Pe=(0,z.useState)(Ce),N=(0,y.Z)(Pe,2),Y=N[0],$=N[1],xe=(0,z.useRef)(null),Oe=ue.showHyperlinkPopup==="editor"||!Ce,Ze=(0,z.useCallback)(function(){if(xe.current){var Le=h(xe.current.value);!L.link&&Le&&(0,p.L)("hyperlink","create"),(0,c.DR)(L,{link:Le}),ce({showHyperlinkPopup:"info"})}},[L,ce]);(0,z.useLayoutEffect)(function(){return function(){Ze()}},[Ze]),(0,z.useEffect)(function(){var Le=null,ne=function(me){Oe||(Le&&clearTimeout(Le),P(L,ue,[me.clientX,me.clientY])&&(Le=window.setTimeout(function(){ce({showHyperlinkPopup:!1})},500)))};return window.addEventListener(se.Ks.POINTER_MOVE,ne,!1),function(){window.removeEventListener(se.Ks.POINTER_MOVE,ne,!1),Le&&clearTimeout(Le)}},[ue,L,Oe,ce]);var Fe=(0,z.useCallback)(function(){(0,p.L)("hyperlink","delete"),(0,c.DR)(L,{link:null}),Oe&&(xe.current.value=""),ce({showHyperlinkPopup:!1})},[ce,L,Oe]),Je=H(L,ue),Ke=Je.x,Be=Je.y;return ue.draggingElement||ue.resizingElement||ue.isRotating||ue.openMenu?null:(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Be,"px"),left:"".concat(Ke,"px"),width:320,padding:5},children:[Oe?(0,X.jsx)("input",{className:(0,B.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:xe,value:Y,onChange:function(Le){return $(Le.target.value)},autoFocus:!0,onKeyDown:function(Le){Le.stopPropagation(),Le[G.tW.CTRL_OR_CMD]&&Le.key===G.tW.K&&Le.preventDefault(),Le.key!==G.tW.ENTER&&Le.key!==G.tW.ESCAPE||Ze()}}):(0,X.jsx)("a",{href:L.link||"",className:(0,B.Z)("excalidraw-hyperlinkContainer-link",{"d-none":Oe}),target:_(L.link)?"_self":"_blank",onClick:function(Le){if(L.link&&ae){var ne=(0,f.ag)(se.Ks.EXCALIDRAW_LINK,Le.nativeEvent);ae(L,ne),ne.defaultPrevented&&Le.preventDefault()}},rel:"noopener noreferrer",children:L.link}),(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Oe&&(0,X.jsx)(A.V,{type:"button",title:(0,o.t)("buttons.edit"),"aria-label":(0,o.t)("buttons.edit"),label:(0,o.t)("buttons.edit"),onClick:function(){(0,p.L)("hyperlink","edit","popup-ui"),ce({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:F.Pm}),Ce&&(0,X.jsx)(A.V,{type:"button",title:(0,o.t)("buttons.remove"),"aria-label":(0,o.t)("buttons.remove"),label:(0,o.t)("buttons.remove"),onClick:Fe,className:"excalidraw-hyperlinkContainer--remove",icon:F.XH})]})]})},H=function(U,L){var ce=(0,de.qf)(U),ae=(0,y.Z)(ce,2),ue=ae[0],Ce=ae[1],Pe=(0,f._i)({sceneX:ue+U.width/2,sceneY:Ce},L),N=Pe.x,Y=Pe.y;return{x:N-L.offsetLeft-160,y:Y-L.offsetTop-85}},h=function(U){return(U=U.trim())&&(U.includes("://")||/^[[\\/]/.test(U)||(U="https://".concat(U))),U},_=function(U){return!!(U!=null&&U.includes(location.origin)||U!=null&&U.startsWith("/"))},W=(0,j.z)({name:"hyperlink",perform:function(U,L){return L.showHyperlinkPopup!=="editor"&&{elements:U,appState:R(R({},L),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(U){return U[G.tW.CTRL_OR_CMD]&&U.key===G.tW.K},contextItemLabel:function(U,L){return M(U,L)},predicate:function(U,L){return(0,Ee.eD)(U,L).length===1},PanelComponent:function(U){var L=U.elements,ce=U.appState,ae=U.updateData,ue=(0,Ee.eD)(L,ce);return(0,X.jsx)(A.V,{type:"button",icon:F.xP,"aria-label":(0,o.t)(M(L,ce)),title:"".concat((0,o.t)("labels.link.label")," - ").concat((0,f.uY)("CtrlOrCmd+K")),onClick:function(){return ae(null)},selected:ue.length===1&&!!ue[0].link})}}),M=function(U,L){return(0,Ee.eD)(U,L)[0].link?"labels.link.edit":"labels.link.create"},re=function(U,L,ce){var ae=(0,y.Z)(U,4),ue=ae[0],Ce=ae[1],Pe=ae[2],N=ae[3],Y=le.Dn,$=Y/ce.zoom.value,xe=Y/ce.zoom.value,Oe=Y/ce.zoom.value,Ze=(ue+Pe)/2,Fe=(Ce+N)/2,Je=(Y-8)/(2*ce.zoom.value),Ke=4/ce.zoom.value,Be=Pe+Ke-Je,Le=Ce-Ke-Oe+Je,ne=(0,k.U1)(Be+$/2,Le+xe/2,Ze,Fe,L),me=(0,y.Z)(ne,2);return[me[0]-$/2,me[1]-xe/2,$,xe]},O=function(U,L,ce,ae){var ue=(0,y.Z)(ce,2),Ce=ue[0],Pe=ue[1];if(!U.link||L.selectedElementIds[U.id])return!1;var N=4/L.zoom.value;if(!ae&&L.viewModeEnabled&&(0,ie.pX)(U,[Ce,Pe],N))return!0;var Y=(0,de.qf)(U),$=(0,y.Z)(Y,4),xe=$[0],Oe=$[1],Ze=$[2],Fe=$[3],Je=re([xe,Oe,Ze,Fe],U.angle,L),Ke=(0,y.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3];return Ce>Be-N&&Ce<Be+N+ne&&Pe>Le-N&&Pe<Le+me+N},S=null,b=function(U,L){S&&clearTimeout(S),S=window.setTimeout(function(){return d(U,L)},se.sA)},d=function(U,L){if(U.link){var ce=(0,pe.bK)();ce.classList.add("excalidraw-tooltip--visible"),ce.style.maxWidth="20rem",ce.textContent=U.link;var ae=(0,de.qf)(U),ue=(0,y.Z)(ae,4),Ce=ue[0],Pe=ue[1],N=ue[2],Y=ue[3],$=re([Ce,Pe,N,Y],U.angle,L),xe=(0,y.Z)($,4),Oe=xe[0],Ze=xe[1],Fe=xe[2],Je=xe[3],Ke=(0,f._i)({sceneX:Oe,sceneY:Ze},L);(0,pe.Js)(ce,{left:Ke.x,top:Ke.y,width:Fe,height:Je},"top"),(0,p.L)("hyperlink","tooltip","link-icon"),fe=!0}},x=function(){S&&clearTimeout(S),fe&&(fe=!1,(0,pe.bK)().classList.remove("excalidraw-tooltip--visible"))},P=function(U,L,ce){var ae=(0,y.Z)(ce,2),ue=ae[0],Ce=ae[1],Pe=(0,f.dE)({clientX:ue,clientY:Ce},L),N=Pe.x,Y=Pe.y,$=15/L.zoom.value;if((0,ie.pX)(U,[N,Y],$))return!1;var xe=(0,de.qf)(U),Oe=(0,y.Z)(xe,3),Ze=Oe[0],Fe=Oe[1],Je=Oe[2];if(N>=Ze&&N<=Je&&Y>=Fe-85&&Y<=Fe)return!1;var Ke=H(U,L),Be=Ke.x,Le=Ke.y;return!(ue>=Be-$&&ue<=Be+320+10+$&&Ce>=Le-$&&Ce<=Le+$+10+42)}},8290:function(ge,Q,t){t.d(Q,{$q:function(){return H},DK:function(){return m},H:function(){return C},HG:function(){return Ee},N1:function(){return se},R:function(){return I},Ww:function(){return n},Y9:function(){return u},ZB:function(){return p},cz:function(){return k},ek:function(){return fe},el:function(){return de}});var w=t(7169),y=t(2577),f=t(75),c=t(1974),j=t(2325),A=t(1935),F=t(1564),o=t(6938),z=t(6340),B=t(6066),G=t(5710);function le(W,M){var re=Object.keys(W);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(W);M&&(O=O.filter(function(S){return Object.getOwnPropertyDescriptor(W,S).enumerable})),re.push.apply(re,O)}return re}var k=function(W){return!W[B.tW.CTRL_OR_CMD]},se=function(W){return W.isBindingEnabled},pe=function(W,M){var re=[];return M.forEach(function(O){var S=W.getNonDeletedElement(O);S!=null&&re.push(S)}),re},Ee=function(W,M,re){var O=new Set,S=new Set;ie(W,M,re,"start",O,S),ie(W,re,M,"end",O,S);var b=Array.from(S).filter(function(d){return!O.has(d)});pe(F.Z.getScene(W),b).forEach(function(d){var x;(0,A.DR)(d,{boundElements:(x=d.boundElements)===null||x===void 0?void 0:x.filter(function(P){return P.type!=="arrow"||P.id!==W.id})})})},ie=function(W,M,re,O,S,b){if(M!=="keep")if(M!=null)re!=null&&(re==="keep"?g(W,M,O):O!=="start"&&re.id===M.id)||(J(W,M,O),S.add(M.id));else{var d=v(W,O);d!=null&&b.add(d)}},de=function(W){W.forEach(function(M){(0,c.Mn)(M)?Ee(M,X(M,"start"),X(M,"end")):(0,c.f0)(M)&&ye(M)})},ye=function(W){R(W).forEach(function(M){var re=(0,y.Z)(M,2),O=re[0],S=re[1];return Ee(O,S==="end"?"keep":W,S==="start"?"keep":W)})},I=function(W,M,re,O){M.startBoundElement!=null&&J(W,M.startBoundElement,"start");var S=u(O,re);S==null||g(W,S,"end")||J(W,S,"end")},J=function(W,M,re){(0,A.DR)(W,(0,w.Z)({},re==="start"?"startBinding":"endBinding",function(O){for(var S=1;S<arguments.length;S++){var b=arguments[S]!=null?arguments[S]:{};S%2?le(Object(b),!0).forEach(function(d){(0,w.Z)(O,d,b[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(b)):le(Object(b)).forEach(function(d){Object.defineProperty(O,d,Object.getOwnPropertyDescriptor(b,d))})}return O}({elementId:M.id},s(W,M,re)))),(0,z.xn)(M.boundElements||[]).has(W.id)||(0,A.DR)(M,{boundElements:(M.boundElements||[]).concat({id:W.id,type:"arrow"})})},g=function(W,M,re){var O=W[re==="start"?"endBinding":"startBinding"];return m(W,O==null?void 0:O.elementId,M)},m=function(W,M,re){return M===re.id&&W.points.length<3},C=function(W){W.forEach(function(M){(0,c.Mn)(M)&&Ee(M,null,null)})},v=function(W,M){var re=M==="start"?"startBinding":"endBinding",O=W[re];return O==null?null:((0,A.DR)(W,(0,w.Z)({},re,null)),O.elementId)},u=function(W,M){return(0,f.QG)(M.getNonDeletedElements(),function(re){return(0,c.f0)(re,!1)&&(0,j.uu)(re,W)})},s=function(W,M,re){var O=re==="start"?-1:1,S=O===-1?0:W.points.length-1,b=S-O,d=o._.getPointAtIndexGlobalCoordinates(W,S),x=o._.getPointAtIndexGlobalCoordinates(W,b);return{focus:(0,j.T_)(M,x,d),gap:Math.max(1,(0,j.oT)(M,d))}},n=function(W,M){var re,O=((re=W.boundElements)!==null&&re!==void 0?re:[]).filter(function(P){return P.type==="arrow"});if(O.length!==0){var S=M??{},b=S.newSize,d=S.simultaneouslyUpdated,x=i(d);pe(F.Z.getScene(W),O.map(function(P){return P.id})).forEach(function(P){if((0,c.bt)(P)){var U=W;if(e(P,U)){var L=l(U,P.startBinding,b),ce=l(U,P.endBinding,b);x.has(P.id)?(0,A.DR)(P,{startBinding:L,endBinding:ce}):(a(P,"start",L,W),a(P,"end",ce,W),(0,G.WJ)(P)&&(0,G.RB)(P,!1))}}})}},e=function(W,M){var re,O;return((re=W.startBinding)===null||re===void 0?void 0:re.elementId)===M.id||((O=W.endBinding)===null||O===void 0?void 0:O.elementId)===M.id},i=function(W){return new Set((W||[]).map(function(M){return M.id}))},a=function(W,M,re,O){if(!(re==null||re.elementId!==O.id&&W.points.length>2)){var S=F.Z.getScene(W).getElement(re.elementId);if(S!=null){var b,d=M==="start"?-1:1,x=d===-1?0:W.points.length-1,P=x-d,U=o._.getPointAtIndexGlobalCoordinates(W,P),L=(0,j.j_)(S,re.focus,U);if(re.gap===0)b=L;else{var ce=(0,j.MZ)(S,U,L,re.gap);b=ce.length===0?L:ce[0]}o._.movePoints(W,[{index:x,point:o._.pointFromAbsoluteCoords(W,b)}],(0,w.Z)({},M==="start"?"startBinding":"endBinding",re))}}},l=function(W,M,re){if(M==null||re==null)return M;var O=M.gap,S=M.focus,b=M.elementId,d=re.width,x=re.height,P=W.width,U=W.height;return{elementId:b,gap:Math.max(1,Math.min((0,j.fb)(W,d,x),O*(d<x?d/P:x/U))),focus:S}},p=function(W){var M=new Set(W.map(function(re){return re.id}));return W.flatMap(function(re){return(0,c.Mn)(re,!1)?T(re).filter(function(O){return!M.has(O.id)}):(0,c.f0)(re,!1)?R(re).filter(function(O){return!M.has(O[0].id)}):[]})},T=function(W){return[X(W,"start"),X(W,"end")].filter(function(M){return M!=null})},X=function(W,M){return u(te(W,M),F.Z.getScene(W))},te=function(W,M){var re=M==="start"?0:-1;return(0,z.AK)(o._.getPointAtIndexGlobalCoordinates(W,re))},R=function(W){return F.Z.getScene(W).getNonDeletedElements().map(function(M){if(!(0,c.Mn)(M,!1))return null;var re=D(M,"start",W),O=D(M,"end",W);return re||O?[M,re&&O?"both":re?"start":"end",W]:null}).filter(function(M){return M!=null})},D=function(W,M,re){return W[M==="start"?"startBinding":"endBinding"]==null&&!g(W,re,M)&&(0,j.uu)(re,te(W,M))},fe=function(W,M,re,O){var S=new Set,b=new Set,d=O==="duplicatesServeAsOld";M.forEach(function(x){var P=x.boundElements;if(P!=null&&P.length>0&&(P.forEach(function(ce){d&&!re.has(ce.id)&&S.add(ce.id)}),b.add(re.get(x.id))),(0,c.Mn)(x)){if(x.startBinding!=null){var U=x.startBinding.elementId;d&&!re.has(U)&&b.add(U)}if(x.endBinding!=null){var L=x.endBinding.elementId;d&&!re.has(L)&&b.add(L)}x.startBinding==null&&x.endBinding==null||S.add(re.get(x.id))}}),W.filter(function(x){var P=x.id;return S.has(P)}).forEach(function(x){var P=x.startBinding,U=x.endBinding;(0,A.DR)(x,{startBinding:q(P,re),endBinding:q(U,re)})}),W.filter(function(x){var P=x.id;return b.has(P)}).forEach(function(x){var P=x.boundElements;P!=null&&P.length>0&&(0,A.DR)(x,{boundElements:P.map(function(U){return re.has(U.id)?{id:re.get(U.id),type:U.type}:U})})})},q=function(W,M){var re;if(W==null)return null;var O=W.elementId;return{focus:W.focus,gap:W.gap,elementId:(re=M.get(O))!==null&&re!==void 0?re:O}},H=function(W,M){var re=new Set(M.map(function(S){return S.id})),O=new Set;M.forEach(function(S){var b;(0,c.f0)(S)?(b=S.boundElements)===null||b===void 0||b.forEach(function(d){re.has(d.id)||O.add(d.id)}):(0,c.Mn)(S)&&(S.startBinding&&O.add(S.startBinding.elementId),S.endBinding&&O.add(S.endBinding.elementId))}),W.filter(function(S){var b=S.id;return O.has(b)}).forEach(function(S){(0,c.f0)(S)?(0,A.DR)(S,{boundElements:_(S.boundElements,re)}):(0,c.Mn)(S)&&(0,A.DR)(S,{startBinding:h(S.startBinding,re),endBinding:h(S.endBinding,re)})})},h=function(W,M){return W==null||M.has(W.elementId)?null:W},_=function(W,M){return W?W.filter(function(re){return!M.has(re.id)}):null}},8925:function(ge,Q,t){t.d(Q,{CM:function(){return se},IX:function(){return ie},KP:function(){return m},Pi:function(){return g},UC:function(){return k},Ut:function(){return v},Y5:function(){return I},os:function(){return u},qf:function(){return le},v2:function(){return s},wC:function(){return C}});var w=t(2577),y=t(1930),f=t(6552),c=t(8234),j=t(3063),A=t(1974),F=t(5001),o=t(5710),z=t(6938);function B(n,e){var i=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!i){if(Array.isArray(n)||(i=function(te,R){if(te){if(typeof te=="string")return G(te,R);var D=Object.prototype.toString.call(te).slice(8,-1);if(D==="Object"&&te.constructor&&(D=te.constructor.name),D==="Map"||D==="Set")return Array.from(te);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return G(te,R)}}(n))||e){i&&(n=i);var a=0,l=function(){};return{s:l,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(te){throw te},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,T=!0,X=!1;return{s:function(){i=i.call(n)},n:function(){var te=i.next();return T=te.done,te},e:function(te){X=!0,p=te},f:function(){try{T||i.return==null||i.return()}finally{if(X)throw p}}}}function G(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=n[i];return a}var le=function(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,A.F9)(n))return ye(n);if((0,A.bt)(n))return z._.getElementAbsoluteCoords(n,e);if((0,A.iB)(n)){var i=(0,o.tl)(n);if((0,A.Yv)(i)){var a=z._.getBoundTextElementPosition(i,n);return[a.x,a.y,a.x+n.width,a.y+n.height,a.x+n.width/2,a.y+n.height/2]}}return[n.x,n.y,n.x+n.width,n.y+n.height,n.x+n.width/2,n.y+n.height/2]},k=function(n){var e=Math.floor(n.width/2)+1,i=n.width,a=Math.floor(n.height/2)+1;return[e,0,i,a,e,n.height,0,a]},se=function(n){var e,i=B(n.sets);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(a.type==="path")return a.ops}}catch(l){i.e(l)}finally{i.f()}return n.sets[0].ops},pe=function(n,e,i,a,l){var p=1-n;return Math.pow(p,3)*e+3*Math.pow(p,2)*n*i+3*p*Math.pow(n,2)*a+Math.pow(n,3)*l},Ee=function(n,e,i,a){var l=e-n,p=i-e,T=3*l-6*p+3*(a-i),X=6*p-6*l,te=3*l,R=X*X-4*T*te;if(!(R>=0))return!1;var D=null,fe=null,q=1/0,H=1/0;return T===0?q=H=-te/X:(q=(-X+Math.sqrt(R))/(2*T),H=(-X-Math.sqrt(R))/(2*T)),q>=0&&q<=1&&(D=pe(q,n,e,i,a)),H>=0&&H<=1&&(fe=pe(H,n,e,i,a)),[D,fe]},ie=function(n,e){var i=[0,0],a=n.reduce(function(l,p){var T=p.op,X=p.data;if(T==="move")i=X;else if(T==="bcurveTo"){var te=[X[0],X[1]],R=[X[2],X[3]],D=[X[4],X[5]],fe=e?e.apply(void 0,te):te,q=e?e.apply(void 0,R):R,H=e?e.apply(void 0,D):D,h=e?e.apply(void 0,(0,y.Z)(i)):i;i=D;var _=function(b,d,x,P){var U=Ee(b[0],d[0],x[0],P[0]),L=Ee(b[1],d[1],x[1],P[1]),ce=Math.min(b[0],P[0]),ae=Math.max(b[0],P[0]);if(U){var ue=U.filter(function(Y){return Y!==null});ce=Math.min.apply(Math,[ce].concat((0,y.Z)(ue))),ae=Math.max.apply(Math,[ae].concat((0,y.Z)(ue)))}var Ce=Math.min(b[1],P[1]),Pe=Math.max(b[1],P[1]);if(L){var N=L.filter(function(Y){return Y!==null});Ce=Math.min.apply(Math,[Ce].concat((0,y.Z)(N))),Pe=Math.max.apply(Math,[Pe].concat((0,y.Z)(N)))}return[ce,Ce,ae,Pe]}(h,fe,q,H),W=(0,w.Z)(_,4),M=W[0],re=W[1],O=W[2],S=W[3];l.minX=Math.min(l.minX,M),l.minY=Math.min(l.minY,re),l.maxX=Math.max(l.maxX,O),l.maxY=Math.max(l.maxY,S)}return l},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[a.minX,a.minY,a.maxX,a.maxY]},de=function(n){var e,i=1/0,a=1/0,l=-1/0,p=-1/0,T=B(n);try{for(T.s();!(e=T.n()).done;){var X=(0,w.Z)(e.value,2),te=X[0],R=X[1];i=Math.min(i,te),a=Math.min(a,R),l=Math.max(l,te),p=Math.max(p,R)}}catch(D){T.e(D)}finally{T.f()}return[i,a,l,p]},ye=function(n){var e=de(n.points),i=(0,w.Z)(e,4),a=i[0],l=i[1],p=i[2],T=i[3],X=a+n.x,te=l+n.y,R=p+n.x,D=T+n.y;return[X,te,R,D,(X+R)/2,(te+D)/2]},I=function(n,e,i,a){var l=se(e[0]);if(l.length<1)return null;var p=i==="start"?1:l.length-1,T=l[p].data,X=[T[4],T[5]],te=[T[2],T[3]],R=[T[0],T[1]],D=l[p-1],fe=[0,0];D.op==="move"?fe=D.data:D.op==="bcurveTo"&&(fe=[D.data[4],D.data[5]]);var q=function(We,He){return Math.pow(1-We,3)*X[He]+3*We*Math.pow(1-We,2)*te[He]+3*Math.pow(We,2)*(1-We)*R[He]+fe[He]*Math.pow(We,3)},H=i==="start"?fe:X,h=(0,w.Z)(H,2),_=h[0],W=h[1],M=[q(.3,0),q(.3,1)],re=M[0],O=M[1],S=Math.hypot(_-re,W-O),b=(_-re)/S,d=(W-O)/S,x={arrow:30,bar:15,dot:15,triangle:15}[a],P=0;if(a==="arrow"){var U=(0,w.Z)(n.points[n.points.length-1],2),L=U[0],ce=U[1],ae=n.points.length>1?n.points[n.points.length-2]:[0,0],ue=(0,w.Z)(ae,2),Ce=ue[0],Pe=ue[1];P=Math.hypot(L-Ce,ce-Pe)}else for(var N=0;N<n.points.length;N++){var Y=n.points[N-1]||[0,0],$=(0,w.Z)(Y,2),xe=$[0],Oe=$[1],Ze=(0,w.Z)(n.points[N],2),Fe=Ze[0],Je=Ze[1];P+=Math.hypot(Fe-xe,Je-Oe)}var Ke=Math.min(x,P/2),Be=_-b*Ke,Le=W-d*Ke;if(a==="dot")return[_,W,Math.hypot(Le-W,Be-_)+n.strokeWidth];var ne={arrow:20,bar:90,triangle:25}[a],me=(0,f.U1)(Be,Le,_,W,-ne*Math.PI/180),ve=(0,w.Z)(me,2),we=ve[0],Me=ve[1],Te=(0,f.U1)(Be,Le,_,W,ne*Math.PI/180),ze=(0,w.Z)(Te,2);return[_,W,we,Me,ze[0],ze[1]]},J=function(n,e,i){var a;if(n.points.length<2){var l=(0,w.Z)(n.points[0],2),p=l[0],T=l[1],X=(0,f.U1)(n.x+p,n.y+T,e,i,n.angle),te=(0,w.Z)(X,2),R=te[0],D=te[1],fe=[R,D,R,D],q=(0,o.WJ)(n);if(q){var H=z._.getMinMaxXYWithBoundText(n,[R,D,R,D],q);fe=[H[0],H[1],H[2],H[3]]}return fe}var h=(a=(0,j.R2)(n))===null||a===void 0?void 0:a[0],_=h??function(b){var d=c.Z.generator(),x=(0,j.i)(b);return d[b.roundness?"curve":x.fill?"polygon":"linearPath"](b.points,x)}(n),W=se(_),M=ie(W,function(b,d){return(0,f.U1)(n.x+b,n.y+d,e,i,n.angle)}),re=[M[0],M[1],M[2],M[3]],O=(0,o.WJ)(n);if(O){var S=z._.getMinMaxXYWithBoundText(n,re,O);re=[S[0],S[1],S[2],S[3]]}return re},g=function(n){var e,i=le(n),a=(0,w.Z)(i,6),l=a[0],p=a[1],T=a[2],X=a[3],te=a[4],R=a[5];if((0,A.F9)(n)){var D=de(n.points.map(function(it){var $e=(0,w.Z)(it,2),tt=$e[0],st=$e[1];return(0,f.U1)(tt,st,te-n.x,R-n.y,n.angle)})),fe=(0,w.Z)(D,4),q=fe[0],H=fe[1],h=fe[2],_=fe[3];return[q+n.x,H+n.y,h+n.x,_+n.y]}if((0,A.bt)(n))e=J(n,te,R);else if(n.type==="diamond"){var W=(0,f.U1)(te,p,te,R,n.angle),M=(0,w.Z)(W,2),re=M[0],O=M[1],S=(0,f.U1)(te,X,te,R,n.angle),b=(0,w.Z)(S,2),d=b[0],x=b[1],P=(0,f.U1)(l,R,te,R,n.angle),U=(0,w.Z)(P,2),L=U[0],ce=U[1],ae=(0,f.U1)(T,R,te,R,n.angle),ue=(0,w.Z)(ae,2),Ce=ue[0],Pe=ue[1];e=[Math.min(re,d,L,Ce),Math.min(O,x,ce,Pe),Math.max(re,d,L,Ce),Math.max(O,x,ce,Pe)]}else if(n.type==="ellipse"){var N=(T-l)/2,Y=(X-p)/2,$=Math.cos(n.angle),xe=Math.sin(n.angle),Oe=Math.hypot(N*$,Y*xe),Ze=Math.hypot(Y*$,N*xe);e=[te-Oe,R-Ze,te+Oe,R+Ze]}else{var Fe=(0,f.U1)(l,p,te,R,n.angle),Je=(0,w.Z)(Fe,2),Ke=Je[0],Be=Je[1],Le=(0,f.U1)(l,X,te,R,n.angle),ne=(0,w.Z)(Le,2),me=ne[0],ve=ne[1],we=(0,f.U1)(T,X,te,R,n.angle),Me=(0,w.Z)(we,2),Te=Me[0],ze=Me[1],We=(0,f.U1)(T,p,te,R,n.angle),He=(0,w.Z)(We,2),Ye=He[0],et=He[1];e=[Math.min(Ke,me,Te,Ye),Math.min(Be,ve,ze,et),Math.max(Ke,me,Te,Ye),Math.max(Be,ve,ze,et)]}return e},m=function(n){if(!n.length)return[0,0,0,0];var e=1/0,i=-1/0,a=1/0,l=-1/0;return n.forEach(function(p){var T=g(p),X=(0,w.Z)(T,4),te=X[0],R=X[1],D=X[2],fe=X[3];e=Math.min(e,te),a=Math.min(a,R),i=Math.max(i,D),l=Math.max(l,fe)}),[e,a,i,l]},C=function(n,e,i,a){if(!(0,A.bt)(n)&&!(0,A.F9)(n))return[n.x,n.y,n.x+e,n.y+i];var l,p=(0,F.z)(0,e,(0,F.z)(1,i,n.points,a),a);if((0,A.F9)(n))l=de(p);else{var T=c.Z.generator(),X=n.roundness?T.curve(p,(0,j.i)(n)):T.linearPath(p,(0,j.i)(n)),te=se(X);l=ie(te)}var R=l,D=(0,w.Z)(R,4),fe=D[0],q=D[1],H=D[2],h=D[3];return[fe+n.x,q+n.y,H+n.x,h+n.y]},v=function(n,e){var i=c.Z.generator(),a=n.roundness==null?i.linearPath(e,(0,j.i)(n)):i.curve(e,(0,j.i)(n)),l=se(a),p=ie(l),T=(0,w.Z)(p,4),X=T[0],te=T[1],R=T[2],D=T[3];return[X+n.x,te+n.y,R+n.x,D+n.y]},u=function(n,e){if(!n.length)return[0,0,0,0];var i=1/0,a=n[0];return n.forEach(function(l){var p=g(l),T=(0,w.Z)(p,4),X=T[0],te=T[1],R=T[2],D=T[3],fe=(0,f.LW)((X+R)/2,(te+D)/2,e.x,e.y);fe<i&&(i=fe,a=l)}),g(a)},s=function(n){var e=m(n),i=(0,w.Z)(e,4),a=i[0],l=i[1],p=i[2],T=i[3];return{minX:a,minY:l,maxX:p,maxY:T,width:p-a,height:T-l,midX:(a+p)/2,midY:(l+T)/2}}},2325:function(ge,Q,t){t.d(Q,{uu:function(){return H},T_:function(){return Ce},j_:function(){return Pe},oT:function(){return W},wX:function(){return te},MZ:function(){return N},wB:function(){return R},Qu:function(){return D},pX:function(){return q},fb:function(){return h}});var w=t(2577),y=function(ne,me){return[0,0,0,0,me,ne,1,0]},f=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ve=[0,0,0,0,0,0,0,0];if(me<0||me>7)throw new Error("Expected `index` between 0 and 7, got `".concat(me,"`"));return ne!==0&&(ve[me]=ne),ve},c=function(ne){return[ne[0],ne[1],ne[2],ne[3],-ne[4],-ne[5],-ne[6],-ne[7]]},j=function(ne,me){return k(me)?[ne[0]-me,ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7]]:[ne[0]-me[0],ne[1]-me[1],ne[2]-me[2],ne[3]-me[3],ne[4]-me[4],ne[5]-me[5],ne[6]-me[6],ne[7]-me[7]]},A=function(ne,me){return k(me)?[ne[0]*me,ne[1]*me,ne[2]*me,ne[3]*me,ne[4]*me,ne[5]*me,ne[6]*me,ne[7]*me]:[F(ne,me),me[1]*ne[0]+me[0]*ne[1]-me[4]*ne[2]+me[5]*ne[3]+me[2]*ne[4]-me[3]*ne[5]-me[7]*ne[6]-me[6]*ne[7],me[2]*ne[0]+me[0]*ne[2]-me[6]*ne[3]+me[3]*ne[6],me[3]*ne[0]+me[6]*ne[2]+me[0]*ne[3]-me[2]*ne[6],me[4]*ne[0]+me[2]*ne[1]-me[1]*ne[2]+me[7]*ne[3]+me[0]*ne[4]+me[6]*ne[5]-me[5]*ne[6]+me[3]*ne[7],me[5]*ne[0]-me[3]*ne[1]+me[7]*ne[2]+me[1]*ne[3]-me[6]*ne[4]+me[0]*ne[5]+me[4]*ne[6]+me[2]*ne[7],me[6]*ne[0]+me[3]*ne[2]-me[2]*ne[3]+me[0]*ne[6],me[7]*ne[0]+me[6]*ne[1]+me[5]*ne[2]+me[4]*ne[3]+me[3]*ne[4]+me[2]*ne[5]+me[1]*ne[6]+me[0]*ne[7]]},F=function(ne,me){return me[0]*ne[0]+me[2]*ne[2]+me[3]*ne[3]-me[6]*ne[6]},o=function(ne,me){return[z(ne,me),ne[1]*me[7]+ne[4]*me[5]-ne[5]*me[4]+ne[7]*me[1],ne[2]*me[7]-ne[4]*me[6]+ne[6]*me[4]+ne[7]*me[2],ne[3]*me[7]+ne[5]*me[6]-ne[6]*me[5]+ne[7]*me[3],ne[4]*me[7]+ne[7]*me[4],ne[5]*me[7]+ne[7]*me[5],ne[6]*me[7]+ne[7]*me[6],ne[7]*me[7]]},z=function(ne,me){return ne[0]*me[7]+ne[1]*me[6]+ne[2]*me[5]+ne[3]*me[4]+ne[4]*me[3]+ne[5]*me[2]+ne[6]*me[1]+ne[7]*me[0]},B=function(ne){return Math.sqrt(Math.abs(ne[0]*ne[0]-ne[2]*ne[2]-ne[3]*ne[3]+ne[6]*ne[6]))},G=function(ne){var me=B(ne);if(me===0||me===1)return ne;var ve=ne[6]<0?-1:1;return A(ne,ve/me)},le=function(ne){var me=function(ve){return Math.sqrt(Math.abs(ve[7]*ve[7]-ve[5]*ve[5]-ve[4]*ve[4]+ve[1]*ve[1]))}(ne);return me===0||me===1?ne:A(ne,1/me)},k=function(ne){return typeof ne=="number"},se=(f(1,1),f(1,2),f(1,3),f(1,4),f(1,5),f(1,6),f(1,7),function(ne,me,ve){return G([0,ve,ne,me,0,0,0,0])}),pe=function(ne,me){return G(o(me,ne))},Ee=function(ne,me){return ve=ne,[(we=me)[0]*ve[0]+we[2]*ve[2]+we[3]*ve[3]-we[6]*ve[6],we[1]*ve[0]+we[0]*ve[1]-we[4]*ve[2]+we[5]*ve[3]+we[2]*ve[4]-we[3]*ve[5]-we[7]*ve[6]-we[6]*ve[7],we[2]*ve[0]+we[0]*ve[2]-we[6]*ve[3]+we[3]*ve[6],we[3]*ve[0]+we[6]*ve[2]+we[0]*ve[3]-we[2]*ve[6],we[4]*ve[0]+we[7]*ve[3]+we[0]*ve[4]+we[3]*ve[7],we[5]*ve[0]+we[7]*ve[2]+we[0]*ve[5]+we[2]*ve[7],we[6]*ve[0]+we[0]*ve[6],we[7]*ve[0]+we[0]*ve[7]];var ve,we},ie=function(ne){var me=(0,w.Z)(ne,2),ve=me[0];return[0,0,0,0,me[1],ve,1,0]},de=function(ne){return[ne[5],ne[4]]},ye=function(ne,me){return G((ve=ne,[(we=me)[0]*ve[0],we[1]*ve[0]+we[0]*ve[1],we[2]*ve[0]+we[0]*ve[2],we[3]*ve[0]+we[0]*ve[3],we[4]*ve[0]+we[2]*ve[1]-we[1]*ve[2]+we[0]*ve[4],we[5]*ve[0]-we[3]*ve[1]+we[1]*ve[3]+we[0]*ve[5],we[6]*ve[0]+we[3]*ve[2]-we[2]*ve[3]+we[0]*ve[6],we[7]*ve[0]+we[6]*ve[1]+we[5]*ve[2]+we[4]*ve[3]+we[3]*ve[4]+we[2]*ve[5]+we[1]*ve[6]]));var ve,we},I=function(ne,me){return B(o(ne,me))},J=function(ne,me){return z(ne,me)},g=function(ne){return[0,0,0,0,ne[4],ne[5],0,0]},m=function(ne,me){return ve=A(ne,Math.sin(me/2)),we=Math.cos(me/2),k(we)?[ve[0]+we,ve[1],ve[2],ve[3],ve[4],ve[5],ve[6],ve[7]]:[ve[0]+we[0],ve[1]+we[1],ve[2]+we[2],ve[3]+we[3],ve[4]+we[4],ve[5]+we[5],ve[6]+we[6],ve[7]+we[7]];var ve,we},C=function(ne,me){return G(A(A(ne,me),c(ne)))},v=t(6552),u=t(1493),s=t(8925),n=t(3063),e=t(1974),i=t(1047),a=t(6340),l=t(267),p=t(5710);function T(ne,me){var ve=typeof Symbol<"u"&&ne[Symbol.iterator]||ne["@@iterator"];if(!ve){if(Array.isArray(ne)||(ve=function(He,Ye){if(He){if(typeof He=="string")return X(He,Ye);var et=Object.prototype.toString.call(He).slice(8,-1);if(et==="Object"&&He.constructor&&(et=He.constructor.name),et==="Map"||et==="Set")return Array.from(He);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return X(He,Ye)}}(ne))||me){ve&&(ne=ve);var we=0,Me=function(){};return{s:Me,n:function(){return we>=ne.length?{done:!0}:{done:!1,value:ne[we++]}},e:function(He){throw He},f:Me}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te,ze=!0,We=!1;return{s:function(){ve=ve.call(ne)},n:function(){var He=ve.next();return ze=He.done,He},e:function(He){We=!0,Te=He},f:function(){try{ze||ve.return==null||ve.return()}finally{if(We)throw Te}}}}function X(ne,me){(me==null||me>ne.length)&&(me=ne.length);for(var ve=0,we=new Array(me);ve<me;ve++)we[ve]=ne[ve];return we}var te=function ne(me,ve,we,Me){var Te=10/ve.zoom.value,ze=[we,Me];if(fe(ve,me)&&(0,l.oY)([me],ve))return q(me,ze,Te);var We=(0,p.WJ)(me);return We&&ne(We,ve,we,Me)?!0:D(me,ve,ze)},R=function(ne,me,ve,we){var Me=10/me.zoom.value,Te=(0,p.WJ)(ne);return(!Te||!te(Te,me,ve,we))&&!D(ne,me,[ve,we])&&q(ne,[ve,we],Me)},D=function(ne,me,ve){var we=10/me.zoom.value,Me=(0,i.iB)(ne)?M:function(Te){if(Te.type==="arrow")return!1;if(Te.type==="freedraw")return!0;var ze=!(0,a.Qm)(Te.backgroundColor)||(0,e.Xo)(Te);return Te.type==="line"?ze&&(0,v.g6)(Te.points):ze||(0,e.pC)(Te)}(ne)?re:O;return _({element:ne,point:ve,threshold:we,check:Me})},fe=function(ne,me){return ne.selectedElementIds[me.id]},q=function(ne,me,ve){var we=(0,w.Z)(me,2),Me=we[0],Te=we[1],ze=(0,s.qf)(ne),We=(0,w.Z)(ze,4),He=We[0],Ye=We[1],et=We[2],it=We[3],$e=(He+et)/2,tt=(Ye+it)/2,st=(0,v.U1)(Me,Te,$e,tt,-ne.angle),Et=(0,w.Z)(st,2),Pt=Et[0],_t=Et[1];return Pt>He-ve&&Pt<et+ve&&_t>Ye-ve&&_t<it+ve},H=function(ne,me){var ve=me.x,we=me.y,Me=h(ne,ne.width,ne.height);return _({element:ne,point:[ve,we],threshold:Me,check:S})},h=function(ne,me,ve){var we=(ne.type==="diamond"?1/Math.sqrt(2):1)*Math.min(me,ve);return Math.max(16,Math.min(.25*we,32))},_=function(ne){switch(ne.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var me=W(ne.element,ne.point);return ne.check(me,ne.threshold);case"freedraw":return!!ne.check(b(ne.element,ne.point),ne.threshold)&&U(ne.element,ne.point,ne.threshold);case"arrow":case"line":return L(ne);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},W=function(ne,me){switch(ne.type){case"rectangle":case"image":case"text":return b(ne,me);case"diamond":return d(ne,me);case"ellipse":return x(ne,me)}},M=function(ne,me){return ne<0},re=function(ne,me){return ne<me},O=function(ne,me){return Math.abs(ne)<me},S=function(ne,me){return 0<=ne&&ne<me},b=function(ne,me){var ve=ce(ne,me),we=(0,w.Z)(ve,4),Me=we[1],Te=we[2],ze=we[3];return Math.max(J(Me,se(0,1,-ze)),J(Me,se(1,0,-Te)))},d=function(ne,me){var ve=ce(ne,me),we=(0,w.Z)(ve,4),Me=we[1],Te=we[2],ze=we[3],We=se(ze,Te,-ze*Te);return J(Me,We)},x=function(ne,me){var ve,we=P(ne,me),Me=(0,w.Z)(we,2),Te=Me[0],ze=Me[1];return ve=ze,-Math.sign(ve[1])*J(Te,ze)},P=function(ne,me){var ve=ce(ne,me),we=(0,w.Z)(ve,4),Me=we[1],Te=we[2],ze=we[3],We=de(Me),He=(0,w.Z)(We,2),Ye=He[0],et=He[1],it=.707,$e=.707,tt=Te,st=ze;[0,1,2,3].forEach(function(_t){var vt=tt*it,yt=st*$e,ft=(tt*tt-st*st)*Math.pow(it,3)/tt,St=(st*st-tt*tt)*Math.pow($e,3)/st,Yt=vt-ft,qt=yt-St,Ct=Ye-ft,At=et-St,Ne=Math.hypot(qt,Yt),Ue=Math.hypot(At,Ct);it=Math.min(1,Math.max(0,(Ct*Ne/Ue+ft)/tt)),$e=Math.min(1,Math.max(0,(At*Ne/Ue+St)/st));var ot=Math.hypot($e,it);it/=ot,$e/=ot});var Et,Pt=y(tt*it,st*$e);return[Me,Ee(pe(Me,Et=Pt),Et)]},U=function(ne,me,ve){var we,Me;if(ne.angle===0)we=me[0]-ne.x,Me=me[1]-ne.y;else{var Te=(0,s.qf)(ne),ze=(0,w.Z)(Te,4),We=ze[0],He=ze[1],Ye=ze[2],et=ze[3],it=(0,v.xj)(me,[We+(Ye-We)/2,He+(et-He)/2],-ne.angle);we=it[0]-ne.x,Me=it[1]-ne.y}var $e,tt=(0,w.Z)(ne.points,2),st=tt[0],Et=tt[1];if((0,v.LW)(st[0],st[1],we,Me)<ve||(0,v.LW)(Et[0],Et[1],we,Me)<ve)return!0;for(var Pt=0;Pt<ne.points.length;Pt++){var _t=[Et[0]-st[0],Et[1]-st[1]],vt=Math.hypot(_t[1],_t[0]),yt=[_t[0]/vt,_t[1]/vt],ft=[we-st[0],Me-st[1]],St=(ft[0]*yt[0]+ft[1]*yt[1])/Math.hypot(yt[1],yt[0]);$e=[st[0]+yt[0]*St,st[1]+yt[1]*St];var Yt=(0,v.LW)($e[0],$e[1],st[0],st[1]),qt=(0,v.LW)($e[0],$e[1],Et[0],Et[1]);if($e=qt<Yt&&Yt>vt?Et:Yt<qt&&qt>vt?st:$e,Math.hypot(Me-$e[1],we-$e[0])<ve)return!0;st=Et,Et=ne.points[Pt+1]}var Ct=(0,n.R2)(ne);return!(!Ct||!Ct.sets.length)&&Le(Ct,we,Me,ve)},L=function(ne){var me=ne.element,ve=ne.threshold;if(!(0,n.R2)(me))return!1;var we=ce(ne.element,ne.point),Me=(0,w.Z)(we,4),Te=Me[0],ze=Me[1],We=Me[2],He=Me[3],Ye=se(0,1,-He),et=se(1,0,-We);if(!re(J(ze,Ye),ve)||!re(J(ze,et),ve))return!1;var it=de(Te),$e=(0,w.Z)(it,2),tt=$e[0],st=$e[1],Et=(0,n.R2)(me);return Et?ne.check===re&&Et.some(function(Pt){return Be(Pt,tt,st,me.roundness?"round":"sharp")})?!0:Et.some(function(Pt){return Le(Pt,tt,st,ve)}):!1},ce=function(ne,me){var ve,we=ie(me),Me=(0,s.qf)(ne),Te=(0,w.Z)(Me,4),ze=Te[0],We=Te[1],He=Te[2],Ye=Te[3],et=(0,s.qf)(ne),it=ue([ze,We,He,Ye]),$e=m(it,ne.angle),tt=C($e,we),st=function(ft){return[0,0,0,0,Math.abs(ft[4]),Math.abs(ft[5]),1,0]}(j(tt,g(it))),Et=(ve=ne.x,[0,0,0,0,ne.y,ve,0,0]),Pt=j(tt,Et),_t=(0,w.Z)(et,4),vt=_t[0],yt=_t[1];return[Pt,st,(_t[2]-vt)/2,(_t[3]-yt)/2]},ae=function(ne){var me=(0,s.qf)(ne),ve=(0,w.Z)(me,4),we=ve[0],Me=ve[1],Te=ve[2],ze=ve[3],We=ue([we,Me,Te,ze]),He=m(We,ne.angle),Ye=c(function(et){return[1,0,0,0,-.5*et[5],.5*et[4],0,0]}(g(We)));return A(Ye,He)},ue=function(ne){var me=(0,w.Z)(ne,4),ve=me[0],we=me[1],Me=me[2],Te=me[3];return y((ve+Me)/2,(we+Te)/2)},Ce=function(ne,me,ve){var we=ae(ne),Me=C(we,ie(me)),Te=C(we,ie(ve)),ze=pe(Me,Te),We=ne.height/ne.width,He=ne.width/2,Ye=ne.height/2,et=ze[2],it=ze[3],$e=ze[1],tt=Math.abs(it),st=Math.abs(et);switch(ne.type){case"rectangle":case"image":case"text":return $e/(He*(st+We*tt));case"diamond":return tt<st?$e/(st*He):$e/(tt*Ye);case"ellipse":return $e/(He*Math.sqrt(Math.pow(et,2)+Math.pow(We,2)*Math.pow(it,2)))}},Pe=function(ne,me,ve){if(me===0){var we=(0,s.qf)(ne),Me=(0,w.Z)(we,4),Te=Me[0],ze=Me[1],We=Me[2],He=Me[3],Ye=ue([Te,ze,We,He]);return de(Ye)}var et,it=ae(ne),$e=C(it,ie(ve)),tt=c(it);switch(ne.type){case"rectangle":case"image":case"text":case"diamond":et=Ke(ne,me,$e);break;case"ellipse":et=Je(ne,me,$e)}return de(C(tt,et))},N=function(ne,me,ve){var we=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Me=ae(ne),Te=C(Me,ie(me)),ze=C(Me,ie(ve)),We=pe(Te,ze),He=c(Me),Ye=Y(ne,We,Te,we);return Ye.map(function(et){return de(C(He,et))})},Y=function(ne,me,ve){var we,Me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(ne.type){case"rectangle":case"image":case"text":case"diamond":var Te=$(ne);we=Te.flatMap(function(We,He){var Ye=[We,Te[(He+1)%4]];return xe(me,Oe(Ye,Me))}).concat(Te.flatMap(function(We){return Fe(We,Me,me)}));break;case"ellipse":we=Ze(ne,Me,me)}if(we.length<2)return[];var ze=we.sort(function(We,He){return I(We,ve)-I(He,ve)});return[ze[0],ze[ze.length-1]]},$=function(ne){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ve=me*ne.width/2,we=me*ne.height/2;switch(ne.type){case"rectangle":case"image":case"text":return[y(ve,we),y(ve,-we),y(-ve,-we),y(-ve,we)];case"diamond":return[y(0,we),y(ve,0),y(0,-we),y(-ve,0)]}},xe=function(ne,me){var ve=(0,w.Z)(me,2),we=ve[0],Me=ve[1];return J(we,ne)*J(Me,ne)>=0?[]:[ye(ne,pe(we,Me))]},Oe=function(ne,me){var ve=(0,w.Z)(ne,2),we=ve[0],Me=ve[1],Te=function(ze,We){var He=.5*We;return[1,0,0,0,He*ze[4],He*ze[5],0,0]}(function(ze,We){return le([0,0,0,0,We[4]-ze[4],We[5]-ze[5],0,0])}(we,Me),me);return[C(Te,we),C(Te,Me)]},Ze=function(ne,me,ve){var we=ne.width/2+me,Me=ne.height/2+me,Te=ve[2],ze=ve[3],We=ve[1],He=we*we*Te*Te+Me*Me*ze*ze,Ye=He-We*We;if(He===0||Ye<=0)return[];var et=Math.sqrt(Ye),it=-we*we*Te*We,$e=-Me*Me*ze*We;return[y((it+we*Me*ze*et)/He,($e-we*Me*Te*et)/He),y((it-we*Me*ze*et)/He,($e+we*Me*Te*et)/He)]},Fe=function(ne,me,ve){if(me===0)return J(ve,ne)===0?[ne]:[];var we=ve[2],Me=ve[3],Te=ve[1],ze=de(ne),We=(0,w.Z)(ze,2),He=We[0],Ye=We[1],et=we*we+Me*Me,it=me*me*et-Math.pow(we*He+Me*Ye+Te,2);if(et===0||it<=0)return[];var $e=Math.sqrt(it),tt=He*Me*Me-Ye*we*Me-we*Te,st=Ye*we*we-He*we*Me-Me*Te;return[y((tt+Me*$e)/et,(st-we*$e)/et),y((tt-Me*$e)/et,(st+we*$e)/et)]},Je=function(ne,me,ve){var we=Math.abs(me),Me=ne.width*we/2,Te=ne.height*we/2,ze=Math.sign(me),We=de(ve),He=(0,w.Z)(We,2),Ye=He[0],et=He[1],it=et===0?1e-4:et,$e=Math.pow(Ye,2)*Math.pow(Te,2)+Math.pow(it,2)*Math.pow(Me,2),tt=(-Ye*Math.pow(Te,2)+ze*it*Math.sqrt(Math.max(0,$e-Math.pow(Me,2)*Math.pow(Te,2))))/$e,st=(-tt*Ye-1)/it,Et=-Math.pow(Me,2)*tt/(Math.pow(st,2)*Math.pow(Te,2)+Math.pow(tt,2)*Math.pow(Me,2));return y(Et,(-tt*Et-1)/st)},Ke=function(ne,me,ve){var we=Math.abs(me),Me=Math.sign(me),Te=$(ne,we),ze=0,We=null;return Te.forEach(function(He){var Ye=Me*pe(ve,He)[1];Ye>ze&&(ze=Ye,We=He)}),We},Be=function(ne,me,ve,we){var Me,Te=[],ze=!1,We=T((0,s.CM)(ne));try{for(We.s();!(Me=We.n()).done;){var He=Me.value;He.op==="move"?(ze=!ze)&&Te.push([He.data[0],He.data[1]]):He.op==="bcurveTo"?ze&&(Te.push([He.data[0],He.data[1]]),Te.push([He.data[2],He.data[3]]),Te.push([He.data[4],He.data[5]])):He.op==="lineTo"&&ze&&Te.push([He.data[0],He.data[1]])}}catch(et){We.e(et)}finally{We.f()}if(Te.length>=4){if(we==="sharp")return(0,v.c9)(Te,me,ve);var Ye=(0,u.s)(Te,10,5);return(0,v.c9)(Ye,me,ve)}return!1},Le=function(ne,me,ve,we){var Me=(0,s.CM)(ne),Te=[0,0];return Me.some(function(ze,We){var He=ze.op,Ye=ze.data;if(He==="move")Te=Ye;else{if(He==="bcurveTo"){var et=[Ye[0],Ye[1]],it=[Ye[2],Ye[3]],$e=[Ye[4],Ye[5]],tt=Te;Te=$e;var st=function(Et,Pt,_t,vt,yt,ft){for(var St=(0,w.Z)(yt,2),Yt=St[0],qt=St[1],Ct=function(ot,at){return Math.pow(1-ot,3)*vt[at]+3*ot*Math.pow(1-ot,2)*_t[at]+3*Math.pow(ot,2)*(1-ot)*Pt[at]+Et[at]*Math.pow(ot,3)},At=0;At<=1;){var Ne=Ct(At,0),Ue=Ct(At,1);if(Math.sqrt(Math.pow(Ne-Yt,2)+Math.pow(Ue-qt,2))<ft)return!0;At+=.01}return!1}(tt,et,it,$e,[me,ve],we);return st}if(He==="lineTo")return Be(ne,me,ve,"sharp");He==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(ge,Q,t){t.d(Q,{PK:function(){return G},Xx:function(){return le},bp:function(){return se},oA:function(){return k}});var w=t(2577),y=t(7169),f=t(8950),c=t(2975),j=t.n(c),A=t(2335),F=t(8211),o=t(1974);function z(pe,Ee){var ie=Object.keys(pe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(pe);Ee&&(de=de.filter(function(ye){return Object.getOwnPropertyDescriptor(pe,ye).enumerable})),ie.push.apply(ie,de)}return ie}function B(pe){for(var Ee=1;Ee<arguments.length;Ee++){var ie=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?z(Object(ie),!0).forEach(function(de){(0,y.Z)(pe,de,ie[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ie)):z(Object(ie)).forEach(function(de){Object.defineProperty(pe,de,Object.getOwnPropertyDescriptor(ie,de))})}return pe}var G=function(pe){return new Promise(function(Ee,ie){var de=new Image;de.onload=function(){Ee(de)},de.onerror=function(ye){ie(ye)},de.src=pe})},le=function(){var pe=(0,f.Z)(j().mark(function Ee(ie){var de,ye,I,J,g;return j().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return de=ie.fileIds,ye=ie.files,I=ie.imageCache,J=new Map,g=new Map,m.next=5,Promise.all(de.reduce(function(C,v){var u=ye[v];return u&&!J.has(v)?(J.set(v,!0),C.concat((0,f.Z)(j().mark(function s(){var n,e,i;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,u.mimeType!==A.LO.binary){a.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return n=G(u.dataURL),e={image:n,mimeType:u.mimeType},I.set(v,e),a.next=8,n;case 8:i=a.sent,I.set(v,B(B({},e),{},{image:i})),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),g.set(v,!0);case 15:case"end":return a.stop()}},s,null,[[0,12]])}))())):C},[]));case 5:return m.abrupt("return",{imageCache:I,updatedFiles:J,erroredFiles:g});case 6:case"end":return m.stop()}},Ee)}));return function(Ee){return pe.apply(this,arguments)}}(),k=function(pe){return pe.filter(function(Ee){return(0,o.wi)(Ee)})},se=function(){var pe=(0,f.Z)(j().mark(function Ee(ie){var de,ye,I,J,g,m,C;return j().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(de=new DOMParser().parseFromString(ie,A.LO.svg),ye=de.querySelector("svg"),!de.querySelector("parsererror")&&((u=ye)==null?void 0:u.nodeName.toLowerCase())==="svg"){v.next=7;break}throw new Error((0,F.t)("errors.invalidSVGString"));case 7:return ye.hasAttribute("xmlns")||ye.setAttribute("xmlns",A.hR),ye.hasAttribute("width")&&ye.hasAttribute("height")||(I=ye.getAttribute("viewBox"),J=ye.getAttribute("width")||"50",g=ye.getAttribute("height")||"50",I&&(m=I.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(C=(0,w.Z)(m,3),J=C[1],g=C[2]),ye.setAttribute("width",J),ye.setAttribute("height",g)),v.abrupt("return",ye.outerHTML);case 10:case"end":return v.stop()}var u},Ee)}));return function(Ee){return pe.apply(this,arguments)}}()},1047:function(ge,Q,t){t.d(Q,{ox:function(){return G.ox},BQ:function(){return fe},_M:function(){return q},EJ:function(){return n},o8:function(){return v},Sy:function(){return z.Sy},os:function(){return B.os},KP:function(){return B.KP},Un:function(){return I},$V:function(){return s},qf:function(){return B.qf},Pi:function(){return B.Pi},jt:function(){return ie},o4:function(){return F},Lm:function(){return te},Qp:function(){return o},T:function(){return J.T},xx:function(){return J.xx},Uo:function(){return T},n2:function(){return de},PC:function(){return G.PC},kK:function(){return G.kK},n_:function(){return X},wX:function(){return le.wX},r2:function(){return f.r2},wB:function(){return le.wB},QD:function(){return j},qP:function(){return R},iB:function(){return f.iB},Up:function(){return z.Up},vw:function(){return z.vw},y8:function(){return z.y8},VL:function(){return z.VL},oN:function(){return m.oN},JZ:function(){return z.JZ},RT:function(){return a},b_:function(){return e.b_},vY:function(){return J.vY},N_:function(){return z.N_}});var w=t(7169),y=t(1935),f=t(1974),c=t(2335),j=function(H){return(0,f.bt)(H)||(0,f.F9)(H)?H.points.length<2:H.width===0&&H.height===0},A=function(H,h,_){var W=Math.abs(h),M=Math.abs(_);if(H==="line"||H==="arrow"||H==="freedraw"){var re=Math.round(Math.atan(M/W)/c.ay)*c.ay;re===0?_=0:re===Math.PI/2?h=0:_=W*Math.tan(re)*Math.sign(_)||_}else H!=="selection"&&(_=W*Math.sign(_));return{width:h,height:_}},F=function(H,h,_,W){var M=_-H,re=W-h,O=Math.round(Math.atan(re/M)/c.ay)*c.ay;if(O===0)re=0;else if(O===Math.PI/2)M=0;else{var S=Math.tan(O),b=h-S*H,d=-1/S,x=W-d*_;M=(-1*x- -1*b)/(-1*S- -1*d)-H,re=(b*d-x*S)/(-1*S- -1*d)-h}return{width:M,height:re}},o=function(H){var h={width:H.width,height:H.height,x:H.x,y:H.y};if(H.width<0){var _=Math.abs(H.width);h.width=_,h.x=H.x-_}if(H.height<0){var W=Math.abs(H.height);h.height=W,h.y=H.y-W}return h},z=t(2791),B=t(8925),G=t(267),le=t(2325),k=t(2577),se=t(2726),pe=["rotation"],Ee=function(H,h,_){return h>=H[0]&&h<=H[0]+H[2]&&_>=H[1]&&_<=H[1]+H[3]},ie=function(H,h,_,W,M,re){return H.reduce(function(O,S){if(O)return O;var b=function(d,x,P,U,L,ce){if(!x.selectedElementIds[d.id])return!1;var ae=(0,G.PC)(d,L,ce),ue=ae.rotation,Ce=(0,se.Z)(ae,pe);if(ue&&Ee(ue,P,U))return"rotation";var Pe=Object.keys(Ce).filter(function(N){var Y=Ce[N];return!!Y&&Ee(Y,P,U)});return Pe.length>0&&Pe[0]}(S,h,_,W,M,re);return b?{element:S,transformHandleType:b}:null},null)},de=function(H,h,_,W,M){var re=(0,k.Z)(H,4),O=re[0],S=re[1],b=re[2],d=re[3],x=(0,G.kK)([O,S,b,d,(O+b)/2,(S+d)/2],0,W,M,G.ox);return Object.keys(x).find(function(P){var U=x[P];return U&&Ee(U,h,_)})||!1},ye=["ns","nesw","ew","nwse"],I=function(H){var h=H.element,_=H.transformHandleType,W=h&&Math.sign(h.height)*Math.sign(h.width)==-1,M=null;switch(_){case"n":case"s":M="ns";break;case"w":case"e":M="ew";break;case"nw":case"se":M=W?"nesw":"nwse";break;case"ne":case"sw":M=W?"nwse":"nesw";break;case"rotation":return"grab"}return M&&h&&(M=function(re,O){var S=ye.indexOf(re);if(S>=0){var b=Math.round(O/(Math.PI/4));re=ye[(S+b)%ye.length]}return re}(M,h.angle)),M?"".concat(M,"-resize"):""},J=t(8634),g=t(8290),m=t(5710),C=t(242),v=function(H,h,_,W){var M=arguments.length>4&&arguments[4]!==void 0&&arguments[4],re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,O=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,S=arguments.length>7?arguments[7]:void 0,b=(0,B.KP)(h),d=(0,k.Z)(b,2),x=d[0],P=d[1],U={x:_-x,y:W-P};h.forEach(function(L){if(u(M,re,O,H,L,U),!L.groupIds.length||S.editingGroupId&&!(0,C.zq)(S,L)){var ce=(0,m.WJ)(L);ce&&u(M,re,O,H,ce,U)}(0,g.Ww)(L,{simultaneouslyUpdated:h})})},u=function(H,h,_,W,M,re){var O,S;if(H){var b=H&&h<_,d=H&&h>_,x=W.originalElements.get(M.id);O=b&&x?x.x:M.x+re.x,S=d&&x?x.y:M.y+re.y}else O=M.x+re.x,S=M.y+re.y;(0,y.DR)(M,{x:O,y:S})},s=function(H,h,_){var W=(0,B.KP)(H),M=(0,k.Z)(W,2);return[h-M[0],_-M[1]]},n=function(H,h,_,W,M,re,O,S,b,d,x){if(b&&H.type!=="selection")if(x)S=O/x;else{if(Math.abs(re-W)>Math.abs(M-_)){var P=A(h,S,M<_?-O:O);O=P.width,S=P.height}else{var U=A(h,O,re<W?-S:S);O=U.width,S=U.height}S<0&&(S=-S)}var L=M<_?_-O:_,ce=re<W?W-S:W;d&&(L=_-(O+=O)/2,ce=W-(S+=S)/2),O!==0&&S!==0&&(0,y.DR)(H,{x:L,y:ce,width:O,height:S})},e=t(6906),i=t(75),a=function(H,h){return!!(!H.viewModeEnabled&&H.activeTool.type!=="custom"&&(H.editingElement||H.activeTool.type!=="selection"&&H.activeTool.type!=="eraser"&&H.activeTool.type!=="hand")||(0,i.eD)(h,H).length)};function l(H,h){var _=Object.keys(H);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(H);h&&(W=W.filter(function(M){return Object.getOwnPropertyDescriptor(H,M).enumerable})),_.push.apply(_,W)}return _}function p(H){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?l(Object(_),!0).forEach(function(W){(0,w.Z)(H,W,_[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(_)):l(Object(_)).forEach(function(W){Object.defineProperty(H,W,Object.getOwnPropertyDescriptor(_,W))})}return H}var T=function(H){return H.reduce(function(h,_){return h+_.version},0)},X=function(H){return H.filter(function(h){return!h.isDeleted&&!j(h)})},te=function(H){return H.filter(function(h){return!h.isDeleted})},R=function(H){return!H.isDeleted},D=function(H){return te(H).map(function(h){return(0,f.dt)(h.type)?p(p({},h),{},{lastCommittedPoint:null}):h})},fe=function(H){return D(H)},q=function(H){return D(H)}},6938:function(ge,Q,t){t.d(Q,{_:function(){return m}});var w=t(1930),y=t(7169),f=t(2577),c=t(8821),j=t(5169),A=t(6552),F=t(1047),o=t(8925),z=t(1935),B=t(1564),G=t(8290),le=t(6340),k=t(1974),se=t(6066),pe=t(5710),Ee=t(3063),ie=t(2335);function de(v,u){var s=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!s){if(Array.isArray(v)||(s=function(p,T){if(p){if(typeof p=="string")return ye(p,T);var X=Object.prototype.toString.call(p).slice(8,-1);if(X==="Object"&&p.constructor&&(X=p.constructor.name),X==="Map"||X==="Set")return Array.from(p);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ye(p,T)}}(v))||u){s&&(v=s);var n=0,e=function(){};return{s:e,n:function(){return n>=v.length?{done:!0}:{done:!1,value:v[n++]}},e:function(p){throw p},f:e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){s=s.call(v)},n:function(){var p=s.next();return a=p.done,p},e:function(p){l=!0,i=p},f:function(){try{a||s.return==null||s.return()}finally{if(l)throw i}}}}function ye(v,u){(u==null||u>v.length)&&(u=v.length);for(var s=0,n=new Array(u);s<u;s++)n[s]=v[s];return n}function I(v,u){var s=Object.keys(v);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(v);u&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(v,e).enumerable})),s.push.apply(s,n)}return s}function J(v){for(var u=1;u<arguments.length;u++){var s=arguments[u]!=null?arguments[u]:{};u%2?I(Object(s),!0).forEach(function(n){(0,y.Z)(v,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach(function(n){Object.defineProperty(v,n,Object.getOwnPropertyDescriptor(s,n))})}return v}var g={version:null,points:[],zoom:null},m=function(){function v(u,s){(0,c.Z)(this,v),this.elementId=u.id,B.Z.mapElementToScene(this.elementId,s),v.normalizePoints(u),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,j.Z)(v,null,[{key:"getElement",value:function(u){var s,n=(s=B.Z.getScene(u))===null||s===void 0?void 0:s.getNonDeletedElement(u);return n||null}},{key:"handleBoxSelection",value:function(u,s,n){var e;if(!s.editingLinearElement||((e=s.draggingElement)===null||e===void 0?void 0:e.type)!=="selection")return!1;var i=s.editingLinearElement,a=i.selectedPointsIndices,l=i.elementId,p=v.getElement(l);if(!p)return!1;var T=(0,F.qf)(s.draggingElement),X=(0,f.Z)(T,4),te=X[0],R=X[1],D=X[2],fe=X[3],q=v.getPointsGlobalCoordinates(p).reduce(function(H,h,_){return(h[0]>=te&&h[0]<=D&&h[1]>=R&&h[1]<=fe||u.shiftKey&&a!=null&&a.includes(_))&&H.push(_),H},[]);n({editingLinearElement:J(J({},i),{},{selectedPointsIndices:q.length?q:null})})}},{key:"handlePointDragging",value:function(u,s,n,e,i,a){if(!a)return!1;var l=a.selectedPointsIndices,p=a.elementId,T=v.getElement(p);if(!T)return!1;var X=T.points[a.pointerDownState.lastClickedPoint];if(l&&X){if((0,se.Ge)(u)&&l.length===1&&T.points.length>1){var te=l[0],R=T.points[te===0?1:te-1],D=v._getShiftLockedDelta(T,R,[n,e],s.gridSize),fe=(0,f.Z)(D,2),q=fe[0],H=fe[1];v.movePoints(T,[{index:te,point:[q+R[0],H+R[1]],isDragging:te===a.pointerDownState.lastClickedPoint}])}else{var h=v.createPointAt(T,n-a.pointerOffset.x,e-a.pointerOffset.y,s.gridSize),_=h[0]-X[0],W=h[1]-X[1];v.movePoints(T,l.map(function(O){return{index:O,point:O===a.pointerDownState.lastClickedPoint?v.createPointAt(T,n-a.pointerOffset.x,e-a.pointerOffset.y,s.gridSize):[T.points[O][0]+_,T.points[O][1]+W],isDragging:O===a.pointerDownState.lastClickedPoint}})),(0,pe.WJ)(T)&&(0,pe.RB)(T,!1)}if((0,k.Mn)(T,!1)){var M=[];l[0]===0&&M.push((0,le.AK)(v.getPointGlobalCoordinates(T,T.points[0])));var re=l[l.length-1];re===T.points.length-1&&M.push((0,le.AK)(v.getPointGlobalCoordinates(T,T.points[re]))),M.length&&i(T,M)}return!0}return!1}},{key:"handlePointerUp",value:function(u,s,n){var e,i=s.elementId,a=s.selectedPointsIndices,l=s.isDragging,p=s.pointerDownState,T=v.getElement(i);if(!T)return s;var X={};if(l&&a){var te,R=de(a);try{for(R.s();!(te=R.n()).done;){var D=te.value;if(D===0||D===T.points.length-1){(0,A.g6)(T.points,n.zoom.value)&&v.movePoints(T,[{index:D,point:D===0?T.points[T.points.length-1]:T.points[0]}]);var fe=(0,G.N1)(n)?(0,G.Y9)((0,le.AK)(v.getPointAtIndexGlobalCoordinates(T,D)),B.Z.getScene(T)):null;X[D===0?"startBindingElement":"endBindingElement"]=fe}}}catch(q){R.e(q)}finally{R.f()}}return J(J(J({},s),X),{},{selectedPointsIndices:l||u.shiftKey?!l&&u.shiftKey&&(e=p.prevSelectedPointsIndices)!==null&&e!==void 0&&e.includes(p.lastClickedPoint)?a&&a.filter(function(q){return q!==p.lastClickedPoint}):a:a!=null&&a.includes(p.lastClickedPoint)?[p.lastClickedPoint]:a,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(u,s,n,e){var i=(0,A.LW)(s[0],s[1],n[0],n[1]);return u.points.length>2&&u.roundness&&(i=(0,A.eH)(u,n)),i*e.value<4*v.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(u,s,n,e){var i=(0,A.H5)(s,n);if(u.points.length>2&&u.roundness){var a=(0,A.yB)(u,u.points[e]);if(a){var l=(0,A.lk)(u,u.points[e],.5),p=(0,A.N_)(a[0],a[1],a[2],a[3],l),T=(0,f.Z)(p,2),X=T[0],te=T[1];i=v.getPointGlobalCoordinates(u,[X,te])}}return i}},{key:"getSegmentMidPointIndex",value:function(u,s,n){var e=v.getElement(u.elementId);if(!e)return-1;for(var i=v.getEditorMidPoints(e,s),a=0;a<i.length;){if(v.arePointsEqual(n,i[a]))return a+1;a++}return-1}},{key:"handlePointerDown",value:function(u,s,n,e,i){var a,l={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!i)return l;var p=i.elementId,T=v.getElement(p);if(!T)return l;var X=v.getSegmentMidpointHitCoords(i,e,s),te=null;if(X&&(te=v.getSegmentMidPointIndex(i,s,X)),u.altKey&&s.editingLinearElement)return i.lastUncommittedPoint==null&&((0,z.DR)(T,{points:[].concat((0,w.Z)(T.points),[v.createPointAt(T,e.x,e.y,s.gridSize)])}),l.didAddPoint=!0),n.resumeRecording(),l.linearElementEditor=J(J({},i),{},{pointerDownState:{prevSelectedPointsIndices:i.selectedPointsIndices,lastClickedPoint:-1,origin:{x:e.x,y:e.y},segmentMidpoint:{value:X,index:te,added:!1}},selectedPointsIndices:[T.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,G.Y9)(e,B.Z.getScene(T))}),l.didAddPoint=!0,l;var R=v.getPointIndexUnderCursor(T,s.zoom,e.x,e.y);if(R>=0||X)l.hitElement=T;else{var D=i.startBindingElement,fe=i.endBindingElement;(0,G.N1)(s)&&(0,k.Mn)(T)&&(0,G.HG)(T,D,fe)}var q=(0,F.qf)(T),H=(0,f.Z)(q,4),h=H[0],_=H[1],W=(h+H[2])/2,M=(_+H[3])/2,re=R>-1&&(0,A.U1)(T.x+T.points[R][0],T.y+T.points[R][1],W,M,T.angle),O=R>-1||u.shiftKey?u.shiftKey||(a=i.selectedPointsIndices)!==null&&a!==void 0&&a.includes(R)?C([].concat((0,w.Z)(i.selectedPointsIndices||[]),[R])):[R]:null;return l.linearElementEditor=J(J({},i),{},{pointerDownState:{prevSelectedPointsIndices:i.selectedPointsIndices,lastClickedPoint:R,origin:{x:e.x,y:e.y},segmentMidpoint:{value:X,index:te,added:!1}},selectedPointsIndices:O,pointerOffset:re?{x:e.x-re[0],y:e.y-re[1]}:{x:0,y:0}}),l}},{key:"arePointsEqual",value:function(u,s){return!u&&!s||!(!u||!s)&&(0,A.Jj)(u,s)}},{key:"handlePointerMove",value:function(u,s,n,e){if(!e.editingLinearElement)return null;var i=e.editingLinearElement,a=i.elementId,l=i.lastUncommittedPoint,p=v.getElement(a);if(!p)return e.editingLinearElement;var T,X=p.points,te=X[X.length-1];if(!u.altKey)return te===l&&v.deletePoints(p,[X.length-1]),J(J({},e.editingLinearElement),{},{lastUncommittedPoint:null});if((0,se.Ge)(u)&&X.length>=2){var R=X[X.length-2],D=v._getShiftLockedDelta(p,R,[s,n],e.gridSize),fe=(0,f.Z)(D,2),q=fe[0],H=fe[1];T=[q+R[0],H+R[1]]}else T=v.createPointAt(p,s-e.editingLinearElement.pointerOffset.x,n-e.editingLinearElement.pointerOffset.y,e.gridSize);return te===l?v.movePoints(p,[{index:p.points.length-1,point:T}]):v.addPoints(p,e,[{point:T}]),J(J({},e.editingLinearElement),{},{lastUncommittedPoint:p.points[p.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(u,s){var n=(0,F.qf)(u),e=(0,f.Z)(n,4),i=e[0],a=e[1],l=(i+e[2])/2,p=(a+e[3])/2,T=u.x,X=u.y,te=(0,A.U1)(T+s[0],X+s[1],l,p,u.angle),R=(0,f.Z)(te,2);return[T=R[0],X=R[1]]}},{key:"getPointsGlobalCoordinates",value:function(u){var s=(0,F.qf)(u),n=(0,f.Z)(s,4),e=n[0],i=n[1],a=n[2],l=n[3],p=(e+a)/2,T=(i+l)/2;return u.points.map(function(X){var te=u.x,R=u.y,D=(0,A.U1)(te+X[0],R+X[1],p,T,u.angle),fe=(0,f.Z)(D,2);return[te=fe[0],R=fe[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(u,s){var n=s<0?u.points.length+s:s,e=(0,F.qf)(u),i=(0,f.Z)(e,4),a=i[0],l=i[1],p=(a+i[2])/2,T=(l+i[3])/2,X=u.points[n],te=u.x,R=u.y;return X?(0,A.U1)(te+X[0],R+X[1],p,T,u.angle):(0,A.U1)(te,R,p,T,u.angle)}},{key:"pointFromAbsoluteCoords",value:function(u,s){var n=(0,F.qf)(u),e=(0,f.Z)(n,4),i=e[0],a=e[1],l=(i+e[2])/2,p=(a+e[3])/2,T=(0,A.U1)(s[0],s[1],l,p,-u.angle),X=(0,f.Z)(T,2),te=X[0],R=X[1];return[te-u.x,R-u.y]}},{key:"getPointIndexUnderCursor",value:function(u,s,n,e){for(var i=v.getPointsGlobalCoordinates(u),a=i.length;--a>-1;){var l=i[a];if((0,A.LW)(n,e,l[0],l[1])*s.value<v.POINT_HANDLE_SIZE+1)return a}return-1}},{key:"createPointAt",value:function(u,s,n,e){var i=(0,A.wC)(s,n,e),a=(0,F.qf)(u),l=(0,f.Z)(a,4),p=l[0],T=l[1],X=(p+l[2])/2,te=(T+l[3])/2,R=(0,A.U1)(i[0],i[1],X,te,-u.angle),D=(0,f.Z)(R,2),fe=D[0],q=D[1];return[fe-u.x,q-u.y]}},{key:"getNormalizedPoints",value:function(u){var s=u.points,n=s[0][0],e=s[0][1];return{points:s.map(function(i,a){return[i[0]-n,i[1]-e]}),x:u.x+n,y:u.y+e}}},{key:"normalizePoints",value:function(u){(0,z.DR)(u,v.getNormalizedPoints(u))}},{key:"duplicateSelectedPoints",value:function(u){if(!u.editingLinearElement)return!1;var s=u.editingLinearElement,n=s.selectedPointsIndices,e=s.elementId,i=v.getElement(e);if(!i||n===null)return!1;var a=i.points,l=[],p=!1,T=-1,X=a.reduce(function(R,D,fe){if(++T,R.push(D),n.includes(fe)){var q=a[fe+1];q||(p=!0),R.push(q?[(D[0]+q[0])/2,(D[1]+q[1])/2]:[D[0],D[1]]),l.push(T+1),++T}return R},[]);if((0,z.DR)(i,{points:X}),p){var te=i.points[i.points.length-1];v.movePoints(i,[{index:i.points.length-1,point:[te[0]+30,te[1]+30]}])}return{appState:J(J({},u),{},{editingLinearElement:J(J({},u.editingLinearElement),{},{selectedPointsIndices:l})})}}},{key:"deletePoints",value:function(u,s){var n=0,e=0;if(s.includes(0)){var i=u.points.find(function(l,p){return!s.includes(p)});i&&(n=i[0],e=i[1])}var a=u.points.reduce(function(l,p,T){return s.includes(T)||l.push(l.length?[p[0]-n,p[1]-e]:[0,0]),l},[]);v._updatePoints(u,a,n,e)}},{key:"addPoints",value:function(u,s,n){var e=[].concat((0,w.Z)(u.points),(0,w.Z)(n.map(function(i){return i.point})));v._updatePoints(u,e,0,0)}},{key:"movePoints",value:function(u,s,n){var e=u.points,i=0,a=0,l=s.find(function(T){return T.index===0});l&&(i=l.point[0]+e[l.index][0],a=l.point[1]+e[l.index][1]);var p=e.map(function(T,X){var te=s.find(function(fe){return fe.index===X});if(te){if(l)return T;var R=te.point[0]-e[te.index][0],D=te.point[1]-e[te.index][1];return[T[0]+R,T[1]+D]}return i||a?[T[0]-i,T[1]-a]:T});v._updatePoints(u,p,i,a,n)}},{key:"shouldAddMidpoint",value:function(u,s,n){if(!v.getElement(u.elementId))return!1;var e=u.pointerDownState.segmentMidpoint;if(e.added||e.value===null||e.index===null||u.pointerDownState.origin===null)return!1;var i=u.pointerDownState.origin,a=(0,A.LW)(i.x,i.y,s.x,s.y);return!(!n.editingLinearElement&&a<ie.f/n.zoom.value)}},{key:"addMidpoint",value:function(u,s,n){var e=v.getElement(u.elementId);if(e){var i=u.pointerDownState.segmentMidpoint,a={pointerDownState:u.pointerDownState,selectedPointsIndices:u.selectedPointsIndices},l=v.createPointAt(e,s.x,s.y,n.gridSize),p=[].concat((0,w.Z)(e.points.slice(0,i.index)),[l],(0,w.Z)(e.points.slice(i.index)));return(0,z.DR)(e,{points:p}),a.pointerDownState=J(J({},u.pointerDownState),{},{segmentMidpoint:J(J({},u.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:i.index}),a.selectedPointsIndices=[i.index],a}}},{key:"_updatePoints",value:function(u,s,n,e,i){var a=(0,o.Ut)(u,s),l=(0,o.Ut)(u,u.points),p=(a[0]+a[2])/2,T=(a[1]+a[3])/2,X=(l[0]+l[2])/2-p,te=(l[1]+l[3])/2-T,R=(0,A.U1)(n,e,X,te,u.angle);(0,z.DR)(u,J(J({},i),{},{points:s,x:u.x+R[0],y:u.y+R[1]}))}},{key:"_getShiftLockedDelta",value:function(u,s,n,e){var i=v.getPointGlobalCoordinates(u,s),a=(0,A.wC)(n[0],n[1],e),l=(0,f.Z)(a,2),p=l[0],T=l[1],X=(0,F.o4)(i[0],i[1],p,T),te=X.width,R=X.height;return(0,A.xj)([te,R],[0,0],-u.angle)}}]),v}();m.POINT_HANDLE_SIZE=10,m.getEditorMidPoints=function(v,u){var s=(0,pe.WJ)(v);return!u.editingLinearElement&&v.points.length>2&&!s?[]:(g.version===v.version&&g.zoom===u.zoom.value||m.updateEditorMidPointsCache(v,u),g.points)},m.updateEditorMidPointsCache=function(v,u){for(var s=m.getPointsGlobalCoordinates(v),n=0,e=[];n<s.length-1;)if(m.isSegmentTooShort(v,v.points[n],v.points[n+1],u.zoom))e.push(null),n++;else{var i=m.getSegmentMidPoint(v,s[n],s[n+1],n+1);e.push(i),n++}g.points=e,g.version=v.version,g.zoom=u.zoom.value},m.getSegmentMidpointHitCoords=function(v,u,s){var n=v.elementId,e=m.getElement(n);if(!e||m.getPointIndexUnderCursor(e,s.zoom,u.x,u.y)>=0||m.getPointsGlobalCoordinates(e).length>=3&&!s.editingLinearElement)return null;var i=m.POINT_HANDLE_SIZE/s.zoom.value,a=v.segmentMidPointHoveredCoords;if(a&&(0,A.LW)(a[0],a[1],u.x,u.y)<=i)return a;for(var l=0,p=m.getEditorMidPoints(e,s);l<p.length;){if(p[l]!==null&&(0,A.LW)(p[l][0],p[l][1],u.x,u.y)<=i)return p[l];l++}return null},m.getBoundTextElementPosition=function(v,u){var s=m.getPointsGlobalCoordinates(v);s.length<2&&(0,z.DR)(u,{isDeleted:!0});var n=0,e=0;if(v.points.length%2==1){var i=Math.floor(v.points.length/2),a=m.getPointGlobalCoordinates(v,v.points[i]);n=a[0]-u.width/2,e=a[1]-u.height/2}else{var l=v.points.length/2-1,p=g.points[l];v.points.length===2&&(p=(0,A.H5)(s[0],s[1])),p&&g.version===v.version||(p=m.getSegmentMidPoint(v,s[l],s[l+1],l+1)),n=p[0]-u.width/2,e=p[1]-u.height/2}return{x:n,y:e}},m.getMinMaxXYWithBoundText=function(v,u,s){var n=(0,f.Z)(u,4),e=n[0],i=n[1],a=n[2],l=n[3],p=(e+a)/2,T=(i+l)/2,X=m.getBoundTextElementPosition(v,s),te=X.x,R=X.y,D=te+s.width,fe=R+s.height,q=(0,A.xj)([e,i],[p,T],v.angle),H=(0,A.xj)([a,i],[p,T],v.angle),h=(0,A.xj)([te,R],[p,T],-v.angle),_=(0,A.xj)([D,R],[p,T],-v.angle),W=(0,A.xj)([te,fe],[p,T],-v.angle),M=(0,A.xj)([D,fe],[p,T],-v.angle);return q[0]<H[0]&&q[1]>=H[1]?(e=Math.min(e,W[0]),a=Math.max(a,Math.max(_[0],M[0])),i=Math.min(i,h[1]),l=Math.max(l,M[1])):q[0]>=H[0]&&q[1]>H[1]?(e=Math.min(e,M[0]),a=Math.max(a,Math.max(h[0],_[0])),i=Math.min(i,W[1]),l=Math.max(l,_[1])):q[0]>=H[0]?(e=Math.min(e,_[0]),a=Math.max(a,W[0]),i=Math.min(i,M[1]),l=Math.max(l,h[1])):q[1]<=H[1]&&(e=Math.min(e,Math.min(_[0],h[0])),a=Math.max(a,M[0]),i=Math.min(i,_[1]),l=Math.max(l,W[1])),[e,i,a,l,p,T]},m.getElementAbsoluteCoords=function(v){var u,s,n,e,i,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(v.points.length<2||!(0,Ee.R2)(v)){var l=v.points.reduce(function(S,b){var d=(0,f.Z)(b,2),x=d[0],P=d[1];return S.minY=Math.min(S.minY,P),S.minX=Math.min(S.minX,x),S.maxX=Math.max(S.maxX,x),S.maxY=Math.max(S.maxY,P),S},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),p=l.minX,T=l.minY,X=l.maxX,te=l.maxY;s=p+v.x,n=T+v.y,e=X+v.x,i=te+v.y}else{var R=(0,Ee.R2)(v),D=(0,o.CM)(R[0]),fe=(0,o.IX)(D),q=(0,f.Z)(fe,4),H=q[0],h=q[1],_=q[2],W=q[3];s=H+v.x,n=h+v.y,e=_+v.x,i=W+v.y}var M=(s+e)/2,re=(n+i)/2;if(u=[s,n,e,i,M,re],!a)return u;var O=(0,pe.WJ)(v);return O&&(u=m.getMinMaxXYWithBoundText(v,[s,n,e,i],O)),u};var C=function(v){var u=(0,w.Z)(new Set(v.filter(function(s){return s!==null&&s!==-1})));return(u=u.sort(function(s,n){return s-n})).length?u:null}},1935:function(ge,Q,t){t.d(Q,{BE:function(){return G},DR:function(){return B},ZP:function(){return le}});var w=t(6655),y=t(7169),f=t(3063),c=t(1564),j=t(5001),A=t(6954),F=t(6340);function o(k,se){var pe=Object.keys(k);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(k);se&&(Ee=Ee.filter(function(ie){return Object.getOwnPropertyDescriptor(k,ie).enumerable})),pe.push.apply(pe,Ee)}return pe}function z(k){for(var se=1;se<arguments.length;se++){var pe=arguments[se]!=null?arguments[se]:{};se%2?o(Object(pe),!0).forEach(function(Ee){(0,y.Z)(k,Ee,pe[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(pe)):o(Object(pe)).forEach(function(Ee){Object.defineProperty(k,Ee,Object.getOwnPropertyDescriptor(pe,Ee))})}return k}var B=function(k,se){var pe,Ee=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ie=!1,de=se,ye=de.points,I=de.fileId;for(var J in ye!==void 0&&(se=z(z({},(0,j.k)(ye)),se)),se){var g=se[J];if(g!==void 0){if(k[J]===g&&((0,w.Z)(g)!=="object"||g===null||J==="groupIds"||J==="scale"))continue;if(J==="scale"){var m=k[J],C=g;if(m[0]===C[0]&&m[1]===C[1])continue}else if(J==="points"){var v=k[J],u=g;if(v.length===u.length){for(var s=!1,n=v.length;--n;){var e=v[n],i=u[n];if(e[0]!==i[0]||e[1]!==i[1]){s=!0;break}}if(!s)continue}}k[J]=g,ie=!0}}return ie&&(se.height===void 0&&se.width===void 0&&I===void 0&&ye===void 0||(0,f.bI)(k),k.version++,k.versionNonce=(0,A.LU)(),k.updated=(0,F.C3)(),Ee&&((pe=c.Z.getScene(k))===null||pe===void 0||pe.informMutation())),k},G=function(k,se){var pe=!1;for(var Ee in se){var ie=se[Ee];if(ie!==void 0){if(k[Ee]===ie&&((0,w.Z)(ie)!=="object"||ie===null))continue;pe=!0}}return pe?z(z(z({},k),se),{},{updated:(0,F.C3)(),version:k.version+1,versionNonce:(0,A.LU)()}):k},le=function(k,se){return k.version=(se??k.version)+1,k.versionNonce=(0,A.LU)(),k.updated=(0,F.C3)(),k}},2791:function(ge,Q,t){t.d(Q,{JZ:function(){return m},KE:function(){return s},N2:function(){return v},N_:function(){return u},OL:function(){return i},Sy:function(){return a},Up:function(){return ye},VL:function(){return J},jd:function(){return C},vw:function(){return e},y8:function(){return n}});var w=t(6655),y=t(2577),f=t(7169),c=t(2726),j=t(6340),A=t(6954),F=t(1935),o=t(242),z=t(1047),B=t(6552),G=t(8925),le=t(5710),k=t(2335),se=t(1974),pe=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function Ee(l,p){var T=Object.keys(l);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(l);p&&(X=X.filter(function(te){return Object.getOwnPropertyDescriptor(l,te).enumerable})),T.push.apply(T,X)}return T}function ie(l){for(var p=1;p<arguments.length;p++){var T=arguments[p]!=null?arguments[p]:{};p%2?Ee(Object(T),!0).forEach(function(X){(0,f.Z)(l,X,T[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(T)):Ee(Object(T)).forEach(function(X){Object.defineProperty(l,X,Object.getOwnPropertyDescriptor(T,X))})}return l}var de=function(l,p){var T,X,te=p.x,R=p.y,D=p.strokeColor,fe=p.backgroundColor,q=p.fillStyle,H=p.strokeWidth,h=p.strokeStyle,_=p.roughness,W=p.opacity,M=p.width,re=M===void 0?0:M,O=p.height,S=O===void 0?0:O,b=p.angle,d=b===void 0?0:b,x=p.groupIds,P=x===void 0?[]:x,U=p.roundness,L=U===void 0?null:U,ce=p.boundElements,ae=ce===void 0?null:ce,ue=p.link,Ce=ue===void 0?null:ue,Pe=p.locked,N=(0,c.Z)(p,pe);return{id:N.id||(0,A.kb)(),type:l,x:te,y:R,width:re,height:S,angle:d,strokeColor:D,backgroundColor:fe,fillStyle:q,strokeWidth:H,strokeStyle:h,roughness:_,opacity:W,groupIds:P,roundness:L,seed:(T=N.seed)!==null&&T!==void 0?T:(0,A.LU)(),version:N.version||1,versionNonce:(X=N.versionNonce)!==null&&X!==void 0?X:0,isDeleted:!1,boundElements:ae,updated:(0,j.C3)(),link:Ce,locked:Pe}},ye=function(l){return de(l.type,l)},I=function(l,p){return{x:l.textAlign==="center"?p.width/2:l.textAlign==="right"?p.width:0,y:l.verticalAlign==="middle"?p.height/2:0}},J=function(l){var p=(0,le.bG)(l.text),T=(0,le.X1)(p,(0,j.mO)(l)),X=I(l,T);return(0,F.BE)(ie(ie({},de("text",l)),{},{text:p,fontSize:l.fontSize,fontFamily:l.fontFamily,textAlign:l.textAlign,verticalAlign:l.verticalAlign,x:l.x-X.x,y:l.y-X.y,width:T.width,height:T.height,baseline:T.baseline,containerId:l.containerId||null,originalText:p}),{})},g=function(l,p){var T=null,X=(0,le.tl)(l);X&&(T=C(X));var te,R,D=(0,le.X1)(p,(0,j.mO)(l),T),fe=D.width,q=D.height,H=D.baseline,h=l.textAlign,_=l.verticalAlign;if(h!=="center"||_!==k.oX.MIDDLE||l.containerId){var W=(0,z.qf)(l),M=(0,y.Z)(W,4),re=M[0],O=M[1],S=M[2],b=M[3],d=(0,G.wC)(l,fe,q,!1),x=(0,y.Z)(d,4),P=(re-x[0])/2,U=(O-x[1])/2,L=(S-x[2])/2,ce=(b-x[3])/2,ae=(0,B.yq)({s:!0,e:h==="center"||h==="left",w:h==="center"||h==="right"},l.x,l.y,l.angle,P,U,L,ce),ue=(0,y.Z)(ae,2);te=ue[0],R=ue[1]}else{var Ce=(0,le.X1)(l.text,(0,j.mO)(l),T),Pe=I(l,{width:fe-Ce.width,height:q-Ce.height});te=l.x-Pe.x,R=l.y-Pe.y}if(X){var N=(0,le.S)(l),Y=(0,le.HE)(X),$=Y.height,xe=Y.width;q>$-2*N&&($=q+2*N),fe>xe-2*N&&(xe=fe+2*N),(0,se.Yv)(X)||$===Y.height&&xe===Y.width||(0,F.DR)(X,{height:$,width:xe})}return{width:fe,height:q,x:Number.isFinite(te)?te:l.x,y:Number.isFinite(R)?R:l.y,baseline:H}},m=function(l){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.text,T=(0,le.tl)(l);T&&(p=(0,le.lD)(p,(0,j.mO)(l),C(T)));var X=g(l,p);return ie({text:p},X)},C=function(l){var p=(0,le.HE)(l).width;if((0,se.Yv)(l)){var T=p-8*k.gK*2;if(T<=0){var X=(0,le.WJ)(l);return X?X.width:8*k.gK*2}return T}return p-2*k.gK},v=function(l){var p=(0,le.HE)(l).height;if((0,se.Yv)(l)){if(p-8*k.gK*2<=0){var T=(0,le.WJ)(l);return T?T.height:8*k.gK*2}return p}return p-2*k.gK},u=function(l,p){p.text;var T=p.isDeleted,X=p.originalText;return(0,F.BE)(l,ie({originalText:X,isDeleted:T??l.isDeleted},m(l,X)))},s=function(l){return ie(ie({},de(l.type,l)),{},{points:l.points||[],pressures:[],simulatePressure:l.simulatePressure,lastCommittedPoint:null})},n=function(l){return ie(ie({},de(l.type,l)),{},{points:l.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:l.startArrowhead,endArrowhead:l.endArrowhead})},e=function(l){var p,T,X;return ie(ie({},de("image",l)),{},{strokeColor:"transparent",status:(p=l.status)!==null&&p!==void 0?p:"pending",fileId:(T=l.fileId)!==null&&T!==void 0?T:null,scale:(X=l.scale)!==null&&X!==void 0?X:[1,1]})},i=function l(p){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(p==null||(0,w.Z)(p)!=="object")return p;if(Object.prototype.toString.call(p)==="[object Object]"){var X=typeof p.constructor=="function"?Object.create(Object.getPrototypeOf(p)):{};for(var te in p)if(p.hasOwnProperty(te)){if(T===0&&(te==="shape"||te==="canvas"))continue;X[te]=l(p[te],T+1)}return X}if(Array.isArray(p)){for(var R=p.length,D=new Array(R);R--;)D[R]=l(p[R],T+1);return D}return p},a=function(l,p,T,X){var te,R,D=i(T);return(0,j.h2)()?(D.id="".concat(D.id,"_copy"),(te=window.h)!==null&&te!==void 0&&(R=te.app)!==null&&R!==void 0&&R.getSceneElementsIncludingDeleted().find(function(fe){return fe.id===D.id})&&(D.id+="_copy")):D.id=(0,A.kb)(),D.boundElements=null,D.updated=(0,j.C3)(),D.seed=(0,A.LU)(),D.groupIds=(0,o.Qy)(D.groupIds,l,function(fe){return p.has(fe)||p.set(fe,(0,A.kb)()),p.get(fe)}),X&&(D=Object.assign(D,X)),D}},8634:function(ge,Q,t){t.d(Q,{LW:function(){return Ee},T:function(){return v},l2:function(){return J},vY:function(){return ie},xx:function(){return C}});var w=t(7169),y=t(1930),f=t(2577),c=t(2335),j=t(5001),A=t(6552),F=t(8925),o=t(1974),z=t(1935),B=t(6340),G=t(8290),le=t(1564),k=t(5710),se=t(2791);function pe(u,s){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);s&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(u,i).enumerable})),n.push.apply(n,e)}return n}var Ee=function(u){return u>=2*Math.PI?u-2*Math.PI:u},ie=function(u,s,n,e,i,a,l,p,T,X,te){if(n.length===1){var R=(0,f.Z)(n,1)[0];return s==="rotation"?(de(R,p,T,i,u.originalElements),(0,G.Ww)(R)):!(0,o.iB)(R)||s!=="nw"&&s!=="ne"&&s!=="sw"&&s!=="se"?s&&J(u.originalElements,l,R,s,a,p,T):(I(R,s,a,p,T),(0,G.Ww)(R)),!0}if(n.length>1){if(s==="rotation")return m(u,n,p,T,i,X,te),!0;if(s==="nw"||s==="ne"||s==="sw"||s==="se")return g(u,n,s,a,p,T),!0}return!1},de=function(u,s,n,e,i){var a=(0,F.qf)(u),l=(0,f.Z)(a,4),p=l[0],T=l[1],X=(p+l[2])/2,te=(T+l[3])/2,R=5*Math.PI/2+Math.atan2(n-te,s-X);e&&(R+=c.ay/2,R-=R%c.ay),R=Ee(R);var D=(0,k.xB)(u);if((0,z.DR)(u,{angle:R}),D){var fe,q=(fe=le.Z.getScene(u))===null||fe===void 0?void 0:fe.getElement(D);q&&!(0,o.Yv)(u)&&(0,z.DR)(q,{angle:R})}},ye=function(u,s,n){var e=u.width;if((0,o.Xh)(u)){var i=(0,k.tl)(u);i&&(e=(0,se.jd)(i))}var a=u.fontSize*(s/e);if(a<1)return null;var l=(0,k.X1)(u.text,(0,B.mO)({fontSize:a,fontFamily:u.fontFamily}),u.containerId?e:null);return{size:a,baseline:l.baseline+(n-l.height)}},I=function(u,s,n,e,i){var a,l=(0,F.qf)(u),p=(0,f.Z)(l,4),T=p[0],X=p[1],te=p[2],R=p[3],D=(T+te)/2,fe=(X+R)/2,q=(0,A.U1)(e,i,D,fe,-u.angle),H=(0,f.Z)(q,2),h=H[0],_=H[1];switch(s){case"se":a=Math.max((h-T)/(te-T),(_-X)/(R-X));break;case"nw":a=Math.max((te-h)/(te-T),(R-_)/(R-X));break;case"ne":a=Math.max((h-T)/(te-T),(R-_)/(R-X));break;case"sw":a=Math.max((te-h)/(te-T),(_-X)/(R-X))}if(a>0){var W=u.width*a,M=u.height*a,re=ye(u,W,M);if(re===null)return;var O=(0,F.wC)(u,W,M,!1),S=(0,f.Z)(O,4),b=(T-S[0])/2,d=(X-S[1])/2,x=(te-S[2])/2,P=(R-S[3])/2,U=(0,A.yq)(function(ue,Ce){return{n:/^(n|ne|nw)$/.test(ue)||Ce&&/^(s|se|sw)$/.test(ue),s:/^(s|se|sw)$/.test(ue)||Ce&&/^(n|ne|nw)$/.test(ue),w:/^(w|nw|sw)$/.test(ue)||Ce&&/^(e|ne|se)$/.test(ue),e:/^(e|ne|se)$/.test(ue)||Ce&&/^(w|nw|sw)$/.test(ue)}}(s,n),u.x,u.y,u.angle,b,d,x,P),L=(0,f.Z)(U,2),ce=L[0],ae=L[1];(0,z.DR)(u,{fontSize:re.size,width:W,height:M,baseline:re.baseline,x:ce,y:ae})}},J=function(u,s,n,e,i,a,l){var p=u.get(n.id),T=(0,F.wC)(p,p.width,p.height,!0),X=(0,f.Z)(T,4),te=[X[0],X[1]],R=[X[2],X[3]],D=(0,A.H5)(te,R),fe=(0,A.xj)([a,l],D,-p.angle),q=(0,F.wC)(n,n.width,n.height,!0),H=(0,f.Z)(q,4),h=H[0],_=H[1],W=H[2]-h,M=H[3]-_,re=(R[0]-te[0])/W,O=(R[1]-te[1])/M,S={},b=(0,k.WJ)(n);e.includes("e")&&(re=(fe[0]-te[0])/W),e.includes("s")&&(O=(fe[1]-te[1])/M),e.includes("w")&&(re=(R[0]-fe[0])/W),e.includes("n")&&(O=(R[1]-fe[1])/M);var d=p.width,x=p.height,P=n.width*re,U=n.height*O;if(i&&(P=2*P-d,U=2*U-x),s){var L=Math.abs(P)/d,ce=Math.abs(U)/x;if(e.length===1&&(U*=L,P*=ce),e.length===2){var ae=Math.max(L,ce);P=d*ae*Math.sign(P),U=x*ae*Math.sign(U)}}if(b){var ue=u.get(b.id);if(ue&&(S={fontSize:ue.fontSize,baseline:ue.baseline}),s){var Ce=(0,k.S)(b),Pe=ye(b,P-2*Ce,U-2*Ce);if(Pe===null)return;S={fontSize:Pe.size,baseline:Pe.baseline}}else{var N=(0,k.AT)((0,B.mO)(b)),Y=(0,k.w_)((0,B.mO)(b));P=Math.ceil(Math.max(P,N)),U=Math.ceil(Math.max(U,Y))}}var $=(0,F.wC)(p,P,U,!0),xe=(0,f.Z)($,4),Oe=xe[0],Ze=xe[1],Fe=xe[2],Je=xe[3],Ke=Fe-Oe,Be=Je-Ze,Le=[].concat(te);if(["n","w","nw"].includes(e)&&(Le=[R[0]-Math.abs(Ke),R[1]-Math.abs(Be)]),e==="ne"){var ne=[te[0],R[1]];Le=[ne[0],ne[1]-Math.abs(Be)]}if(e==="sw"){var me=[R[0],te[1]];Le=[me[0]-Math.abs(Ke),me[1]]}s&&(["s","n"].includes(e)&&(Le[0]=D[0]-Ke/2),["e","w"].includes(e)&&(Le[1]=D[1]-Be/2)),P<0&&(e.includes("e")&&(Le[0]-=Math.abs(Ke)),e.includes("w")&&(Le[0]+=Math.abs(Ke))),U<0&&(e.includes("s")&&(Le[1]-=Math.abs(Be)),e.includes("n")&&(Le[1]+=Math.abs(Be))),i&&(Le[0]=D[0]-Math.abs(Ke)/2,Le[1]=D[1]-Math.abs(Be)/2);var ve,we,Me=p.angle,Te=(0,A.xj)(Le,D,Me),ze=[Le[0]+Math.abs(Ke)/2,Le[1]+Math.abs(Be)/2],We=(0,A.xj)(ze,D,Me);Le=(0,A.xj)(Te,We,-Me),((0,o.bt)(n)||(0,o.F9)(n))&&(ve=(0,j.z)(1,U,p.points,!0),we=(0,j.z)(0,P,ve,!0));var He=(0,y.Z)(Le);He[0]+=p.x-Oe,He[1]+=p.y-Ze;var Ye={width:Math.abs(P),height:Math.abs(U),x:He[0],y:He[1],points:we};"scale"in n&&"scale"in p&&(0,z.DR)(n,{scale:[(Math.sign(Fe-p.x)||p.scale[0])*p.scale[0],(Math.sign(Je-p.y)||p.scale[1])*p.scale[1]]}),Ye.width!==0&&Ye.height!==0&&Number.isFinite(Ye.x)&&Number.isFinite(Ye.y)&&((0,G.Ww)(n,{newSize:{width:Ye.width,height:Ye.height}}),(0,z.DR)(n,Ye),b&&S&&(0,z.DR)(b,{fontSize:S.fontSize}),(0,k.RB)(n,e))},g=function(u,s,n,e,i,a){var l=s.reduce(function(d,x){var P=u.originalElements.get(x.id);return P&&d.push({orig:P,latest:x}),d},[]),p=(0,F.v2)(l.map(function(d){return d.orig})),T=p.minX,X=p.minY,te=p.maxX,R=p.maxY,D=p.midX,fe=p.midY,q=n,H=e?[D,fe]:{ne:[T,R],se:[T,X],sw:[te,X],nw:[te,R]}[q],h=(0,f.Z)(H,2),_=h[0],W=h[1],M={ne:[i>=_,a<=W],se:[i>=_,a>=W],sw:[i<=_,a>=W],nw:[i<=_,a<=W]}[q].map(function(d){return d?1:-1}),re=(0,f.Z)(M,2),O=re[0],S=re[1];if(!(O<0&&S<0)){var b=Math.max(O*Math.abs(i-_)/(te-T),S*Math.abs(a-W)/(R-X))*(e?2:1);b!==0&&l.forEach(function(d){var x=d.orig.width*b,P=d.orig.height*b,U=_+(d.orig.x-_)*b,L=W+(d.orig.y-W)*b,ce=function(Y,$,xe,Oe){return(0,o.bt)(Y)||(0,o.F9)(Y)?{points:(0,j.z)(0,$,(0,j.z)(1,xe,Y.points,Oe),Oe)}:{}}(d.orig,x,P,!1),ae=function(Y){for(var $=1;$<arguments.length;$++){var xe=arguments[$]!=null?arguments[$]:{};$%2?pe(Object(xe),!0).forEach(function(Oe){(0,w.Z)(Y,Oe,xe[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(xe)):pe(Object(xe)).forEach(function(Oe){Object.defineProperty(Y,Oe,Object.getOwnPropertyDescriptor(xe,Oe))})}return Y}({width:x,height:P,x:U,y:L},ce),ue=null,Ce=(0,k.WJ)(d.latest);if(Ce||(0,o.iB)(d.orig)){var Pe=2*(0,k.S)(Ce),N=ye(Ce??d.orig,x-Pe,P-Pe);if(!N)return;(0,o.iB)(d.orig)&&(ae.fontSize=N.size,ae.baseline=N.baseline),Ce&&(ue={fontSize:N.size,baseline:N.baseline})}(0,G.Ww)(d.latest,{newSize:{width:x,height:P}}),(0,z.DR)(d.latest,ae),Ce&&ue&&((0,z.DR)(Ce,ue),(0,k.RB)(d.latest,n))})}},m=function(u,s,n,e,i,a,l){var p=5*Math.PI/2+Math.atan2(e-l,n-a);i&&(p+=c.ay/2,p-=p%c.ay),s.forEach(function(T){var X,te,R=(0,F.qf)(T),D=(0,f.Z)(R,4),fe=D[0],q=D[1],H=(fe+D[2])/2,h=(q+D[3])/2,_=(X=(te=u.originalElements.get(T.id))===null||te===void 0?void 0:te.angle)!==null&&X!==void 0?X:T.angle,W=(0,A.U1)(H,h,a,l,p+_-T.angle),M=(0,f.Z)(W,2),re=M[0],O=M[1];(0,z.DR)(T,{x:T.x+(re-H),y:T.y+(O-h),angle:Ee(p+_)});var S=(0,k.xB)(T);if(S){var b,d=(b=le.Z.getScene(T))===null||b===void 0?void 0:b.getElement(S);d&&!(0,o.Yv)(T)&&(0,z.DR)(d,{x:d.x+(re-H),y:d.y+(O-h),angle:Ee(p+_)})}})},C=function(u,s,n,e){var i=s.length===1?(0,F.qf)(s[0]):(0,F.KP)(s),a=(0,f.Z)(i,4),l=a[0],p=a[1],T=a[2],X=a[3],te=(l+T)/2,R=(p+X)/2,D=s.length===1?s[0].angle:0,fe=(0,A.U1)(n,e,te,R,-D),q=(0,f.Z)(fe,2);switch(n=q[0],e=q[1],u){case"n":return(0,A.U1)(n-(l+T)/2,e-p,0,0,D);case"s":return(0,A.U1)(n-(l+T)/2,e-X,0,0,D);case"w":return(0,A.U1)(n-l,e-(p+X)/2,0,0,D);case"e":return(0,A.U1)(n-T,e-(p+X)/2,0,0,D);case"nw":return(0,A.U1)(n-l,e-p,0,0,D);case"ne":return(0,A.U1)(n-T,e-p,0,0,D);case"sw":return(0,A.U1)(n-l,e-X,0,0,D);case"se":return(0,A.U1)(n-T,e-X,0,0,D);default:return[0,0]}},v=function(u,s){var n=(0,f.Z)(s.points,2),e=(0,f.Z)(n[1],2),i=e[0],a=e[1];return u==="nw"&&(i<0||a<0)||u==="ne"&&i>=0||u==="sw"&&i<=0||u==="se"&&(i>0||a>0)?"end":"origin"}},5710:function(ge,Q,t){t.d(Q,{AT:function(){return e},HE:function(){return X},H_:function(){return R},OW:function(){return q},P7:function(){return de},RB:function(){return ye},S:function(){return D},TP:function(){return te},WJ:function(){return p},X1:function(){return J},Zr:function(){return H},bG:function(){return Ee},cn:function(){return fe},hP:function(){return C},lD:function(){return s},mY:function(){return u},oN:function(){return ie},tl:function(){return T},w_:function(){return i},xB:function(){return l}});var w,y,f=t(2577),c=t(1930),j=t(6340),A=t(1935),F=t(2335),o=t(1564),z=t(1047),B=t(2791),G=t(1974),le=t(6938),k=t(75),se=t(2325),pe=t(6906),Ee=function(h){return h.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},ie=function(h,_){var W=void 0,M=h.text;_&&(W=(0,B.jd)(_),M=s(h.originalText,(0,j.mO)(h),W));var re=J(M,(0,j.mO)(h),W),O=h.y,S=h.x;if(_)if((0,G.Yv)(_)){var b=h.x+h.width/2,d=h.y+h.height/2,x=re.width-h.width,P=re.height-h.height;O=d-(h.height+P)/2,S=b-(h.width+x)/2}else{var U=X(_),L=U.height;h.verticalAlign===F.oX.TOP?O=_.y:h.verticalAlign===F.oX.BOTTOM?O=_.y+U.height-re.height-F.gK:(O=_.y+U.height/2-re.height/2,re.height>(0,B.N2)(_)&&(L=re.height+2*F.gK,O=_.y+L/2-re.height/2)),S=h.textAlign===F.I8.LEFT?_.x+F.gK:h.textAlign===F.I8.RIGHT?_.x+U.width-re.width-F.gK:_.x+U.width/2-re.width/2,(0,pe.h_)(_.id,L),(0,A.DR)(_,{height:L})}(0,A.DR)(h,{width:re.width,height:re.height,baseline:re.baseline,y:O,x:S,text:M})},de=function(h,_,W){var M=(0,j.xn)(h);_.forEach(function(re){var O=W.get(re.id),S=l(re);if(S){var b=W.get(S);if(b){var d=M.get(O);d&&(0,A.DR)(d,{boundElements:(d.boundElements||[]).concat({type:"text",id:b})});var x=M.get(b);x&&(0,z.iB)(x)&&(0,A.DR)(x,{containerId:d?O:null})}}})},ye=function(h,_){var W=l(h);if(W){(0,pe.kT)(h.id);var M=o.Z.getScene(h).getElement(W);if(M&&M.text){if(!h)return;var re=(M=o.Z.getScene(h).getElement(W)).text,O=M.height,S=M.width,b=X(h),d=(0,B.jd)(h),x=(0,B.N2)(h),P=b.height,U=M.baseline;if(_!=="n"&&_!=="s"){re&&(re=s(M.originalText,(0,j.mO)(M),d));var L=J(re,(0,j.mO)(M),d);O=L.height,S=L.width,U=L.baseline}if(O>x){var ce=(P=O+2*D(M))-b.height,ae=(0,G.Yv)(h)||_!=="ne"&&_!=="nw"&&_!=="n"?h.y:h.y-ce;(0,A.DR)(h,{height:P,y:ae})}(0,A.DR)(M,{text:re,width:S,height:O,baseline:U}),(0,G.Yv)(h)||I(h,M)}}},I=function(h,_){var W,M=X(h),re=D(_);W=_.verticalAlign===F.oX.TOP?h.y+re:_.verticalAlign===F.oX.BOTTOM?h.y+M.height-_.height-re:h.y+M.height/2-_.height/2;var O=_.textAlign===F.I8.LEFT?h.x+re:_.textAlign===F.I8.RIGHT?h.x+M.width-_.width-re:h.x+M.width/2-_.width/2;(0,A.DR)(_,{x:O,y:W})},J=function(h,_,W){h=h.split(`
`).map(function(x){return x||" "}).join(`
`);var M=document.createElement("div");if(M.style.position="absolute",M.style.whiteSpace="pre",M.style.font=_,M.style.minHeight="1em",W){var re=C(_);M.style.maxWidth="".concat(W+1,"px"),M.style.overflow="hidden",M.style.wordBreak="break-word",M.style.lineHeight="".concat(String(re),"px"),M.style.whiteSpace="pre-wrap"}document.body.appendChild(M),M.innerText=h;var O=document.createElement("span");O.style.display="inline-block",O.style.overflow="hidden",O.style.width="1px",O.style.height="1px",M.appendChild(O);var S=O.offsetTop+O.offsetHeight,b=M.offsetWidth+1,d=M.offsetHeight;return document.body.removeChild(M),(0,j.h2)()?{width:b,height:d,baseline:S,container:M}:{width:b,height:d,baseline:S}},g="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),m={},C=function(h){return m[h]||(m[h]=J(g,h,null).height),m[h]},v=function(h,_){w||(w=document.createElement("canvas"));var W=w.getContext("2d");W.font=_;var M=W.measureText(h);return(0,j.h2)()?10*M.width:M.width+.2},u=function(h,_){var W=h.split(`
`),M=0;return W.forEach(function(re){M=Math.max(M,v(re,_))}),M},s=function(h,_,W){var M=[],re=h.split(`
`),O=v(" ",_),S=function(b){b.trim()&&M.push(b)};return re.forEach(function(b){var d=b.split(" ");if(d.length!==1||d[0]!==""){for(var x="",P=0,U=0;U<d.length;)if(v(d[U],_)>=W){for(S(x),x="",P=0;d[U].length>0;){var L=String.fromCodePoint(d[U].codePointAt(0)),ce=n.calculate(L,_);P+=ce,d[U]=d[U].slice(L.length),P>=W?(x.slice(-1)===" "&&(x=x.slice(0,-1)),S(x),x=L,P=ce):x+=L}P+O>=W?(S(x),x="",P=0):(x+=" ",P+=O),U++}else{for(;P<W&&U<d.length;){var ae=d[U];if((P=v(x+ae,_))>=W){S(x),P=0,x="";break}if(U++,x+="".concat(ae," "),P+O>=W){var ue=x.slice(0,-1);S(ue),x="",P=0;break}}P===W&&(x="",P=0)}x&&(x.slice(-1)===" "&&(x=x.slice(0,-1)),S(x))}else M.push(d[0])}),M.join(`
`)},n=(y={},{calculate:function(h,_){var W=h.charCodeAt(0);if(y[_]||(y[_]=[]),!y[_][W]){var M=v(h,_);y[_][W]=M}return y[_][W]},getCache:function(h){return y[h]}}),e=function(h){var _=a(h);return _===0?J(g.split("").join(`
`),h).width+2*F.gK:_+2*F.gK},i=function(h){return C(h)+2*F.gK},a=function(h){var _=n.getCache(h);if(!_)return 0;var W=_.filter(function(M){return M!==void 0});return Math.max.apply(Math,(0,c.Z)(W))},l=function(h){var _,W,M;return h!=null&&(_=h.boundElements)!==null&&_!==void 0&&_.length&&(h==null||(W=h.boundElements)===null||W===void 0||(M=W.filter(function(re){return re.type==="text"})[0])===null||M===void 0?void 0:M.id)||null},p=function(h){if(!h)return null;var _,W=l(h);return W&&((_=o.Z.getScene(h))===null||_===void 0?void 0:_.getElement(W))||null},T=function(h){return h&&h.containerId&&((_=o.Z.getScene(h))===null||_===void 0?void 0:_.getElement(h.containerId))||null;var _},X=function(h){return(0,G.Yv)(h)?{width:Math.max(h.width,300),height:h.height}:{width:h.width,height:h.height}},te=function(h,_){if(!(0,G.Yv)(h))return{x:h.x+h.width/2,y:h.y+h.height/2};var W=le._.getPointsGlobalCoordinates(h);if(W.length%2==1){var M=Math.floor(h.points.length/2),re=le._.getPointGlobalCoordinates(h,h.points[M]);return{x:re[0],y:re[1]}}var O=h.points.length/2-1,S=le._.getEditorMidPoints(h,_)[O];return S||(S=le._.getSegmentMidPoint(h,W[O],W[O+1],O+1)),{x:S[0],y:S[1]}},R=function(h){var _=T(h);return!_||(0,G.Yv)(_)?h.angle:_.angle},D=function(h){var _=T(h);return _?(0,G.Yv)(_)?8*F.gK:F.gK:0},fe=function(h){return h.some(function(_){if((0,G.Xh)(_)){var W=T(_);return!(0,z.iB)(_)||!(0,G.Yv)(W)}return!!p(_)&&!(0,G.Yv)(_)})},q=function(h,_,W,M){var re=(0,k.eD)(h,_);if(re.length===1)return(0,G.mG)(re[0],!1)?re[0]:null;for(var O=null,S=h.length-1;S>=0;--S)if(!h[S].isDeleted){var b=(0,z.qf)(h[S]),d=(0,f.Z)(b,4),x=d[0],P=d[1],U=d[2],L=d[3];if((0,G.Yv)(h[S])&&(0,se.Qu)(h[S],_,[W,M])){O=h[S];break}if(x<W&&W<U&&P<M&&M<L){O=h[S];break}}return(0,G.mG)(O,!1)?O:null},H=function(h){return h.type==="rectangle"||h.type==="ellipse"||h.type==="diamond"||(0,G.pC)(h)||(0,G.Yv)(h)}},6906:function(ge,Q,t){t.d(Q,{b_:function(){return g},eR:function(){return J},h_:function(){return ye},kT:function(){return I}});var w=t(8950),y=t(2577),f=t(2975),c=t.n(f),j=t(6066),A=t(6340),F=t(1564),o=t(1974),z=t(2335),B=t(1935),G=t(5710),le=t(6208),k=t(2416),se=t(2791),pe=t(6938),Ee=t(6665),ie=function(m,C,v,u,s,n){var e=u.zoom,i=180*v/Math.PI,a=m*(e.value-1)/2,l=C*(e.value-1)/2;return m>s&&e.value!==1&&(a=s*(e.value-1)/2),C>n&&e.value!==1&&(l=n*(e.value-1)/2),"translate(".concat(a,"px, ").concat(l,"px) scale(").concat(e.value,") rotate(").concat(i,"deg)")},de={},ye=function(m,C){var v=de[m]||(de[m]={height:C});return v.height=C,v},I=function(m){de[m]&&delete de[m]},J=function(m){var C,v;return(C=(v=de[m])===null||v===void 0?void 0:v.height)!==null&&C!==void 0?C:null},g=function(m){var C=m.id,v=m.onChange,u=m.onSubmit,s=m.getViewportCoords,n=m.element,e=m.canvas,i=m.excalidrawContainer,a=m.app,l=function(){var d,x=a.state,P=(d=F.Z.getScene(n))===null||d===void 0?void 0:d.getElement(C);if(P){var U=P.textAlign,L=P.verticalAlign,ce=(0,G.hP)((0,A.mO)(P));if(P&&(0,o.iB)(P)){var ae=P.x,ue=P.y,Ce=(0,G.tl)(P),Pe=P.width,N=P.height,Y=P.width,$=P.height;if(Ce&&P.containerId){if((0,o.Yv)(Ce)){var xe=pe._.getBoundTextElementPosition(Ce,P);ae=xe.x,ue=xe.y}var Oe,Ze=function(et,it){if(!it.style.fontFamily||!it.style.fontSize)return!1;var $e=it.style.fontFamily.replace(/"/g,"");return(0,A.$g)({fontFamily:et.fontFamily})!==$e||"".concat(et.fontSize,"px")!==it.style.fontSize}(P,p),Fe=(0,G.HE)(Ce),Je=Number(p.style.height.slice(0,-2));if(Je>0&&($=Je),Ze&&($=P.height),Ze?Oe=ye(Ce.id,Fe.height):(Oe=de[Ce.id])||(Oe=ye(Ce.id,Fe.height)),Pe=(0,se.jd)(Ce),N=(0,se.N2)(Ce),!(0,o.Yv)(Ce)&&$>N){var Ke=Math.min($-N,ce);return void(0,B.DR)(Ce,{height:Fe.height+Ke})}if(!(0,o.Yv)(Ce)&&Fe.height>Oe.height&&$<N){var Be=Math.min(N-$,ce);(0,B.DR)(Ce,{height:Fe.height-Be})}else L===z.oX.MIDDLE&&((0,o.Yv)(Ce)||(ue=Ce.y+Fe.height/2-$/2)),L===z.oX.BOTTOM&&(ue=Ce.y+Fe.height-$-(0,G.S)(P))}var Le=s(ae,ue),ne=(0,y.Z)(Le,2),me=ne[0],ve=ne[1],we=p.selectionStart,Me=p.selectionEnd,Te=p.value.length;if(p.value=P.originalText,we===Me&&Me!==Te){var ze=Te-Me;p.selectionStart=p.value.length-ze,p.selectionEnd=p.value.length-ze}var We=P.originalText.split(`
`),He=P.containerId?ce:P.height/We.length;Ce||(Pe=(x.width-8-me)/x.zoom.value);var Ye=(x.height-ve)/x.zoom.value;Object.assign(p.style,{font:(0,A.mO)(P),lineHeight:"".concat(He,"px"),width:"".concat(Math.min(Y,Pe),"px"),height:"".concat($,"px"),left:"".concat(me,"px"),top:"".concat(ve,"px"),transform:ie(Y,$,(0,G.H_)(P),x,Pe,Ye),textAlign:U,verticalAlign:L,color:P.strokeColor,opacity:P.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(Ye,"px")}),(0,A.h2)()&&(p.style.fontFamily=(0,A.$g)(P)),(0,B.DR)(P,{x:ae,y:ue})}}},p=document.createElement("textarea");p.dir="auto",p.tabIndex=0,p.dataset.type="wysiwyg",p.wrap="off",p.classList.add("excalidraw-wysiwyg");var T="pre",X="normal";(0,o.Xh)(n)&&(T="pre-wrap",X="break-word"),Object.assign(p.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:X,whiteSpace:T,overflowWrap:"break-word",boxSizing:"content-box"}),l(),v&&(p.onpaste=function(){var d=(0,w.Z)(c().mark(function x(P){var U,L,ce,ae,ue,Ce;return c().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,(0,Ee.mQ)(P,!0);case 2:if((U=Pe.sent).text){Pe.next=5;break}return Pe.abrupt("return");case 5:if(L=(0,G.bG)(U.text)){Pe.next=8;break}return Pe.abrupt("return");case 8:ce=(0,G.tl)(n),ae=(0,A.mO)({fontSize:a.state.currentItemFontSize,fontFamily:a.state.currentItemFontFamily}),ce&&(ue=(0,G.lD)("".concat(p.value).concat(L),ae,(0,se.jd)(ce)),Ce=(0,G.mY)(ue,ae),p.style.width="".concat(Ce,"px"));case 11:case"end":return Pe.stop()}},x)}));return function(x){return d.apply(this,arguments)}}(),p.oninput=function(){var d,x=(d=F.Z.getScene(n))===null||d===void 0?void 0:d.getElement(C),P=(0,A.mO)(x),U=Math.round(p.scrollHeight/(0,G.hP)(P));if((0,o.Xh)(n)&&U>1){var L=(0,G.tl)(n),ce="auto";p.style.height="0px";var ae=!1;U===2&&(0,G.lD)(p.value,P,(0,se.jd)(L)).split(`
`).length===1&&(ce="".concat(p.scrollHeight/2,"px"),p.style.height=ce,ae=!0);var ue=(0,G.lD)((0,G.bG)(p.value),P,(0,se.jd)(L)),Ce=(0,G.mY)(ue,P);p.style.width="".concat(Ce,"px"),ae||(p.style.height="".concat(p.scrollHeight,"px"))}v((0,G.bG)(p.value))}),p.onkeydown=function(d){if(!d.shiftKey&&k.Lo.keyTest(d))d.preventDefault(),a.actionManager.executeAction(k.Lo),l();else if(!d.shiftKey&&k.CZ.keyTest(d))d.preventDefault(),a.actionManager.executeAction(k.CZ),l();else if(le.Tu.keyTest(d))a.actionManager.executeAction(le.Tu);else if(le.Zq.keyTest(d))a.actionManager.executeAction(le.Zq);else if(d.key===j.tW.ESCAPE)d.preventDefault(),h=!0,_();else if(d.key===j.tW.ENTER&&d[j.tW.CTRL_OR_CMD]){if(d.preventDefault(),d.isComposing||d.keyCode===229)return;h=!0,_()}else(d.key===j.tW.TAB||d[j.tW.CTRL_OR_CMD]&&(d.code===j.aU.BRACKET_LEFT||d.code===j.aU.BRACKET_RIGHT))&&(d.preventDefault(),d.shiftKey||d.code===j.aU.BRACKET_LEFT?fe():D(),p.dispatchEvent(new Event("input")))};var te=" ".repeat(4),R=new RegExp("^ {1,".concat(4,"}")),D=function(){var d=p.selectionStart,x=p.selectionEnd,P=q(),U=p.value;P.forEach(function(L){var ce=U.slice(0,L),ae=U.slice(L);U="".concat(ce).concat(te).concat(ae)}),p.value=U,p.selectionStart=d+4,p.selectionEnd=x+4*P.length},fe=function(){var d=p.selectionStart,x=p.selectionEnd,P=q(),U=[],L=p.value;P.forEach(function(ce){var ae=L.slice(ce,ce+4).match(R);if(ae){var ue=L.slice(0,ce),Ce=L.slice(ce+ae[0].length);L="".concat(ue).concat(Ce),U.push(ce)}}),p.value=L,U.length&&(d>U[U.length-1]?p.selectionStart=Math.max(d-4,U[U.length-1]):p.selectionStart=d,p.selectionEnd=Math.max(p.selectionStart,x-4*U.length))},q=function(){var d=p.selectionStart,x=p.selectionEnd,P=p.value,U=P.slice(0,d).match(/[^\n]*$/)[0].length;return d-=U,P.slice(d,x).split(`
`).reduce(function(L,ce,ae,ue){return L.concat(ae?L[ae-1]+ue[ae-1].length+1:d)},[]).reverse()},H=function(d){d.preventDefault(),d.stopPropagation()},h=!1,_=function(){var d;W();var x=(d=F.Z.getScene(n))===null||d===void 0?void 0:d.getElement(n.id);if(x){var P=p.value,U=(0,G.tl)(x);if(U)if(P=x.text,p.value.trim()){var L=(0,G.xB)(U);L&&L===n.id||(0,B.DR)(U,{boundElements:(U.boundElements||[]).concat({type:"text",id:n.id})})}else{var ce;(0,B.DR)(U,{boundElements:(ce=U.boundElements)===null||ce===void 0?void 0:ce.filter(function(ae){return!(0,o.iB)(ae)})})}u({text:P,viaKeyboard:h,originalText:p.value})}},W=function(){S||(S=!0,p.onblur=null,p.oninput=null,p.onkeydown=null,b&&b.disconnect(),window.removeEventListener("resize",l),window.removeEventListener("wheel",H,!0),window.removeEventListener("pointerdown",re),window.removeEventListener("pointerup",M),window.removeEventListener("blur",_),O(),p.remove())},M=function d(x){window.removeEventListener("pointerup",d);var P=x==null?void 0:x.target,U=P instanceof HTMLInputElement&&P.closest(".color-picker-input")&&(0,A.s)(P);setTimeout(function(){p.onblur=_,P&&U&&(P.onblur=function(){p.focus()}),U||p.focus()})},re=function(d){var x=d.target instanceof HTMLInputElement&&d.target.closest(".color-picker-input")&&(0,A.s)(d.target);((d.target instanceof HTMLElement||d.target instanceof SVGElement)&&d.target.closest(".".concat(z.$C.SHAPE_ACTIONS_MENU))&&!(0,A.s)(d.target)||x)&&(p.onblur=null,window.addEventListener("pointerup",M),window.addEventListener("blur",_))},O=F.Z.getScene(n).addCallback(function(){var d;l(),!((d=document.activeElement)===null||d===void 0||!d.closest(".color-picker-input"))||p.focus()}),S=!1;p.select(),M();var b=null;e&&"ResizeObserver"in window?(b=new window.ResizeObserver(function(){l()})).observe(e):window.addEventListener("resize",l),window.addEventListener("pointerdown",re),window.addEventListener("wheel",H,{passive:!1,capture:!0}),i==null||i.querySelector(".excalidraw-textEditorContainer").appendChild(p)}},267:function(ge,Q,t){t.d(Q,{PC:function(){return se},kK:function(){return k},oY:function(){return pe},ox:function(){return o}});var w=t(2577),y=t(8925),f=t(6552),c=t(1047),j=t(1974),A=t(3547),F={mouse:8,pen:16,touch:28},o={e:!0,s:!0,n:!0,w:!0},z={e:!0,s:!0,n:!0,w:!0},B={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},G={e:!0,s:!0,n:!0,w:!0},le=function(Ee,ie,de,ye,I,J,g){var m=(0,f.U1)(Ee+de/2,ie+ye/2,I,J,g),C=(0,w.Z)(m,2);return[C[0]-de/2,C[1]-ye/2,de,ye]},k=function(Ee,ie,de,ye){var I=(0,w.Z)(Ee,6),J=I[0],g=I[1],m=I[2],C=I[3],v=I[4],u=I[5],s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,e=F[ye],i=e/de.value,a=e/de.value,l=e/de.value,p=e/de.value,T=m-J,X=C-g,te=n/de.value,R=(e-2*A.Lu)/(2*de.value),D={nw:s.nw?void 0:le(J-te-l+R,g-te-p+R,i,a,v,u,ie),ne:s.ne?void 0:le(m+te-R,g-te-p+R,i,a,v,u,ie),sw:s.sw?void 0:le(J-te-l+R,C+te-R,i,a,v,u,ie),se:s.se?void 0:le(m+te-R,C+te-R,i,a,v,u,ie),rotation:s.rotation?void 0:le(J+T/2-i/2,g-te-p+R-16/de.value,i,a,v,u,ie)},fe=5*F.mouse/de.value;return Math.abs(T)>fe&&(s.n||(D.n=le(J+T/2-i/2,g-te-p+R,i,a,v,u,ie)),s.s||(D.s=le(J+T/2-i/2,C+te-R,i,a,v,u,ie))),Math.abs(X)>fe&&(s.w||(D.w=le(J-te-l+R,g+X/2-a/2,i,a,v,u,ie)),s.e||(D.e=le(m+te-R,g+X/2-a/2,i,a,v,u,ie))),D},se=function(Ee,ie){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(Ee.locked)return{};var ye={};if(Ee.type==="freedraw"||(0,j.bt)(Ee)){if(Ee.points.length===2){var I=(0,w.Z)(Ee.points,2),J=I[1];J[0]===0||J[1]===0?ye=G:J[0]>0&&J[1]<0?ye=B:J[0]>0&&J[1]>0?ye=G:J[0]<0&&J[1]>0?ye=B:J[0]<0&&J[1]<0&&(ye=G)}}else(0,c.iB)(Ee)&&(ye=z);var g=(0,j.bt)(Ee)?A.Lu+8:A.Lu;return k((0,y.qf)(Ee,!0),Ee.angle,ie,de,ye,g)},pe=function(Ee,ie){if(ie.editingLinearElement)return!1;if(Ee.length>1)return!0;var de=Ee[0];return!(0,j.bt)(de)||de.points.length>2}},1974:function(ge,Q,t){t.d(Q,{F9:function(){return j},Lx:function(){return G},Mn:function(){return B},QI:function(){return ie},UQ:function(){return ye},Xh:function(){return Ee},Xo:function(){return pe},Yv:function(){return o},bt:function(){return F},dt:function(){return z},eK:function(){return de},f0:function(){return le},iB:function(){return c},mG:function(){return k},pC:function(){return f},r2:function(){return se},wi:function(){return y}});var w=t(2335),y=function(I){return!!I&&I.type==="image"&&!!I.fileId},f=function(I){return!!I&&I.type==="image"},c=function(I){return I!=null&&I.type==="text"},j=function(I){return I!=null&&A(I.type)},A=function(I){return I==="freedraw"},F=function(I){return I!=null&&z(I.type)},o=function(I){return I!=null&&I.type==="arrow"},z=function(I){return I==="arrow"||I==="line"},B=function(I){var J=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return I!=null&&(!I.locked||J===!0)&&G(I.type)},G=function(I){return I==="arrow"},le=function(I){var J=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(I==null||I.locked&&J!==!0||I.type!=="rectangle"&&I.type!=="diamond"&&I.type!=="ellipse"&&I.type!=="image"&&(I.type!=="text"||I.containerId))},k=function(I){var J=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return I!=null&&(!I.locked||J===!0)&&(I.type==="rectangle"||I.type==="diamond"||I.type==="ellipse"||I.type==="image"||o(I))},se=function(I){return(I==null?void 0:I.type)==="text"||(I==null?void 0:I.type)==="diamond"||(I==null?void 0:I.type)==="rectangle"||(I==null?void 0:I.type)==="ellipse"||(I==null?void 0:I.type)==="arrow"||(I==null?void 0:I.type)==="freedraw"||(I==null?void 0:I.type)==="line"},pe=function(I){var J;return le(I)&&!((J=I.boundElements)===null||J===void 0||!J.some(function(g){return g.type==="text"}))},Ee=function(I){return I!==null&&"containerId"in I&&I.containerId!==null&&c(I)},ie=function(I){return I==="rectangle"},de=function(I,J){return!(I!==w.a6.ADAPTIVE_RADIUS&&I!==w.a6.LEGACY||!ie(J.type))||I===w.a6.PROPORTIONAL_RADIUS&&((g=J.type)==="line"||g==="arrow"||g==="diamond");var g},ye=function(I){return I.type==="arrow"||I.type==="line"||I.type==="diamond"?{type:w.a6.PROPORTIONAL_RADIUS}:I.type==="rectangle"?{type:w.a6.ADAPTIVE_RADIUS}:null}},6797:function(ge,Q,t){t.d(Q,{_:function(){return le},l:function(){return G}});var w=t(5169),y=t(8821),f=t(2248),c=t(7245),j=t(2312),A=t(5901);function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(k,se,pe){return o=F()?Reflect.construct.bind():function(Ee,ie,de){var ye=[null];ye.push.apply(ye,ie);var I=new(Function.bind.apply(Ee,ye));return de&&(0,A.Z)(I,de.prototype),I},o.apply(null,arguments)}function z(k){var se=typeof Map=="function"?new Map:void 0;return z=function(pe){if(pe===null||(Ee=pe,Function.toString.call(Ee).indexOf("[native code]")===-1))return pe;var Ee;if(typeof pe!="function")throw new TypeError("Super expression must either be null or a function");if(se!==void 0){if(se.has(pe))return se.get(pe);se.set(pe,ie)}function ie(){return o(pe,arguments,(0,j.Z)(this).constructor)}return ie.prototype=Object.create(pe.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),(0,A.Z)(ie,pe)},z(k)}function B(k){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,Ee=(0,j.Z)(k);if(se){var ie=(0,j.Z)(this).constructor;pe=Reflect.construct(Ee,arguments,ie)}else pe=Ee.apply(this,arguments);return(0,c.Z)(this,pe)}}var G=function(k){(0,f.Z)(pe,k);var se=B(pe);function pe(){var Ee,ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,y.Z)(this,pe),(Ee=se.call(this)).name=de,Ee.message=ie,Ee}return(0,w.Z)(pe)}(z(Error)),le=function(k){(0,f.Z)(pe,k);var se=B(pe);function pe(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,y.Z)(this,pe),se.call(this,Ee,"AbortError")}return(0,w.Z)(pe)}(z(DOMException))},242:function(ge,Q,t){t.d(Q,{AI:function(){return g},F$:function(){return B},Fb:function(){return ie},Nd:function(){return Ee},Qy:function(){return ye},S_:function(){return I},YS:function(){return de},bO:function(){return se},h6:function(){return J},iE:function(){return pe},iJ:function(){return k},yO:function(){return le},zq:function(){return G}});var w=t(1930),y=t(2577),f=t(7169),c=t(75),j=t(5710);function A(m,C){var v=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!v){if(Array.isArray(m)||(v=function(a,l){if(a){if(typeof a=="string")return F(a,l);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return F(a,l)}}(m))||C){v&&(m=v);var u=0,s=function(){};return{s,n:function(){return u>=m.length?{done:!0}:{done:!1,value:m[u++]}},e:function(a){throw a},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,e=!0,i=!1;return{s:function(){v=v.call(m)},n:function(){var a=v.next();return e=a.done,a},e:function(a){i=!0,n=a},f:function(){try{e||v.return==null||v.return()}finally{if(i)throw n}}}}function F(m,C){(C==null||C>m.length)&&(C=m.length);for(var v=0,u=new Array(C);v<C;v++)u[v]=m[v];return u}function o(m,C){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);C&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),v.push.apply(v,u)}return v}function z(m){for(var C=1;C<arguments.length;C++){var v=arguments[C]!=null?arguments[C]:{};C%2?o(Object(v),!0).forEach(function(u){(0,f.Z)(m,u,v[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):o(Object(v)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(v,u))})}return m}var B=function(m,C,v){var u=v.filter(function(s){return s.groupIds.includes(m)});return u.length<2?C.selectedGroupIds[m]||C.editingGroupId===m?z(z({},C),{},{selectedGroupIds:z(z({},C.selectedGroupIds),{},(0,f.Z)({},m,!1)),editingGroupId:null}):C:z(z({},C),{},{selectedGroupIds:z(z({},C.selectedGroupIds),{},(0,f.Z)({},m,!0)),selectedElementIds:z(z({},C.selectedElementIds),Object.fromEntries(u.map(function(s){return[s.id,!0]})))})},G=function(m,C){return le(m,C)!=null},le=function(m,C){return C.groupIds.filter(function(v){return v!==m.editingGroupId}).find(function(v){return m.selectedGroupIds[v]})},k=function(m){return Object.entries(m.selectedGroupIds).filter(function(C){var v=(0,y.Z)(C,2);return v[0],v[1]}).map(function(C){var v=(0,y.Z)(C,2),u=v[0];return v[1],u})},se=function(m,C){var v=z(z({},m),{},{selectedGroupIds:{}}),u=(0,c.eD)(C,m);if(!u.length)return z(z({},v),{},{editingGroupId:null});var s,n=A(u);try{for(n.s();!(s=n.n()).done;){var e=s.value.groupIds;if(m.editingGroupId){var i=e.indexOf(m.editingGroupId);i>-1&&(e=e.slice(0,i))}if(e.length>0){var a=e[e.length-1];v=B(a,v,C)}}}catch(l){n.e(l)}finally{n.f()}return v},pe=function(m,C){return z(z({},m),{},{editingGroupId:C.groupIds.length?C.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,f.Z)({},C.id,!0)})},Ee=function(m,C){return m.groupIds.includes(C)},ie=function(m,C){return m.filter(function(v){return Ee(v,C)})},de=function(m,C){return m.groupIds.find(function(v){return C[v]})},ye=function(m,C,v){for(var u=(0,w.Z)(m),s=C?m.indexOf(C):-1,n=s>-1?s:m.length,e=0;e<n;e++)u[e]=v(u[e]);return u},I=function(m,C,v){var u=(0,w.Z)(m),s=v?u.indexOf(v):-1,n=s>-1?s:u.length;return u.splice(n,0,C),u},J=function(m,C){return m.filter(function(v){return!C[v]})},g=function(m){var C=new Map;return m.forEach(function(v){var u=v.groupIds.length===0?v.id:v.groupIds[v.groupIds.length-1],s=C.get(u)||[],n=(0,j.WJ)(v);n&&s.push(n),C.set(u,[].concat((0,w.Z)(s),[v]))}),Array.from(C.values())}},8211:function(ge,Q,t){t.d(Q,{Fp:function(){return F},G3:function(){return k},Mj:function(){return o},m0:function(){return le},t:function(){return pe}});var w=t(8950),y=t(2975),f=t.n(y),c=t(1463),j=t(4451),A=t(2335),F={code:"en",label:"English"},o=[{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].concat([F]).sort(function(Ee,ie){return Ee.label>ie.label?1:-1}).filter(function(Ee){return j[Ee.code]>=85}),z="__test__";A.Vi.DEVELOPMENT==="production"&&o.unshift({code:z,label:"test language"},{code:"".concat(z,".rtl"),label:"test language (rtl)",rtl:!0});var B=F,G={},le=function(){var Ee=(0,w.Z)(f().mark(function ie(de){return f().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(B=de,document.documentElement.dir=B.rtl?"rtl":"ltr",document.documentElement.lang=B.code,!de.code.startsWith(z)){ye.next=7;break}G={},ye.next=17;break;case 7:return ye.prev=7,ye.next=10,t(940)("./".concat(B.code,".json"));case 10:G=ye.sent,ye.next=17;break;case 13:ye.prev=13,ye.t0=ye.catch(7),console.error("Failed to load language ".concat(de.code,":"),ye.t0.message),G=c;case 17:case"end":return ye.stop()}},ie,null,[[7,13]])}));return function(ie){return Ee.apply(this,arguments)}}(),k=function(){return B},se=function(Ee,ie){for(var de=0;de<ie.length;++de){var ye=ie[de];if(Ee[ye]===void 0)return;Ee=Ee[ye]}if(typeof Ee=="string")return Ee},pe=function(Ee,ie){if(B.code.startsWith(z)){var de=ie?"".concat(Ee,"(").concat(JSON.stringify(ie).slice(1,-1),")"):Ee;return"[[".concat(de,"]]")}var ye=Ee.split("."),I=se(G,ye)||se(c,ye);if(I===void 0)throw new Error("Can't find translation for ".concat(Ee));if(ie)for(var J in ie)I=I.replace("{{".concat(J,"}}"),String(ie[J]));return I}},9487:function(ge,Q,t){t.d(Q,{e_:function(){return f},yE:function(){return y}});var w=t(4739),y=(t(9787),Symbol()),f=(0,w.Vv)()},6066:function(ge,Q,t){t.d(Q,{E0:function(){return A},Ge:function(){return F},OA:function(){return j},Wl:function(){return c},aU:function(){return y},tW:function(){return f}});var w=t(2335),y={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},f={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:w.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},c=function(o){return o===f.ARROW_LEFT||o===f.ARROW_RIGHT||o===f.ARROW_DOWN||o===f.ARROW_UP},j=function(o){return o.altKey},A=function(o){return o.shiftKey},F=function(o){return o.shiftKey}},6552:function(ge,Q,t){t.d(Q,{H5:function(){return o},Jj:function(){return J},LW:function(){return F},N_:function(){return ie},U1:function(){return c},c9:function(){return B},eH:function(){return ye},g6:function(){return z},lk:function(){return I},wC:function(){return se},xj:function(){return j},yB:function(){return Ee},yW:function(){return pe},yq:function(){return A}});var w=t(2335),y=t(3063),f=t(8925),c=function(g,m,C,v,u){return[(g-C)*Math.cos(u)-(m-v)*Math.sin(u)+C,(g-C)*Math.sin(u)+(m-v)*Math.cos(u)+v]},j=function(g,m,C){return c(g[0],g[1],m[0],m[1],C)},A=function(g,m,C,v,u,s,n,e){var i=Math.cos(v),a=Math.sin(v);return g.e&&g.w?m+=u+n:g.e?(m+=u*(1+i),C+=u*a,m+=n*(1-i),C+=n*-a):g.w&&(m+=u*(1-i),C+=u*-a,m+=n*(1+i),C+=n*a),g.n&&g.s?C+=s+e:g.n?(m+=s*a,C+=s*(1-i),m+=e*-a,C+=e*(1+i)):g.s&&(m+=s*-a,C+=s*(1+i),m+=e*a,C+=e*(1-i)),[m,C]},F=function(g,m,C,v){var u=C-g,s=v-m;return Math.hypot(u,s)},o=function(g,m){return[(g[0]+m[0])/2,(g[1]+m[1])/2]},z=function(g){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(g.length>=3){var C=[g[0],g[g.length-1]],v=C[0],u=C[1],s=F(v[0],v[1],u[0],u[1]);return s<=w.qx/m}return!1},B=function(g,m,C){var v=g.length;if(v<3)return!1;for(var u=[Number.MAX_SAFE_INTEGER,C],s=[m,C],n=0,e=0;e<v;e++){var i=g[e],a=g[(e+1)%v];if(k(i,a,s,u)){if(le(i,s,a)===0)return G(i,s,a);n++}}return n%2==1},G=function(g,m,C){return m[0]<=Math.max(g[0],C[0])&&m[0]>=Math.min(g[0],C[0])&&m[1]<=Math.max(g[1],C[1])&&m[1]>=Math.min(g[1],C[1])},le=function(g,m,C){var v=(m[1]-g[1])*(C[0]-m[0])-(m[0]-g[0])*(C[1]-m[1]);return v===0?0:v>0?1:2},k=function(g,m,C,v){var u=le(g,m,C),s=le(g,m,v),n=le(C,v,g),e=le(C,v,m);return u!==s&&n!==e||!(u!==0||!G(g,C,m))||!(s!==0||!G(g,v,m))||!(n!==0||!G(C,g,v))||!(e!==0||!G(C,m,v))},se=function(g,m,C){return C?[Math.round(g/C)*C,Math.round(m/C)*C]:[g,m]},pe=function(g,m){var C,v,u;if(((C=m.roundness)===null||C===void 0?void 0:C.type)===w.a6.PROPORTIONAL_RADIUS||((v=m.roundness)===null||v===void 0?void 0:v.type)===w.a6.LEGACY)return g*w.Rx;if(((u=m.roundness)===null||u===void 0?void 0:u.type)===w.a6.ADAPTIVE_RADIUS){var s,n,e=(s=(n=m.roundness)===null||n===void 0?void 0:n.value)!==null&&s!==void 0?s:w._9;return g<=e/w.Rx?g*w.Rx:e}return 0},Ee=function(g,m){var C=(0,y.R2)(g);if(!C)return null;for(var v=(0,f.CM)(C[0]),u=[0,0],s=0,n=1/0,e=null;s<v.length;){var i=v[s],a=i.op,l=i.data;if(a==="move"&&(u=l),a==="bcurveTo"){var p=u,T=[l[0],l[1]],X=[l[2],l[3]],te=[l[4],l[5]],R=F(te[0],te[1],m[0],m[1]);R<n&&(n=R,e=[p,T,X,te]),u=te}s++}return e},ie=function(g,m,C,v,u){var s=function(n,e){return Math.pow(1-n,3)*v[e]+3*n*Math.pow(1-n,2)*C[e]+3*Math.pow(n,2)*(1-n)*m[e]+g[e]*Math.pow(n,3)};return[s(u,0),s(u,1)]},de=function(g,m){var C=[];C[0]=0;for(var v=function(n,e){var i=Ee(n,e);if(!i)return[];for(var a=[],l=1;l>0;){var p=ie(i[0],i[1],i[2],i[3],l);a.push([p[0],p[1]]),l-=.05}return a.length&&J(a.at(-1),e)&&a.push([e[0],e[1]]),a}(g,m),u=0,s=0;u<v.length-1;)s+=F(v[u][0],v[u][1],v[u+1][0],v[u+1][1]),C.push(s),u++;return C},ye=function(g,m){return de(g,m).at(-1)},I=function(g,m,C){for(var v=de(g,m),u=v.length-1,s=C*v.at(-1),n=0,e=u,i=0;n<e;)v[i=Math.floor(n+(e-n)/2)]<s?n=i+1:e=i;return v[i]>s&&i--,v[i]===s?i/u:1-(i+(s-v[i])/(v[i+1]-v[i]))/u},J=function(g,m){return g[0]===m[0]&&g[1]===m[1]}},3024:function(ge,Q,t){t.d(Q,{$D:function(){return I},Fl:function(){return ye},I_:function(){return G.I_},N7:function(){return se.N7},NI:function(){return G.NI},NL:function(){return de},ZY:function(){return k.ZY},cT:function(){return k.cT},i1:function(){return J},lV:function(){return k.lV},zh:function(){return pe.zh}});var w=t(8950),y=t(7169),f=t(2975),c=t.n(f),j=t(4162),A=t(8897),F=t(1047),o=t(679),z=t(2335),B=t(673),G=t(5523),le=t(6665),k=t(434),se=t(3063),pe=t(7053);function Ee(g,m){var C=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);m&&(v=v.filter(function(u){return Object.getOwnPropertyDescriptor(g,u).enumerable})),C.push.apply(C,v)}return C}function ie(g){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?Ee(Object(C),!0).forEach(function(v){(0,y.Z)(g,v,C[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(C)):Ee(Object(C)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(C,v))})}return g}var de=function(g){var m=g.elements,C=g.appState,v=g.files,u=g.maxWidthOrHeight,s=g.getDimensions,n=g.exportPadding,e=(0,o.nu)({elements:m,appState:C},null,null),i=e.elements,a=e.appState,l=a.exportBackground,p=a.viewBackgroundColor;return(0,j.NL)((0,F.Lm)(i),ie(ie({},a),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),v||{},{exportBackground:l,exportPadding:n,viewBackgroundColor:p},function(T,X){var te,R=document.createElement("canvas");if(u){typeof s=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var D=Math.max(T,X),fe=u/D;return R.width=T*fe,R.height=X*fe,{canvas:R,scale:fe}}var q=(s==null?void 0:s(T,X))||{width:T,height:X};return R.width=q.width,R.height=q.height,{canvas:R,scale:(te=q.scale)!==null&&te!==void 0?te:1}})},ye=function(){var g=(0,w.Z)(c().mark(function m(C){var v,u,s,n,e,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=(u=C).mimeType,n=s===void 0?z.LO.png:s,e=u.quality,n===z.LO.png&&typeof e=="number"&&console.warn('"quality" will be ignored for "'.concat(z.LO.png,'" mimeType')),n==="image/jpg"&&(n=z.LO.jpg),n!==z.LO.jpg||(v=C.appState)!==null&&v!==void 0&&v.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(z.LO.jpg,'" mimeType')),C=ie(ie({},C),{},{appState:ie(ie({},C.appState),{},{exportBackground:!0})})),a.next=6,de(C);case 6:return i=a.sent,e=e||(/image\/jpe?g/.test(n)?.92:.8),a.abrupt("return",new Promise(function(l,p){i.toBlob(function(){var T=(0,w.Z)(c().mark(function X(te){var R;return c().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(te){D.next=2;break}return D.abrupt("return",p(new Error("couldn't export to blob")));case 2:if(!te||n!==z.LO.png||(R=C.appState)===null||R===void 0||!R.exportEmbedScene){D.next=6;break}return D.next=5,(0,B.encodePngMetadata)({blob:te,metadata:(0,G.I_)(C.elements,C.appState,C.files||{},"local")});case 5:te=D.sent;case 6:l(te);case 7:case"end":return D.stop()}},X)}));return function(X){return T.apply(this,arguments)}}(),n,e)}));case 9:case"end":return a.stop()}},m)}));return function(m){return g.apply(this,arguments)}}(),I=function(){var g=(0,w.Z)(c().mark(function m(C){var v,u,s,n,e,i,a,l,p;return c().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return v=C.elements,u=C.appState,s=u===void 0?(0,A.im)():u,n=C.files,e=n===void 0?{}:n,i=C.exportPadding,a=(0,o.nu)({elements:v,appState:s},null,null),l=a.elements,p=a.appState,T.abrupt("return",(0,j.$D)((0,F.Lm)(l),ie(ie({},p),{},{exportPadding:i}),e));case 3:case"end":return T.stop()}},m)}));return function(m){return g.apply(this,arguments)}}(),J=function(){var g=(0,w.Z)(c().mark(function m(C){var v,u;return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(C.type!=="svg"){s.next=8;break}return s.next=3,I(C);case 3:return v=s.sent,s.next=6,(0,le.dd)(v.outerHTML);case 6:case 11:case 17:s.next=20;break;case 8:if(C.type!=="png"){s.next=13;break}return s.next=11,(0,le.uR)(ye(C));case 13:if(C.type!=="json"){s.next=19;break}return u=ie(ie({offsetTop:0,offsetLeft:0,width:0,height:0},(0,A.im)()),C.appState),s.next=17,(0,le.vQ)(C.elements,u,C.files);case 19:throw new Error("Invalid export type");case 20:case"end":return s.stop()}},m)}));return function(m){return g.apply(this,arguments)}}()},5001:function(ge,Q,t){t.d(Q,{k:function(){return y},z:function(){return f}});var w=t(1930),y=function(c){var j=c.map(function(F){return F[0]}),A=c.map(function(F){return F[1]});return{width:Math.max.apply(Math,(0,w.Z)(j))-Math.min.apply(Math,(0,w.Z)(j)),height:Math.max.apply(Math,(0,w.Z)(A))-Math.min.apply(Math,(0,w.Z)(A))}},f=function(c,j,A,F){var o=A.map(function(Ee){return Ee[c]}),z=Math.max.apply(Math,(0,w.Z)(o)),B=Math.min.apply(Math,(0,w.Z)(o)),G=z-B,le=G===0?1:j/G,k=1/0,se=A.map(function(Ee){var ie=Ee[c]*le,de=(0,w.Z)(Ee);return de[c]=ie,ie<k&&(k=ie),de});if(!F||se.length===2)return se;var pe=B-k;return se.map(function(Ee){return Ee.map(function(ie,de){return de===c?ie+pe:ie})})}},6954:function(ge,Q,t){t.d(Q,{LU:function(){return A},kb:function(){return F}});var w=t(8152),y=t(5605),f=t(6340),c=new w.k(Date.now()),j=0,A=function(){return Math.floor(c.next()*Math.pow(2,31))},F=function(){return(0,f.h2)()?"id".concat(j++):(0,y.x0)()}},3063:function(ge,Q,t){t.d(Q,{Dn:function(){return fe},i:function(){return S},N7:function(){return ue},R2:function(){return M},bI:function(){return O},lw:function(){return P},Rg:function(){return L}});var w=t(1930),y=t(7169),f=t(2577),c=t(1974),j=t(8925),A=t(6340),F=t(6552),o=t(8234),z=t(8897),B=t(2335);function G(N,Y,$,xe=Oe=>Oe){return N*xe(.5-Y*(.5-$))}function le(N,Y){return[N[0]+Y[0],N[1]+Y[1]]}function k(N,Y){return[N[0]-Y[0],N[1]-Y[1]]}function se(N,Y){return[N[0]*Y,N[1]*Y]}function pe(N){return[N[1],-N[0]]}function Ee(N,Y){return N[0]*Y[0]+N[1]*Y[1]}function ie(N,Y){return N[0]===Y[0]&&N[1]===Y[1]}function de(N,Y){return function($){return $[0]*$[0]+$[1]*$[1]}(k(N,Y))}function ye(N){return function(Y,$){return[Y[0]/$,Y[1]/$]}(N,function(Y){return Math.hypot(Y[0],Y[1])}(N))}function I(N,Y){return Math.hypot(N[1]-Y[1],N[0]-Y[0])}function J(N,Y,$){let xe=Math.sin($),Oe=Math.cos($),Ze=N[0]-Y[0],Fe=N[1]-Y[1],Je=Ze*xe+Fe*Oe;return[Ze*Oe-Fe*xe+Y[0],Je+Y[1]]}function g(N,Y,$){return le(N,se(k(Y,N),$))}function m(N,Y,$){return le(N,se(Y,$))}var{min:C,PI:v}=Math,u=v+1e-4;function s(N,Y={}){return function($,xe={}){let{size:Oe=16,smoothing:Ze=.5,thinning:Fe=.5,simulatePressure:Je=!0,easing:Ke=Ct=>Ct,start:Be={},end:Le={},last:ne=!1}=xe,{cap:me=!0,easing:ve=Ct=>Ct*(2-Ct)}=Be,{cap:we=!0,easing:Me=Ct=>--Ct*Ct*Ct+1}=Le;if($.length===0||Oe<=0)return[];let Te,ze=$[$.length-1].runningLength,We=Be.taper===!1?0:Be.taper===!0?Math.max(Oe,ze):Be.taper,He=Le.taper===!1?0:Le.taper===!0?Math.max(Oe,ze):Le.taper,Ye=Math.pow(Oe*Ze,2),et=[],it=[],$e=$.slice(0,10).reduce((Ct,At)=>{let Ne=At.pressure;if(Je){let Ue=C(1,At.distance/Oe),ot=C(1,1-Ue);Ne=C(1,Ct+.275*Ue*(ot-Ct))}return(Ct+Ne)/2},$[0].pressure),tt=G(Oe,Fe,$[$.length-1].pressure,Ke),st=$[0].vector,Et=$[0].point,Pt=Et,_t=Et,vt=Pt,yt=!1;for(let Ct=0;Ct<$.length;Ct++){let{pressure:At}=$[Ct],{point:Ne,vector:Ue,distance:ot,runningLength:at}=$[Ct];if(Ct<$.length-1&&ze-at<3)continue;if(Fe){if(Je){let Tt=C(1,ot/Oe),Jt=C(1,1-Tt);At=C(1,$e+.275*Tt*(Jt-$e))}tt=G(Oe,Fe,At,Ke)}else tt=Oe/2;Te===void 0&&(Te=tt);let dt=at<We?ve(at/We):1,gt=ze-at<He?Me((ze-at)/He):1;tt=Math.max(.01,tt*Math.min(dt,gt));let jt=(Ct<$.length-1?$[Ct+1]:$[Ct]).vector,Ot=Ct<$.length-1?Ee(Ue,jt):1,Zt=Ot!==null&&Ot<0;if(Ee(Ue,st)<0&&!yt||Zt){let Tt=se(pe(st),tt);for(let Jt=.07692307692307693,nr=0;nr<=1;nr+=Jt)_t=J(k(Ne,Tt),Ne,u*nr),et.push(_t),vt=J(le(Ne,Tt),Ne,u*-nr),it.push(vt);Et=_t,Pt=vt,Zt&&(yt=!0);continue}if(yt=!1,Ct===$.length-1){let Tt=se(pe(Ue),tt);et.push(k(Ne,Tt)),it.push(le(Ne,Tt));continue}let Bt=se(pe(g(jt,Ue,Ot)),tt);_t=k(Ne,Bt),(Ct<=1||de(Et,_t)>Ye)&&(et.push(_t),Et=_t),vt=le(Ne,Bt),(Ct<=1||de(Pt,vt)>Ye)&&(it.push(vt),Pt=vt),$e=At,st=Ue}let ft=$[0].point.slice(0,2),St=$.length>1?$[$.length-1].point.slice(0,2):le($[0].point,[1,1]),Yt=[],qt=[];if($.length===1){if(!We&&!He||ne){let Ct=m(ft,ye(pe(k(ft,St))),-(Te||tt)),At=[];for(let Ne=.07692307692307693,Ue=Ne;Ue<=1;Ue+=Ne)At.push(J(Ct,ft,2*u*Ue));return At}}else{if(!(We||He&&$.length===1))if(me)for(let At=.07692307692307693,Ne=At;Ne<=1;Ne+=At){let Ue=J(it[0],ft,u*Ne);Yt.push(Ue)}else{let At=k(et[0],it[0]),Ne=se(At,.5),Ue=se(At,.51);Yt.push(k(ft,Ne),k(ft,Ue),le(ft,Ue),le(ft,Ne))}let Ct=pe(function(At){return[-At[0],-At[1]]}($[$.length-1].vector));if(He||We&&$.length===1)qt.push(St);else if(we){let At=m(St,Ct,tt);for(let Ne=.034482758620689655,Ue=Ne;Ue<1;Ue+=Ne)qt.push(J(At,St,3*u*Ue))}else qt.push(le(St,se(Ct,tt)),le(St,se(Ct,.99*tt)),k(St,se(Ct,.99*tt)),k(St,se(Ct,tt)))}return et.concat(qt,it.reverse(),Yt)}(function($,xe={}){var Oe;let{streamline:Ze=.5,size:Fe=16,last:Je=!1}=xe;if($.length===0)return[];let Ke=.15+.85*(1-Ze),Be=Array.isArray($[0])?$:$.map(({x:Me,y:Te,pressure:ze=.5})=>[Me,Te,ze]);if(Be.length===2){let Me=Be[1];Be=Be.slice(0,-1);for(let Te=1;Te<5;Te++)Be.push(g(Be[0],Me,Te/4))}Be.length===1&&(Be=[...Be,[...le(Be[0],[1,1]),...Be[0].slice(2)]]);let Le=[{point:[Be[0][0],Be[0][1]],pressure:Be[0][2]>=0?Be[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],ne=!1,me=0,ve=Le[0],we=Be.length-1;for(let Me=1;Me<Be.length;Me++){let Te=Je&&Me===we?Be[Me].slice(0,2):g(ve.point,Be[Me],Ke);if(ie(ve.point,Te))continue;let ze=I(Te,ve.point);if(me+=ze,Me<we&&!ne){if(me<Fe)continue;ne=!0}ve={point:Te,pressure:Be[Me][2]>=0?Be[Me][2]:.5,vector:ye(k(ve.point,Te)),distance:ze,runningLength:me},Le.push(ve)}return Le[0].vector=((Oe=Le[1])==null?void 0:Oe.vector)||[0,0],Le}(N,Y),Y)}var n=t(5710),e=t(6938);function i(N,Y){var $=Object.keys(N);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(N);Y&&(xe=xe.filter(function(Oe){return Object.getOwnPropertyDescriptor(N,Oe).enumerable})),$.push.apply($,xe)}return $}function a(N){for(var Y=1;Y<arguments.length;Y++){var $=arguments[Y]!=null?arguments[Y]:{};Y%2?i(Object($),!0).forEach(function(xe){(0,y.Z)(N,xe,$[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors($)):i(Object($)).forEach(function(xe){Object.defineProperty(N,xe,Object.getOwnPropertyDescriptor($,xe))})}return N}var l="invert(100%) hue-rotate(180deg) saturate(1.25)",p=(0,z.im)(),T=function(N,Y){return(0,c.wi)(N)&&!Y.imageCache.has(N.fileId)},X=function(N,Y){var $;return Y.theme==="dark"&&(0,c.wi)(N)&&!T(N,Y)&&(($=Y.imageCache.get(N.fileId))===null||$===void 0?void 0:$.mimeType)!==B.LO.svg},te=function(N){return[8,8+N]},R=function(N){return[1.5,6+N]},D=function(N){return N.type==="freedraw"?12*N.strokeWidth:20},fe=14,q=document.createElement("img");q.src="data:".concat(B.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var H=document.createElement("img");H.src="data:".concat(B.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var h=function(N,Y,$,xe){switch($.globalAlpha=N.opacity/100,N.type){case"rectangle":case"diamond":case"ellipse":$.lineJoin="round",$.lineCap="round",Y.draw(M(N));break;case"arrow":case"line":$.lineJoin="round",$.lineCap="round",M(N).forEach(function(Me){Y.draw(Me)});break;case"freedraw":$.save(),$.fillStyle=N.strokeColor;var Oe=function(Me){return ce.get(Me)}(N),Ze=M(N);Ze&&Y.draw(Ze),$.fillStyle=N.strokeColor,$.fill(Oe),$.restore();break;case"image":var Fe,Je=(0,c.wi)(N)?(Fe=xe.imageCache.get(N.fileId))===null||Fe===void 0?void 0:Fe.image:void 0;Je==null||Je instanceof Promise?function(Me,Te,ze){Te.fillStyle="#E7E7E7",Te.fillRect(0,0,Me.width,Me.height);var We=Math.min(Me.width,Me.height),He=Math.min(We,Math.min(.4*We,100));Te.drawImage(Me.status==="error"?H:q,Me.width/2-He/2,Me.height/2-He/2,He,He)}(N,$,xe.zoom.value):$.drawImage(Je,0,0,N.width,N.height);break;default:if(!(0,c.iB)(N))throw new Error("Unimplemented type ".concat(N.type));var Ke=(0,A.dZ)(N.text),Be=Ke&&!$.canvas.isConnected;Be&&document.body.appendChild($.canvas),$.canvas.setAttribute("dir",Ke?"rtl":"ltr"),$.save(),$.font=(0,A.mO)(N),$.fillStyle=N.strokeColor,$.textAlign=N.textAlign;var Le=N.text.replace(/\r\n?/g,`
`).split(`
`),ne=N.containerId?(0,n.hP)((0,A.mO)(N)):N.height/Le.length,me=N.height-N.baseline;N.verticalAlign===B.oX.BOTTOM&&(me=(0,n.S)(N));for(var ve=N.textAlign==="center"?N.width/2:N.textAlign==="right"?N.width:0,we=0;we<Le.length;we++)$.fillText(Le[we],ve,(we+1)*ne-me);$.restore(),Be&&$.canvas.remove()}$.globalAlpha=1},_=new WeakMap,W=new WeakMap,M=function(N){return W.get(N)},re=function(N,Y){return W.set(N,Y)},O=function(N){return W.delete(N)},S=function(N){var Y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],$={seed:N.seed,strokeLineDash:N.strokeStyle==="dashed"?te(N.strokeWidth):N.strokeStyle==="dotted"?R(N.strokeWidth):void 0,disableMultiStroke:N.strokeStyle!=="solid",strokeWidth:N.strokeStyle!=="solid"?N.strokeWidth+.5:N.strokeWidth,fillWeight:N.strokeWidth/2,hachureGap:4*N.strokeWidth,roughness:N.roughness,stroke:N.strokeColor,preserveVertices:Y};switch(N.type){case"rectangle":case"diamond":case"ellipse":return $.fillStyle=N.fillStyle,$.fill=N.backgroundColor==="transparent"?void 0:N.backgroundColor,N.type==="ellipse"&&($.curveFitting=1),$;case"line":case"freedraw":return(0,F.g6)(N.points)&&($.fillStyle=N.fillStyle,$.fill=N.backgroundColor==="transparent"?void 0:N.backgroundColor),$;case"arrow":return $;default:throw new Error("Unimplemented type ".concat(N.type))}},b=function(N,Y){var $=W.get(N);if($===void 0)switch(_.delete(N),N.type){case"rectangle":if(N.roundness){var xe=N.width,Oe=N.height,Ze=(0,F.yW)(Math.min(xe,Oe),N);$=Y.path("M ".concat(Ze," 0 L ").concat(xe-Ze," 0 Q ").concat(xe," 0, ").concat(xe," ").concat(Ze," L ").concat(xe," ").concat(Oe-Ze," Q ").concat(xe," ").concat(Oe,", ").concat(xe-Ze," ").concat(Oe," L ").concat(Ze," ").concat(Oe," Q 0 ").concat(Oe,", 0 ").concat(Oe-Ze," L 0 ").concat(Ze," Q 0 0, ").concat(Ze," 0"),S(N,!0))}else $=Y.rectangle(0,0,N.width,N.height,S(N));re(N,$);break;case"diamond":var Fe=(0,j.UC)(N),Je=(0,f.Z)(Fe,8),Ke=Je[0],Be=Je[1],Le=Je[2],ne=Je[3],me=Je[4],ve=Je[5],we=Je[6],Me=Je[7];if(N.roundness){var Te=(0,F.yW)(Math.abs(Ke-we),N),ze=(0,F.yW)(Math.abs(ne-Be),N);$=Y.path("M ".concat(Ke+Te," ").concat(Be+ze," L ").concat(Le-Te," ").concat(ne-ze,`
            C `).concat(Le," ").concat(ne,", ").concat(Le," ").concat(ne,", ").concat(Le-Te," ").concat(ne+ze,`
            L `).concat(me+Te," ").concat(ve-ze,`
            C `).concat(me," ").concat(ve,", ").concat(me," ").concat(ve,", ").concat(me-Te," ").concat(ve-ze,`
            L `).concat(we+Te," ").concat(Me+ze,`
            C `).concat(we," ").concat(Me,", ").concat(we," ").concat(Me,", ").concat(we+Te," ").concat(Me-ze,`
            L `).concat(Ke-Te," ").concat(Be+ze,`
            C `).concat(Ke," ").concat(Be,", ").concat(Ke," ").concat(Be,", ").concat(Ke+Te," ").concat(Be+ze),S(N,!0))}else $=Y.polygon([[Ke,Be],[Le,ne],[me,ve],[we,Me]],S(N));re(N,$);break;case"ellipse":$=Y.ellipse(N.width/2,N.height/2,N.width,N.height,S(N)),re(N,$);break;case"line":case"arrow":var We=S(N),He=N.points.length?N.points:[[0,0]];if($=N.roundness?[Y.curve(He,We)]:We.fill?[Y.polygon(He,We)]:[Y.linearPath(He,We)],N.type==="arrow"){var Ye=N.startArrowhead,et=Ye===void 0?null:Ye,it=N.endArrowhead,$e=it===void 0?"arrow":it,tt=function(vt,yt,ft,St){var Yt=(0,j.Y5)(vt,yt,ft,St);if(Yt===null)return[];if(St==="dot"){var qt=(0,f.Z)(Yt,3),Ct=qt[0],At=qt[1],Ne=qt[2];return[Y.circle(Ct,At,Ne,a(a({},We),{},{fill:vt.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(St==="triangle"){var Ue=(0,f.Z)(Yt,6),ot=Ue[0],at=Ue[1],dt=Ue[2],gt=Ue[3],jt=Ue[4],Ot=Ue[5];return delete We.strokeLineDash,[Y.polygon([[ot,at],[dt,gt],[jt,Ot],[ot,at]],a(a({},We),{},{fill:vt.strokeColor,fillStyle:"solid"}))]}var Zt=(0,f.Z)(Yt,6),Bt=Zt[0],Tt=Zt[1],Jt=Zt[2],nr=Zt[3],lr=Zt[4],or=Zt[5];if(vt.strokeStyle==="dotted"){var zt=R(vt.strokeWidth-1);We.strokeLineDash=[zt[0],zt[1]-1]}else delete We.strokeLineDash;return[Y.line(Jt,nr,Bt,Tt,We),Y.line(lr,or,Bt,Tt,We)]};if(et!==null){var st,Et=tt(N,$,"start",et);(st=$).push.apply(st,(0,w.Z)(Et))}if($e!==null){var Pt,_t=tt(N,$,"end",$e);(Pt=$).push.apply(Pt,(0,w.Z)(_t))}}re(N,$);break;case"freedraw":ae(N),$=(0,F.g6)(N.points)?Y.polygon(N.points,a(a({},S(N)),{},{stroke:"none"})):null,re(N,$);break;case"text":case"image":re(N,null)}},d=function(N,Y){var $,xe=Y?Y.zoom:p.zoom,Oe=_.get(N),Ze=Oe&&Oe.canvasZoom!==xe.value&&!(Y!=null&&Y.shouldCacheIgnoreZoom),Fe=(($=(0,n.WJ)(N))===null||$===void 0?void 0:$.version)||null;if(!Oe||Ze||Oe.theme!==Y.theme||Oe.boundTextElementVersion!==Fe){var Je=function(Ke,Be,Le){var ne,me=document.createElement("canvas"),ve=me.getContext("2d"),we=D(Ke),Me=0,Te=0;if((0,c.bt)(Ke)||(0,c.F9)(Ke)){var ze=(0,j.qf)(Ke),We=(0,f.Z)(ze,4),He=We[0],Ye=We[1],et=We[2],it=We[3];me.width=(0,A.TE)(He,et)*window.devicePixelRatio*Be.value+we*Be.value*2,me.height=(0,A.TE)(Ye,it)*window.devicePixelRatio*Be.value+we*Be.value*2,Me=Ke.x>He?(0,A.TE)(Ke.x,He)*window.devicePixelRatio*Be.value:0,Te=Ke.y>Ye?(0,A.TE)(Ke.y,Ye)*window.devicePixelRatio*Be.value:0,ve.translate(Me,Te)}else me.width=Ke.width*window.devicePixelRatio*Be.value+we*Be.value*2,me.height=Ke.height*window.devicePixelRatio*Be.value+we*Be.value*2;ve.save(),ve.translate(we*Be.value,we*Be.value),ve.scale(window.devicePixelRatio*Be.value,window.devicePixelRatio*Be.value);var $e=o.Z.canvas(me);return X(Ke,Le)&&(ve.filter=l),h(Ke,$e,ve,Le),ve.restore(),{element:Ke,canvas:me,theme:Le.theme,canvasZoom:Be.value,canvasOffsetX:Me,canvasOffsetY:Te,boundTextElementVersion:((ne=(0,n.WJ)(Ke))===null||ne===void 0?void 0:ne.version)||null}}(N,xe,Y);return _.set(N,Je),Je}return Oe},x=function(N,Y,$,xe){var Oe=N.element,Ze=D(Oe),Fe=N.canvasZoom,Je=(0,j.qf)(Oe),Ke=(0,f.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3];(0,c.F9)(Oe)&&(Be=Math.floor(Be),ne=Math.ceil(ne),Le=Math.floor(Le),me=Math.ceil(me));var ve=((Be+ne)/2+xe.scrollX)*window.devicePixelRatio,we=((Le+me)/2+xe.scrollY)*window.devicePixelRatio;$.save(),$.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var Me=(0,n.WJ)(Oe);if((0,c.Yv)(Oe)&&Me){var Te=document.createElement("canvas"),ze=Te.getContext("2d"),We=Math.max((0,A.TE)(Be,ne),(0,A.TE)(Le,me));Te.width=We*window.devicePixelRatio*Fe+Ze*N.canvasZoom*10,Te.height=We*window.devicePixelRatio*Fe+Ze*N.canvasZoom*10;var He=(Te.width-N.canvas.width)/2,Ye=(Te.height-N.canvas.height)/2;ze.translate(Te.width/2,Te.height/2),ze.rotate(Oe.angle),ze.drawImage(N.canvas,-N.canvas.width/2,-N.canvas.height/2,N.canvas.width,N.canvas.height);var et=(0,j.qf)(Me),it=(0,f.Z)(et,6),$e=it[4],tt=it[5];ze.rotate(-Oe.angle);var st=Te.width/2-($e-Be)*window.devicePixelRatio*Fe-He-Ze*Fe,Et=Te.height/2-(tt-Le)*window.devicePixelRatio*Fe-Ye-Ze*Fe;ze.translate(-st,-Et),ze.clearRect(-(Me.width/2+B.gK)*window.devicePixelRatio*Fe,-(Me.height/2+B.gK)*window.devicePixelRatio*Fe,(Me.width+2*B.gK)*window.devicePixelRatio*Fe,(Me.height+2*B.gK)*window.devicePixelRatio*Fe),$.translate(ve,we),$.drawImage(Te,-(ne-Be)/2*window.devicePixelRatio-He/Fe-Ze,-(me-Le)/2*window.devicePixelRatio-Ye/Fe-Ze,Te.width/Fe,Te.height/Fe)}else $.translate(ve,we),$.rotate(Oe.angle),"scale"in N.element&&!T(Oe,xe)&&$.scale(N.element.scale[0],N.element.scale[1]),$.translate(-ve,-we),$.drawImage(N.canvas,(Be+xe.scrollX)*window.devicePixelRatio-Ze*N.canvasZoom/N.canvasZoom,(Le+xe.scrollY)*window.devicePixelRatio-Ze*N.canvasZoom/N.canvasZoom,N.canvas.width/N.canvasZoom,N.canvas.height/N.canvasZoom);$.restore()},P=function(N,Y,$,xe,Oe){var Ze=Y.generator;switch(N.type){case"selection":$.save(),$.translate(N.x+xe.scrollX,N.y+xe.scrollY),$.fillStyle="rgba(0, 0, 200, 0.04)";var Fe=.5/xe.zoom.value;$.fillRect(Fe,Fe,N.width,N.height),$.lineWidth=1/xe.zoom.value,$.strokeStyle="rgb(105, 101, 219)",$.strokeRect(Fe,Fe,N.width,N.height),$.restore();break;case"freedraw":if(b(N,Ze),xe.isExporting){var Je=(0,j.qf)(N),Ke=(0,f.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3],ve=(Be+ne)/2+xe.scrollX,we=(Le+me)/2+xe.scrollY,Me=(ne-Be)/2-(N.x-Be),Te=(me-Le)/2-(N.y-Le);$.save(),$.translate(ve,we),$.rotate(N.angle),$.translate(-Me,-Te),h(N,Y,$,xe),$.restore()}else{var ze=d(N,xe);x(ze,0,$,xe)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(b(N,Ze),xe.isExporting){var We=(0,j.qf)(N),He=(0,f.Z)(We,4),Ye=He[0],et=He[1],it=He[2],$e=He[3],tt=(Ye+it)/2+xe.scrollX,st=(et+$e)/2+xe.scrollY,Et=(it-Ye)/2-(N.x-Ye),Pt=($e-et)/2-(N.y-et);if((0,c.iB)(N)){var _t=(0,n.tl)(N);if((0,c.Yv)(_t)){var vt=e._.getBoundTextElementPosition(_t,N);Et=(it-Ye)/2-(vt.x-Ye),Pt=($e-et)/2-(vt.y-et)}}$.save(),$.translate(tt,st),X(N,xe)&&($.filter="none");var yt=(0,n.WJ)(N);if((0,c.Yv)(N)&&yt){var ft=document.createElement("canvas"),St=ft.getContext("2d"),Yt=Math.max((0,A.TE)(Ye,it),(0,A.TE)(et,$e)),qt=D(N);ft.width=Yt*Oe.exportScale+10*qt*Oe.exportScale,ft.height=Yt*Oe.exportScale+10*qt*Oe.exportScale,St.translate(ft.width/2,ft.height/2),St.scale(Oe.exportScale,Oe.exportScale),Et=N.width/2-(N.x-Ye),Pt=N.height/2-(N.y-et),St.rotate(N.angle);var Ct=o.Z.canvas(ft);St.translate(-Et,-Pt),h(N,Ct,St,xe),St.translate(Et,Pt),St.rotate(-N.angle);var At=(0,j.qf)(yt),Ne=(0,f.Z)(At,6),Ue=(Ye+it)/2-Ne[4],ot=(et+$e)/2-Ne[5];St.translate(-Ue,-ot),St.clearRect(-yt.width/2,-yt.height/2,yt.width,yt.height),$.scale(1/Oe.exportScale,1/Oe.exportScale),$.drawImage(ft,-ft.width/2,-ft.height/2,ft.width,ft.height)}else $.rotate(N.angle),N.type==="image"&&$.scale(N.scale[0],N.scale[1]),$.translate(-Et,-Pt),h(N,Y,$,xe);$.restore()}else{var at=d(N,xe);x(at,0,$,xe)}break;default:throw new Error("Unimplemented type ".concat(N.type))}},U=function(N,Y,$){if($===void 0)return N.draw(Y);var xe={sets:Y.sets,shape:Y.shape,options:a(a({},Y.options),{},{fixedDecimalPlaceDigits:$})};return N.draw(xe)},L=function(N,Y,$,xe,Oe,Ze,Fe){var Je=(0,j.qf)(N),Ke=(0,f.Z)(Je,4),Be=Ke[0],Le=Ke[1],ne=Ke[2],me=Ke[3],ve=(ne-Be)/2-(N.x-Be),we=(me-Le)/2-(N.y-Le);if((0,c.iB)(N)){var Me=(0,n.tl)(N);if((0,c.Yv)(Me)){var Te=(0,j.qf)(Me),ze=(0,f.Z)(Te,4),We=ze[0],He=ze[1],Ye=ze[2],et=ze[3],it=e._.getBoundTextElementPosition(Me,N);ve=(Ye-We)/2-(it.x-We),we=(et-He)/2-(it.y-He),Oe=Oe+it.x-N.x,Ze=Ze+it.y-N.y}}var $e=180*N.angle/Math.PI,tt=Y.generator,st=$;if(N.link){var Et=$.ownerDocument.createElementNS(B.hR,"a");Et.setAttribute("href",N.link),st.appendChild(Et),st=Et}switch(N.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":b(N,tt);var Pt=U(Y,M(N),B.zK),_t=N.opacity/100;_t!==1&&(Pt.setAttribute("stroke-opacity","".concat(_t)),Pt.setAttribute("fill-opacity","".concat(_t))),Pt.setAttribute("stroke-linecap","round"),Pt.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),st.appendChild(Pt);break;case"line":case"arrow":var vt=(0,n.WJ)(N),yt=$.ownerDocument.createElementNS(B.hR,"mask");if(vt){yt.setAttribute("id","mask-".concat(N.id));var ft=$.ownerDocument.createElementNS(B.hR,"rect");Oe=Oe||0,Ze=Ze||0,ft.setAttribute("x","0"),ft.setAttribute("y","0"),ft.setAttribute("fill","#fff"),ft.setAttribute("width","".concat(N.width+100+Oe)),ft.setAttribute("height","".concat(N.height+100+Ze)),yt.appendChild(ft);var St=$.ownerDocument.createElementNS(B.hR,"rect"),Yt=e._.getBoundTextElementPosition(N,vt),qt=Oe+Yt.x-N.x,Ct=Ze+Yt.y-N.y;St.setAttribute("x",qt.toString()),St.setAttribute("y",Ct.toString()),St.setAttribute("fill","#000"),St.setAttribute("width","".concat(vt.width)),St.setAttribute("height","".concat(vt.height)),St.setAttribute("opacity","1"),yt.appendChild(St)}b(N,tt);var At=$.ownerDocument.createElementNS(B.hR,"g");vt&&At.setAttribute("mask","url(#mask-".concat(N.id,")"));var Ne=N.opacity/100;At.setAttribute("stroke-linecap","round"),M(N).forEach(function(Ur){var _r=U(Y,Ur,B.zK);Ne!==1&&(_r.setAttribute("stroke-opacity","".concat(Ne)),_r.setAttribute("fill-opacity","".concat(Ne))),_r.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),N.type==="line"&&(0,F.g6)(N.points)&&N.backgroundColor!=="transparent"&&_r.setAttribute("fill-rule","evenodd"),At.appendChild(_r)}),st.appendChild(At),st.append(yt);break;case"freedraw":b(N,tt),ae(N);var Ue=N.opacity/100,ot=M(N),at=ot?U(Y,ot,B.zK):$.ownerDocument.createElementNS(B.hR,"g");Ue!==1&&(at.setAttribute("stroke-opacity","".concat(Ue)),at.setAttribute("fill-opacity","".concat(Ue))),at.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),at.setAttribute("stroke","none");var dt=$.ownerDocument.createElementNS(B.hR,"path");dt.setAttribute("fill",N.strokeColor),dt.setAttribute("d",ue(N)),at.appendChild(dt),st.appendChild(at);break;case"image":var gt=Math.round(N.width),jt=Math.round(N.height),Ot=(0,c.wi)(N)&&xe[N.fileId];if(Ot){var Zt="image-".concat(Ot.id),Bt=$.querySelector("#".concat(Zt));if(!Bt){(Bt=$.ownerDocument.createElementNS(B.hR,"symbol")).id=Zt;var Tt=$.ownerDocument.createElementNS(B.hR,"image");Tt.setAttribute("width","100%"),Tt.setAttribute("height","100%"),Tt.setAttribute("href",Ot.dataURL),Bt.appendChild(Tt),st.prepend(Bt)}var Jt=$.ownerDocument.createElementNS(B.hR,"use");if(Jt.setAttribute("href","#".concat(Zt)),Fe&&Ot.mimeType!==B.LO.svg&&Jt.setAttribute("filter",l),Jt.setAttribute("width","".concat(gt)),Jt.setAttribute("height","".concat(jt)),N.scale[0]!==1||N.scale[1]!==1){var nr=N.scale[0]!==1?-gt:0,lr=N.scale[1]!==1?-jt:0;Jt.setAttribute("transform","scale(".concat(N.scale[0],", ").concat(N.scale[1],") translate(").concat(nr," ").concat(lr,")"))}var or=$.ownerDocument.createElementNS(B.hR,"g");or.appendChild(Jt),or.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")")),st.appendChild(or)}break;default:if(!(0,c.iB)(N))throw new Error("Unimplemented type ".concat(N.type));var zt=N.opacity/100,Ft=$.ownerDocument.createElementNS(B.hR,"g");zt!==1&&(Ft.setAttribute("stroke-opacity","".concat(zt)),Ft.setAttribute("fill-opacity","".concat(zt))),Ft.setAttribute("transform","translate(".concat(Oe||0," ").concat(Ze||0,") rotate(").concat($e," ").concat(ve," ").concat(we,")"));for(var $t=N.text.replace(/\r\n?/g,`
`).split(`
`),ir=N.height/$t.length,wr=N.height-N.baseline,Rr=N.textAlign==="center"?N.width/2:N.textAlign==="right"?N.width:0,Nr=(0,A.dZ)(N.text)?"rtl":"ltr",Br=N.textAlign==="center"?"middle":N.textAlign==="right"||Nr==="rtl"?"end":"start",Dr=0;Dr<$t.length;Dr++){var ur=$.ownerDocument.createElementNS(B.hR,"text");ur.textContent=$t[Dr],ur.setAttribute("x","".concat(Rr)),ur.setAttribute("y","".concat((Dr+1)*ir-wr)),ur.setAttribute("font-family",(0,A.$g)(N)),ur.setAttribute("font-size","".concat(N.fontSize,"px")),ur.setAttribute("fill",N.strokeColor),ur.setAttribute("text-anchor",Br),ur.setAttribute("style","white-space: pre;"),ur.setAttribute("direction",Nr),Ft.appendChild(ur)}st.appendChild(Ft)}},ce=new WeakMap([]);function ae(N){var Y=ue(N),$=new Path2D(Y);return ce.set(N,$),$}function ue(N){return function(Y){if(!Y.length)return"";var $=Y.length-1;return Y.reduce(function(xe,Oe,Ze,Fe){return Ze===$?xe.push(Oe,Ce(Oe,Fe[0]),"L",Fe[0],"Z"):xe.push(Oe,Ce(Oe,Fe[Ze+1])),xe},["M",Y[0],"Q"]).join(" ").replace(Pe,"$1")}(s(N.simulatePressure?N.points:N.points.length?N.points.map(function(Y,$){var xe=(0,f.Z)(Y,2);return[xe[0],xe[1],N.pressures[$]]}):[[0,0,.5]],{simulatePressure:N.simulatePressure,size:4.25*N.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(Y){return Math.sin(Y*Math.PI/2)},last:!!N.lastCommittedPoint}))}function Ce(N,Y){return[(N[0]+Y[0])/2,(N[1]+Y[1])/2]}var Pe=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(ge,Q,t){t.d(Q,{Lu:function(){return m},Eu:function(){return a},M_:function(){return fe}});var w,y=t(2577),f=t(1930),c=t(5284),j=t(1047),A=t(756),F=t(1868),o=t(3063),z=t(8982),B=t(6938),G=t(242),le=t(2325),k=t(8290),se=t(267),pe=t(6340);(function(q){q.ACTIVE="active",q.AWAY="away",q.IDLE="idle"})(w||(w={}));var Ee=t(2335),ie=t(4929),de=t(1974);function ye(q,H){var h=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!h){if(Array.isArray(q)||(h=function(S,b){if(S){if(typeof S=="string")return I(S,b);var d=Object.prototype.toString.call(S).slice(8,-1);if(d==="Object"&&S.constructor&&(d=S.constructor.name),d==="Map"||d==="Set")return Array.from(S);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return I(S,b)}}(q))||H){h&&(q=h);var _=0,W=function(){};return{s:W,n:function(){return _>=q.length?{done:!0}:{done:!1,value:q[_++]}},e:function(S){throw S},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,re=!0,O=!1;return{s:function(){h=h.call(q)},n:function(){var S=h.next();return re=S.done,S},e:function(S){O=!0,M=S},f:function(){try{re||h.return==null||h.return()}finally{if(O)throw M}}}}function I(q,H){(H==null||H>q.length)&&(H=q.length);for(var h=0,_=new Array(H);h<H;h++)_[h]=q[h];return _}var J,g=(0,pe.Q5)(),m=2,C=function(q,H,h,_,W,M,re,O){var S=arguments.length>8&&arguments[8]!==void 0&&arguments[8];q.save(),q.translate(M,re),q.rotate(O),S&&q.fillRect(H-M,h-re,_,W),q.strokeRect(H-M,h-re,_,W),q.restore()},v=function(q,H,h,_){var W=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];q.beginPath(),q.arc(H,h,_,0,2*Math.PI),q.fill(),W&&q.stroke()},u=function(q,H,h,_,W,M){var re=arguments.length>6&&arguments[6]!==void 0&&arguments[6];q.strokeStyle="#5e5ad8",q.setLineDash([]),q.fillStyle="rgba(255, 255, 255, 0.9)",M?q.fillStyle="rgba(134, 131, 226, 0.9)":re&&(q.fillStyle="rgba(177, 151, 252, 0.7)"),v(q,_[0],_[1],W/h.zoom.value,!re)},s=function(q,H,h,_){if(H.selectedLinearElement){q.save(),q.translate(h.scrollX,h.scrollY),q.lineWidth=1/h.zoom.value;var W=B._.getPointsGlobalCoordinates(_),M=B._.POINT_HANDLE_SIZE,re=H.editingLinearElement?M:M/2;W.forEach(function(O,S){var b,d,x=!((b=H.editingLinearElement)===null||b===void 0||(d=b.selectedPointsIndices)===null||d===void 0||!d.includes(S));u(q,H,h,O,re,x)}),B._.getEditorMidPoints(_,H).filter(function(O){return O!==null}).forEach(function(O){var S;H!=null&&(S=H.selectedLinearElement)!==null&&S!==void 0&&S.segmentMidPointHoveredCoords&&B._.arePointsEqual(O,H.selectedLinearElement.segmentMidPointHoveredCoords)?H.editingLinearElement?(u(q,H,h,O,re,!1),n(O,q,h)):(n(O,q,h),u(q,H,h,O,re,!1)):(H.editingLinearElement||W.length===2)&&u(q,H,h,O,M/2,!1,!0)}),q.restore()}},n=function(q,H,h){H.fillStyle="rgba(105, 101, 219, 0.4)",v(H,q[0],q[1],B._.POINT_HANDLE_SIZE/h.zoom.value,!1)},e=function(q){var H,h=q.elements,_=q.appState,W=q.scale,M=q.rc,re=q.canvas,O=q.renderConfig;if(re===null)return{atLeastOneVisibleElement:!1};var S=O.renderScrollbars,b=S===void 0||S,d=O.renderSelection,x=d===void 0||d,P=O.renderGrid,U=P===void 0||P,L=O.isExporting,ce=O.selectionColor||c.black,ae=re.getContext("2d");ae.setTransform(1,0,0,1,0,0),ae.save(),ae.scale(W,W);var ue=re.width/W,Ce=re.height/W;L&&O.theme==="dark"&&(ae.filter=Ee.ZF),typeof O.viewBackgroundColor=="string"?((O.viewBackgroundColor==="transparent"||O.viewBackgroundColor.length===5||O.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(O.viewBackgroundColor))&&ae.clearRect(0,0,ue,Ce),ae.save(),ae.fillStyle=O.viewBackgroundColor,ae.fillRect(0,0,ue,Ce),ae.restore()):ae.clearRect(0,0,ue,Ce),ae.save(),ae.scale(O.zoom.value,O.zoom.value),U&&_.gridSize&&function(dt,gt,jt,Ot,Zt,Bt){dt.save(),dt.strokeStyle="rgba(0,0,0,0.1)",dt.beginPath();for(var Tt=jt;Tt<jt+Zt+2*gt;Tt+=gt)dt.moveTo(Tt,Ot-gt),dt.lineTo(Tt,Ot+Bt+2*gt);for(var Jt=Ot;Jt<Ot+Bt+2*gt;Jt+=gt)dt.moveTo(jt-gt,Jt),dt.lineTo(jt+Zt+2*gt,Jt);dt.stroke(),dt.restore()}(ae,_.gridSize,-Math.ceil(O.zoom.value/_.gridSize)*_.gridSize+O.scrollX%_.gridSize,-Math.ceil(O.zoom.value/_.gridSize)*_.gridSize+O.scrollY%_.gridSize,ue/O.zoom.value,Ce/O.zoom.value);var Pe=h.filter(function(dt){return D(dt,ue,Ce,{zoom:O.zoom,offsetLeft:_.offsetLeft,offsetTop:_.offsetTop,scrollX:O.scrollX,scrollY:O.scrollY})}),N=void 0;if(Pe.forEach(function(dt){try{var gt;(0,o.lw)(dt,M,ae,O,_),((gt=_.editingLinearElement)===null||gt===void 0?void 0:gt.elementId)===dt.id&&dt&&(N=dt),L||R(dt,ae,_)}catch(jt){console.error(jt)}}),N&&s(ae,_,O,N),_.selectionElement)try{(0,o.lw)(_.selectionElement,M,ae,O,_)}catch(dt){console.error(dt)}(0,k.N1)(_)&&_.suggestedBindings.filter(function(dt){return dt!=null}).forEach(function(dt){T(ae,O,dt)});var Y,$=(0,F.eD)(h,_);if($.length===1&&((H=_.editingLinearElement)===null||H===void 0?void 0:H.elementId)===$[0].id&&s(ae,_,O,$[0]),_.selectedLinearElement&&_.selectedLinearElement.hoverPointIndex>=0&&function(dt,gt,jt){var Ot,Zt,Bt=gt.selectedLinearElement,Tt=Bt.elementId,Jt=Bt.hoverPointIndex;if((Ot=gt.editingLinearElement)===null||Ot===void 0||(Zt=Ot.selectedPointsIndices)===null||Zt===void 0||!Zt.includes(Jt)){var nr=B._.getElement(Tt);if(nr){var lr=B._.getPointAtIndexGlobalCoordinates(nr,Jt);dt.save(),dt.translate(jt.scrollX,jt.scrollY),n(lr,dt,jt),dt.restore()}}}(ae,_,O),x&&!_.multiElement&&!_.editingLinearElement){var xe,Oe=(0,se.oY)($,_),Ze=$.map(function(dt){return dt.id});if($.length===1&&(0,de.bt)($[0])&&((xe=_.selectedLinearElement)===null||xe===void 0?void 0:xe.elementId)===$[0].id&&!$[0].locked&&s(ae,_,O,$[0]),Oe){var Fe,Je=h.reduce(function(dt,gt){var jt=[];if(Ze.includes(gt.id)&&!(0,G.zq)(_,gt)&&jt.push(ce),O.remoteSelectedElementIds[gt.id]&&jt.push.apply(jt,(0,f.Z)(O.remoteSelectedElementIds[gt.id].map(function(zt){return(0,z.X)(zt,_).background}))),jt.length){var Ot=(0,j.qf)(gt,!0),Zt=(0,y.Z)(Ot,6),Bt=Zt[0],Tt=Zt[1],Jt=Zt[2],nr=Zt[3],lr=Zt[4],or=Zt[5];dt.push({angle:gt.angle,elementX1:Bt,elementY1:Tt,elementX2:Jt,elementY2:nr,selectionColors:jt,dashed:!!O.remoteSelectedElementIds[gt.id],cx:lr,cy:or})}return dt},[]),Ke=function(dt){var gt=(0,G.Fb)(h,dt),jt=(0,j.KP)(gt),Ot=(0,y.Z)(jt,4),Zt=Ot[0],Bt=Ot[1],Tt=Ot[2],Jt=Ot[3];Je.push({angle:0,elementX1:Zt,elementX2:Tt,elementY1:Bt,elementY2:Jt,selectionColors:[c.black],dashed:!0,cx:Zt+(Tt-Zt)/2,cy:Bt+(Jt-Bt)/2})},Be=ye((0,G.iJ)(_));try{for(Be.s();!(Fe=Be.n()).done;)Ke(Fe.value)}catch(dt){Be.e(dt)}finally{Be.f()}_.editingGroupId&&Ke(_.editingGroupId),Je.forEach(function(dt){return p(ae,O,dt)})}if(ae.save(),ae.translate(O.scrollX,O.scrollY),$.length===1){ae.fillStyle=c.white;var Le=(0,j.PC)($[0],O.zoom,"mouse");!_.viewModeEnabled&&Oe&&l(ae,O,Le,$[0].angle)}else if($.length>1&&!_.isRotating){var ne=2*m/O.zoom.value;ae.fillStyle=c.white;var me=(0,j.KP)($),ve=(0,y.Z)(me,4),we=ve[0],Me=ve[1],Te=ve[2],ze=ve[3],We=ae.getLineDash();ae.setLineDash([2/O.zoom.value]);var He=ae.lineWidth;ae.lineWidth=1/O.zoom.value,ae.strokeStyle=ce,C(ae,we-ne,Me-ne,Te-we+2*ne,ze-Me+2*ne,(we+Te)/2,(Me+ze)/2,0),ae.lineWidth=He,ae.setLineDash(We);var Ye=(0,j.kK)([we,Me,Te,ze,(we+Te)/2,(Me+ze)/2],0,O.zoom,"mouse",j.ox);$.some(function(dt){return!dt.locked})&&l(ae,O,Ye,0)}ae.restore()}for(var et in ae.restore(),O.remotePointerViewportCoords){var it=O.remotePointerViewportCoords[et],$e=it.x,tt=it.y;$e-=_.offsetLeft,tt-=_.offsetTop;var st=$e<0||$e>ue-9||tt<0||tt>Ce-14;$e=Math.max($e,0),$e=Math.min($e,ue-9),tt=Math.max(tt,0),tt=Math.min(tt,Ce-14);var Et=(0,z.X)(et,_),Pt=Et.background,_t=Et.stroke;ae.save(),ae.strokeStyle=_t,ae.fillStyle=Pt;var vt=O.remotePointerUserStates[et];(st||vt===w.AWAY)&&(ae.globalAlpha=.48),O.remotePointerButton&&O.remotePointerButton[et]==="down"&&(ae.beginPath(),ae.arc($e,tt,15,0,2*Math.PI,!1),ae.lineWidth=3,ae.strokeStyle="#ffffff88",ae.stroke(),ae.closePath(),ae.beginPath(),ae.arc($e,tt,15,0,2*Math.PI,!1),ae.lineWidth=1,ae.strokeStyle=_t,ae.stroke(),ae.closePath()),ae.beginPath(),ae.moveTo($e,tt),ae.lineTo($e+1,tt+14),ae.lineTo($e+4,tt+9),ae.lineTo($e+9,tt+10),ae.lineTo($e,tt),ae.fill(),ae.stroke();var yt=O.remotePointerUsernames[et],ft="";vt===w.AWAY?ft=g?"":" (".concat(w.AWAY,")"):vt===w.IDLE&&(ft=g?"":" (".concat(w.IDLE,")"));var St="".concat(yt||"").concat(ft?" ".concat(ft):"");if(!st&&St){var Yt=$e+9,qt=tt+14,Ct=ae.measureText(St),At=Ct.actualBoundingBoxDescent+Ct.actualBoundingBoxAscent,Ne=Yt-1,Ue=qt-1,ot=Ct.width+8+2,at=At+8+2;ae.roundRect?(ae.beginPath(),ae.roundRect(Ne,Ue,ot,at,4/O.zoom.value),ae.fillStyle=Pt,ae.fill(),ae.fillStyle=_t,ae.stroke()):(ae.fillStyle=_t,ae.fillRect(Ne,Ue,ot,at),ae.fillStyle=Pt,ae.fillRect(Yt,qt,ot-2,at-2)),ae.fillStyle=c.white,ae.fillText(St,Yt+4,qt+4+Ct.actualBoundingBoxAscent)}ae.restore(),ae.closePath()}return b&&(Y=(0,A.tJ)(h,ue,Ce,O),ae.save(),ae.fillStyle=A.w1,ae.strokeStyle="rgba(255,255,255,0.8)",[Y.horizontal,Y.vertical].forEach(function(dt){dt&&function(gt,jt,Ot,Zt,Bt,Tt){gt.beginPath(),gt.moveTo(jt+Tt,Ot),gt.lineTo(jt+Zt-Tt,Ot),gt.quadraticCurveTo(jt+Zt,Ot,jt+Zt,Ot+Tt),gt.lineTo(jt+Zt,Ot+Bt-Tt),gt.quadraticCurveTo(jt+Zt,Ot+Bt,jt+Zt-Tt,Ot+Bt),gt.lineTo(jt+Tt,Ot+Bt),gt.quadraticCurveTo(jt,Ot+Bt,jt,Ot+Bt-Tt),gt.lineTo(jt,Ot+Tt),gt.quadraticCurveTo(jt,Ot,jt+Tt,Ot),gt.closePath(),gt.fill(),gt.stroke()}(ae,dt.x,dt.y,dt.width,dt.height,A.nn/2)}),ae.restore()),ae.restore(),{atLeastOneVisibleElement:Pe.length>0,scrollBars:Y}},i=(0,pe.hR)(function(q){var H,h=e(q);(H=q.callback)===null||H===void 0||H.call(q,h)},{trailing:!0}),a=function(q,H){var h;if(!H){var _=e(q);return(h=q.callback)===null||h===void 0||h.call(q,_),_}i(q)},l=function(q,H,h,_){Object.keys(h).forEach(function(W){var M=h[W];if(M!==void 0){var re=(0,y.Z)(M,4),O=re[0],S=re[1],b=re[2],d=re[3];q.save(),q.lineWidth=1/H.zoom.value,H.selectionColor&&(q.strokeStyle=H.selectionColor),W==="rotation"?v(q,O+b/2,S+d/2,b/2):q.roundRect?(q.beginPath(),q.roundRect(O,S,b,d,2/H.zoom.value),q.fill(),q.stroke()):C(q,O,S,b,d,O+b/2,S+d/2,_,!0),q.restore()}})},p=function(q,H,h){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*m,W=h.angle,M=h.elementX1,re=h.elementY1,O=h.elementX2,S=h.elementY2,b=h.selectionColors,d=h.cx,x=h.cy,P=h.dashed,U=O-M,L=S-re,ce=_/H.zoom.value,ae=8/H.zoom.value,ue=4/H.zoom.value;q.save(),q.translate(H.scrollX,H.scrollY),q.lineWidth=1/H.zoom.value;for(var Ce=b.length,Pe=0;Pe<Ce;++Pe)q.strokeStyle=b[Pe],P&&q.setLineDash([ae,ue+(ae+ue)*(Ce-1)]),q.lineDashOffset=(ae+ue)*Pe,C(q,M-ce,re-ce,U+2*ce,L+2*ce,d,x,W);q.restore()},T=function(q,H,h){var _=Array.isArray(h)?te:X;q.save(),q.translate(H.scrollX,H.scrollY),_(q,h),q.restore()},X=function(q,H){var h=(0,j.qf)(H),_=(0,y.Z)(h,4),W=_[0],M=_[1],re=_[2]-W,O=_[3]-M,S=(0,le.fb)(H,re,O);q.strokeStyle="rgba(0,0,0,.05)",q.lineWidth=S-4;var b=2+S/2;switch(H.type){case"rectangle":case"text":case"image":C(q,W-b,M-b,re+2*b,O+2*b,W+re/2,M+O/2,H.angle);break;case"diamond":var d=Math.hypot(re,O);(function(x,P,U,L,ce,ae){x.save(),x.translate(L,ce),x.rotate(ae),x.beginPath(),x.moveTo(0,U/2),x.lineTo(P/2,0),x.lineTo(0,-U/2),x.lineTo(-P/2,0),x.closePath(),x.stroke(),x.restore()})(q,re+2*(b*d/O),O+2*(b*d/re),W+re/2,M+O/2,H.angle);break;case"ellipse":(function(x,P,U,L,ce,ae){x.beginPath(),x.ellipse(L,ce,P/2,U/2,ae,0,2*Math.PI),x.stroke()})(q,re+2*b,O+2*b,W+re/2,M+O/2,H.angle)}},te=function(q,H){var h=(0,y.Z)(H,3),_=h[0],W=h[1],M=h[2],re=(0,le.fb)(M,M.width,M.height);q.strokeStyle="rgba(0,0,0,0)",q.fillStyle="rgba(0,0,0,.05)",(W==="both"?[0,-1]:W==="start"?[0]:[-1]).forEach(function(O){var S=B._.getPointAtIndexGlobalCoordinates(_,O),b=(0,y.Z)(S,2),d=b[0],x=b[1];v(q,d,x,re)})},R=function(q,H,h){if(q.link&&!h.selectedElementIds[q.id]){var _=(0,j.qf)(q),W=(0,y.Z)(_,4),M=W[0],re=W[1],O=W[2],S=W[3],b=(0,ie.sw)([M,re,O,S],q.angle,h),d=(0,y.Z)(b,4),x=d[0],P=d[1],U=d[2],L=d[3],ce=x+U/2,ae=P+L/2;if(H.save(),H.translate(h.scrollX+ce,h.scrollY+ae),H.rotate(q.angle),J&&J.zoom===h.zoom.value)H.drawImage(J,x-ce,P-ae,U,L);else{(J=document.createElement("canvas")).zoom=h.zoom.value,J.width=U*window.devicePixelRatio*h.zoom.value,J.height=L*window.devicePixelRatio*h.zoom.value;var ue=J.getContext("2d");ue.scale(window.devicePixelRatio*h.zoom.value,window.devicePixelRatio*h.zoom.value),ue.fillStyle="#fff",ue.fillRect(0,0,U,L),ue.drawImage(ie.rj,0,0,U,L),ue.restore(),H.drawImage(J,x-ce,P-ae,U,L)}H.restore()}},D=function(q,H,h,_){var W=(0,j.Pi)(q),M=(0,y.Z)(W,4),re=M[0],O=M[1],S=M[2],b=M[3],d=(0,pe.dE)({clientX:_.offsetLeft,clientY:_.offsetTop},_),x=(0,pe.dE)({clientX:_.offsetLeft+H,clientY:_.offsetTop+h},_);return d.x<=S&&d.y<=b&&x.x>=re&&x.y>=O},fe=function(q,H,h,_){var W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},M=W.offsetX,re=M===void 0?0:M,O=W.offsetY,S=O===void 0?0:O,b=W.exportWithDarkMode,d=b!==void 0&&b;h&&q.forEach(function(x,P){if(!x.isDeleted)try{(0,o.Rg)(x,H,h,_,x.x+re,x.y+S,d)}catch(U){console.error(U)}})}},1564:function(ge,Q,t){var w=t(1930),y=t(8821),f=t(5169),c=t(1047),j=function(F){return typeof F=="string"},A=function(){function F(){(0,y.Z)(this,F),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,f.Z)(F,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(o){return this.elementsMap.get(o)||null}},{key:"getNonDeletedElement",value:function(o){var z=this.getElement(o);return z&&(0,c.qP)(z)?z:null}},{key:"mapElements",value:function(o){var z=!1,B=this.elements.map(function(G){var le=o(G);return le!==G&&(z=!0),le});return z&&this.replaceAllElements(B),z}},{key:"replaceAllElements",value:function(o){var z=this;this.elements=o,this.elementsMap.clear(),o.forEach(function(B){z.elementsMap.set(B.id,B),F.mapElementToScene(B,z)}),this.nonDeletedElements=(0,c.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var o=0,z=Array.from(this.callbacks);o<z.length;o++)(0,z[o])()}},{key:"addCallback",value:function(o){var z=this;if(this.callbacks.has(o))throw new Error;return this.callbacks.add(o),function(){if(!z.callbacks.has(o))throw new Error;z.callbacks.delete(o)}}},{key:"destroy",value:function(){var o=this;F.sceneMapById.forEach(function(z,B){z===o&&F.sceneMapById.delete(B)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(o,z){if(!Number.isFinite(z)||z<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var B=[].concat((0,w.Z)(this.elements.slice(0,z)),[o],(0,w.Z)(this.elements.slice(z)));this.replaceAllElements(B)}},{key:"getElementIndex",value:function(o){return this.elements.findIndex(function(z){return z.id===o})}}],[{key:"mapElementToScene",value:function(o,z){j(o)?this.sceneMapById.set(o,z):(this.sceneMapByElement.set(o,z),this.sceneMapById.set(o.id,z))}},{key:"getScene",value:function(o){return j(o)?this.sceneMapById.get(o)||null:this.sceneMapByElement.get(o)||null}}]),F}();A.sceneMapByElement=new WeakMap,A.sceneMapById=new Map,Q.Z=A},8120:function(ge,Q,t){t.d(Q,{$b:function(){return w},CJ:function(){return z},M9:function(){return c},PD:function(){return y},QG:function(){return o},Un:function(){return F},Zd:function(){return f},bZ:function(){return A},sh:function(){return j}});var w=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="line"||B==="freedraw"},y=function(B){return B!=="image"},f=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="freedraw"||B==="arrow"||B==="line"},c=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="arrow"||B==="line"},j=function(B){return B==="rectangle"||B==="arrow"||B==="line"||B==="diamond"},A=function(B){return B==="text"},F=function(B){return B==="arrow"},o=function(B,G){for(var le=null,k=B.length-1;k>=0;--k){var se=B[k];if(!se.isDeleted&&G(se)){le=se;break}}return le},z=function(B,G){return B.filter(function(le){return!le.isDeleted&&G(le)})}},4162:function(ge,Q,t){t.d(Q,{$D:function(){return pe},Cg:function(){return ie},NL:function(){return se},oj:function(){return k}});var w=t(2577),y=t(8950),f=t(2975),c=t.n(f),j=t(8234),A=t(8925),F=t(3547),o=t(6340),z=t(2335),B=t(8897),G=t(5523),le=t(5637),k="<!-- svg-source:excalidraw -->",se=function(){var de=(0,y.Z)(c().mark(function ye(I,J,g,m){var C,v,u,s,n,e,i,a,l,p,T,X,te,R,D,fe,q,H,h=arguments;return c().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return C=m.exportBackground,v=m.exportPadding,u=v===void 0?z.qy:v,s=m.viewBackgroundColor,n=h.length>4&&h[4]!==void 0?h[4]:function(W,M){var re=document.createElement("canvas");return re.width=W*J.exportScale,re.height=M*J.exportScale,{canvas:re,scale:J.exportScale}},e=Ee(I,u),i=(0,w.Z)(e,4),a=i[0],l=i[1],p=i[2],T=i[3],X=n(p,T),te=X.canvas,R=X.scale,D=R===void 0?1:R,fe=(0,B.im)(),_.next=7,(0,le.Xx)({imageCache:new Map,fileIds:(0,le.oA)(I).map(function(W){return W.fileId}),files:g});case 7:return q=_.sent,H=q.imageCache,(0,F.Eu)({elements:I,appState:J,scale:D,rc:j.Z.canvas(te),canvas:te,renderConfig:{viewBackgroundColor:C?s:null,scrollX:-a+u,scrollY:-l+u,zoom:fe.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:J.exportWithDarkMode?"dark":"light",imageCache:H,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),_.abrupt("return",te);case 11:case"end":return _.stop()}},ye)}));return function(ye,I,J,g){return de.apply(this,arguments)}}(),pe=function(){var de=(0,y.Z)(c().mark(function ye(I,J,g){var m,C,v,u,s,n,e,i,a,l,p,T,X,te,R,D,fe,q;return c().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(m=J.exportPadding,C=m===void 0?z.qy:m,v=J.viewBackgroundColor,u=J.exportScale,s=u===void 0?1:u,n=J.exportEmbedScene,e="",!n){H.next=14;break}return H.prev=3,H.next=6,Promise.resolve().then(t.bind(t,673));case 6:return H.next=8,H.sent.encodeSvgMetadata({text:(0,G.I_)(I,J,g||{},"local")});case 8:e=H.sent,H.next=14;break;case 11:H.prev=11,H.t0=H.catch(3),console.error(H.t0);case 14:return i=Ee(I,C),a=(0,w.Z)(i,4),l=a[0],p=a[1],T=a[2],X=a[3],(te=document.createElementNS(z.hR,"svg")).setAttribute("version","1.1"),te.setAttribute("xmlns",z.hR),te.setAttribute("viewBox","0 0 ".concat(T," ").concat(X)),te.setAttribute("width","".concat(T*s)),te.setAttribute("height","".concat(X*s)),J.exportWithDarkMode&&te.setAttribute("filter",z.ZF),R="https://excalidraw.com/",R=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.14.2"),(D=R)!==null&&D!==void 0&&D.startsWith("/")&&(R=R.replace("/","".concat(window.location.origin,"/"))),R="".concat(R,"/dist/excalidraw-assets/"),te.innerHTML=`
  `.concat(k,`
  `).concat(e,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(R,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(R,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),J.exportBackground&&v&&((fe=te.ownerDocument.createElementNS(z.hR,"rect")).setAttribute("x","0"),fe.setAttribute("y","0"),fe.setAttribute("width","".concat(T)),fe.setAttribute("height","".concat(X)),fe.setAttribute("fill",v),te.appendChild(fe)),q=j.Z.svg(te),(0,F.M_)(I,q,te,g||{},{offsetX:-l+C,offsetY:-p+C,exportWithDarkMode:J.exportWithDarkMode}),H.abrupt("return",te);case 29:case"end":return H.stop()}},ye,null,[[3,11]])}));return function(ye,I,J){return de.apply(this,arguments)}}(),Ee=function(de,ye){var I=(0,A.KP)(de),J=(0,w.Z)(I,4),g=J[0],m=J[1],C=J[2],v=J[3];return[g,m,(0,o.TE)(g,C)+2*ye,(0,o.TE)(m,v)+ye+ye]},ie=function(de,ye,I){var J=Ee(de,ye).map(function(m){return Math.trunc(m*I)}),g=(0,w.Z)(J,4);return[g[2],g[3]]}},75:function(ge,Q,t){t.d(Q,{$b:function(){return c.$b},CJ:function(){return c.CJ},M9:function(){return c.M9},N:function(){return y.N},PR:function(){return y.PR},QG:function(){return c.QG},Un:function(){return c.Un},W:function(){return f.W},Yp:function(){return y.Yp},Zd:function(){return c.Zd},Zs:function(){return y.Zs},_4:function(){return w._4},bZ:function(){return c.bZ},eD:function(){return y.eD},j:function(){return j.j},sh:function(){return c.sh}});var w=t(756),y=t(1868),f=t(2264),c=t(8120),j=t(746)},2264:function(ge,Q,t){t.d(Q,{W:function(){return j},s:function(){return c}});var w=t(2577),y=t(1047),f=t(6340),c=function(A){var F=A.scenePoint,o=A.viewportDimensions,z=A.zoom;return{scrollX:o.width/2/z.value-F.x,scrollY:o.height/2/z.value-F.y}},j=function(A,F,o){if(!(A=(0,y.n_)(A)).length)return{scrollX:0,scrollY:0};var z=(0,y.KP)(A),B=(0,w.Z)(z,4),G=B[0],le=B[1],k=B[2],se=B[3];if(function(ie,de,ye){var I=(0,w.Z)(ye,4),J=I[0],g=I[1],m=I[2],C=I[3],v=(0,f._i)({sceneX:J,sceneY:g},ie),u=v.x,s=v.y,n=(0,f._i)({sceneX:m,sceneY:C},ie),e=n.x,i=n.y;return e-u>ie.width||i-s>ie.height}(F,0,[G,le,k,se])){var pe=(0,y.os)(A,(0,f.dE)({clientX:F.scrollX,clientY:F.scrollY},F)),Ee=(0,w.Z)(pe,4);G=Ee[0],le=Ee[1],k=Ee[2],se=Ee[3]}return c({scenePoint:{x:(G+k)/2,y:(le+se)/2},viewportDimensions:{width:F.width,height:F.height},zoom:F.zoom})}},756:function(ge,Q,t){t.d(Q,{WM:function(){return j},_4:function(){return z},nn:function(){return A},tJ:function(){return o},w1:function(){return F}});var w=t(2577),y=t(1047),f=t(6340),c=t(8211),j=4,A=6,F="rgba(0,0,0,0.3)",o=function(B,G,le,k){var se=k.scrollX,pe=k.scrollY,Ee=k.zoom;if(B.length===0)return{horizontal:null,vertical:null};var ie=(0,y.KP)(B),de=(0,w.Z)(ie,4),ye=de[0],I=de[1],J=de[2],g=de[3],m=G/Ee.value,C=le/Ee.value,v=G-m,u=le-C,s={top:parseInt((0,f.IH)("sat")),bottom:parseInt((0,f.IH)("sab")),left:parseInt((0,f.IH)("sal")),right:parseInt((0,f.IH)("sar"))},n=(0,c.G3)().rtl,e=v/2-se+s.left,i=u/2-pe+s.top,a=e+m-s.right,l=i+C-s.bottom,p=Math.min(ye,e),T=Math.min(I,i),X=Math.max(J,a),te=Math.max(g,l);return{horizontal:e===p&&a===X?null:{x:Math.max(s.left,j)+(e-p)/(X-p)*G,y:le-A-Math.max(j,s.bottom),width:(a-e)/(X-p)*G-Math.max(2*j,s.left+s.right),height:A},vertical:i===T&&l===te?null:{x:n?Math.max(s.left,j):G-A-Math.max(s.right,j),y:(i-T)/(te-T)*le+Math.max(s.top,j),width:A,height:(l-i)/(te-T)*le-Math.max(2*j,s.top+s.bottom)}}},z=function(B,G,le){var k=[B.horizontal,B.vertical].map(function(ie){return ie!=null&&ie.x<=G&&G<=ie.x+ie.width&&ie.y<=le&&le<=ie.y+ie.height}),se=(0,w.Z)(k,2),pe=se[0],Ee=se[1];return{isOverEither:pe||Ee,isOverHorizontal:pe,isOverVertical:Ee}}},1868:function(ge,Q,t){t.d(Q,{N:function(){return j},PR:function(){return A},Yp:function(){return c},Zs:function(){return o},eD:function(){return F}});var w=t(2577),y=t(1047),f=t(1974),c=function(z,B){var G=(0,y.qf)(B),le=(0,w.Z)(G,4),k=le[0],se=le[1],pe=le[2],Ee=le[3];return z.filter(function(ie){var de=(0,y.Pi)(ie),ye=(0,w.Z)(de,4),I=ye[0],J=ye[1],g=ye[2],m=ye[3];return ie.locked===!1&&ie.type!=="selection"&&!(0,f.Xh)(ie)&&k<=I&&se<=J&&pe>=g&&Ee>=m})},j=function(z,B){return z.some(function(G){return B.selectedElementIds[G.id]})},A=function(z,B,G){var le=Array.from(new Set(F(z,B).map(function(k){return G(k)})));return le.length===1?le[0]:null},F=function(z,B){var G=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return z.filter(function(le){return B.selectedElementIds[le.id]||G&&(0,f.Xh)(le)&&B.selectedElementIds[le==null?void 0:le.containerId]?le:null})},o=function(z,B){return B.editingElement?[B.editingElement]:F(z,B,!0)}},746:function(ge,Q,t){t.d(Q,{E:function(){return f},j:function(){return y}});var w=t(2335),y=function(c){return Math.max(w.Zj,Math.min(c,30))},f=function(c,j){var A=c.viewportX,F=c.viewportY,o=c.nextZoom,z=A-j.offsetLeft,B=F-j.offsetTop,G=j.zoom.value;return{scrollX:j.scrollX+(z-z/G)+-(z-z/o),scrollY:j.scrollY+(B-B/G)+-(B-B/o),zoom:{value:o}}}},6340:function(ge,Q,t){t.d(Q,{$9:function(){return re},$g:function(){return ye},$h:function(){return ae},AK:function(){return fe},C3:function(){return x},Ds:function(){return J},FG:function(){return q},Fc:function(){return se},G3:function(){return d},IH:function(){return te},Ip:function(){return S},KJ:function(){return s},Mj:function(){return N},OF:function(){return n},Om:function(){return v},Oo:function(){return pe},PI:function(){return W},Pr:function(){return l},Q5:function(){return O},Qm:function(){return _},TE:function(){return C},Uk:function(){return e},_Z:function(){return ie},_i:function(){return X},ag:function(){return L},cx:function(){return H},dE:function(){return T},dZ:function(){return D},h2:function(){return U},hR:function(){return g},mO:function(){return I},qr:function(){return h},qz:function(){return b},rB:function(){return i},s:function(){return de},tH:function(){return M},uY:function(){return p},v4:function(){return ce},w8:function(){return Pe},wO:function(){return Ee},wo:function(){return a},xn:function(){return P},xp:function(){return Ce},y8:function(){return ue},yo:function(){return m},z8:function(){return u}});var w=t(6655),y=t(7169),f=t(1930),c=t(2577),j=t(5284),A=t(56),F=t(2335),o=t(5156),z=t(8897);function B(Y,$){var xe=Object.keys(Y);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(Y);$&&(Oe=Oe.filter(function(Ze){return Object.getOwnPropertyDescriptor(Y,Ze).enumerable})),xe.push.apply(xe,Oe)}return xe}function G(Y){for(var $=1;$<arguments.length;$++){var xe=arguments[$]!=null?arguments[$]:{};$%2?B(Object(xe),!0).forEach(function(Oe){(0,y.Z)(Y,Oe,xe[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(xe)):B(Object(xe)).forEach(function(Oe){Object.defineProperty(Y,Oe,Object.getOwnPropertyDescriptor(xe,Oe))})}return Y}var le,k,se=function(){var Y=new Date,$=Y.getFullYear(),xe="".concat(Y.getMonth()+1).padStart(2,"0"),Oe="".concat(Y.getDate()).padStart(2,"0"),Ze="".concat(Y.getHours()).padStart(2,"0"),Fe="".concat(Y.getMinutes()).padStart(2,"0");return"".concat($,"-").concat(xe,"-").concat(Oe,"-").concat(Ze).concat(Fe)},pe=function(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)},Ee=function(Y){return Y instanceof HTMLElement&&Y.className.includes("ToolIcon")},ie=function(Y){return Y instanceof HTMLElement&&Y.dataset.type==="wysiwyg"||Y instanceof HTMLBRElement||Y instanceof HTMLInputElement||Y instanceof HTMLTextAreaElement||Y instanceof HTMLSelectElement},de=function(Y){return Y instanceof HTMLElement&&Y.dataset.type==="wysiwyg"||Y instanceof HTMLBRElement||Y instanceof HTMLTextAreaElement||Y instanceof HTMLInputElement&&(Y.type==="text"||Y.type==="number")},ye=function(Y){for(var $=Y.fontFamily,xe=0,Oe=Object.entries(F.ut);xe<Oe.length;xe++){var Ze=(0,c.Z)(Oe[xe],2),Fe=Ze[0];if(Ze[1]===$)return"".concat(Fe,", ").concat(F._D)}return F._D},I=function(Y){var $=Y.fontSize,xe=Y.fontFamily;return"".concat($,"px ").concat(ye({fontFamily:xe}))},J=function(Y,$){var xe=0,Oe=null,Ze=function(){for(var Fe=arguments.length,Je=new Array(Fe),Ke=0;Ke<Fe;Ke++)Je[Ke]=arguments[Ke];Oe=Je,clearTimeout(xe),xe=window.setTimeout(function(){Oe=null,Y.apply(void 0,Je)},$)};return Ze.flush=function(){if(clearTimeout(xe),Oe){var Fe=Oe;Oe=null,Y.apply(void 0,(0,f.Z)(Fe))}},Ze.cancel=function(){Oe=null,clearTimeout(xe)},Ze},g=function(Y,$){var xe=null,Oe=null,Ze=null,Fe=function Ke(Be){xe=window.requestAnimationFrame(function(){xe=null,Y.apply(void 0,(0,f.Z)(Be)),Oe=null,Ze&&(Oe=Ze,Ze=null,Ke(Oe))})},Je=function(){for(var Ke=arguments.length,Be=new Array(Ke),Le=0;Le<Ke;Le++)Be[Le]=arguments[Le];Oe=Be,xe===null?Fe(Oe):$!=null&&$.trailing&&(Ze=Be)};return Je.flush=function(){xe!==null&&(cancelAnimationFrame(xe),xe=null),Oe&&(Y.apply(void 0,(0,f.Z)(Ze||Oe)),Oe=Ze=null)},Je.cancel=function(){Oe=Ze=null,xe!==null&&(cancelAnimationFrame(xe),xe=null)},Je},m=function(Y,$){if(!Y.length||$<1)return[];for(var xe=0,Oe=0,Ze=Array(Math.ceil(Y.length/$));xe<Y.length;)Ze[Oe++]=Y.slice(xe,xe+=$);return Ze},C=function(Y,$){return Math.abs(Y-$)},v=function(Y,$){return $.type==="custom"?G(G({},Y.activeTool),{},{type:"custom",customType:$.customType}):G(G({},Y.activeTool),{},{lastActiveTool:$.lastActiveToolBeforeEraser===void 0?Y.activeTool.lastActiveTool:$.lastActiveToolBeforeEraser,type:$.type,customType:null})},u=function(Y){Y&&(Y.style.cursor="")},s=function(Y,$){Y&&(Y.style.cursor=$)},n=function(Y,$){le&&le.theme===$||function(){var xe=$===F.C6.DARK;(le=document.createElement("canvas")).theme=$,le.height=20,le.width=20;var Oe=le.getContext("2d");Oe.lineWidth=1,Oe.beginPath(),Oe.arc(le.width/2,le.height/2,5,0,2*Math.PI),Oe.fillStyle=xe?j.black:j.white,Oe.fill(),Oe.strokeStyle=xe?j.white:j.black,Oe.stroke(),k=le.toDataURL(F.LO.svg)}(),s(Y,"url(".concat(k,") ").concat(10," ").concat(10,", auto"))},e=function(Y,$){Y&&($.activeTool.type==="selection"?u(Y):(0,z.l$)($)?Y.style.cursor=F.oc.GRAB:(0,z.EN)($)?n(Y,$.theme):["image","custom"].includes($.activeTool.type)||(Y.style.cursor=F.oc.CROSSHAIR))},i=function(){var Y;return((Y=document.fullscreenElement)===null||Y===void 0?void 0:Y.nodeName)==="HTML"},a=function(){return document.documentElement.requestFullscreen()},l=function(){return document.exitFullscreen()},p=function(Y){return Y=Y.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),F.Um?Y.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):Y.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},T=function(Y,$){var xe=Y.clientX,Oe=Y.clientY,Ze=$.zoom,Fe=$.offsetLeft,Je=$.offsetTop,Ke=$.scrollX,Be=$.scrollY;return{x:(xe-Fe)/Ze.value-Ke,y:(Oe-Je)/Ze.value-Be}},X=function(Y,$){var xe=Y.sceneX,Oe=Y.sceneY,Ze=$.zoom,Fe=$.offsetLeft,Je=$.offsetTop,Ke=$.scrollX,Be=$.scrollY;return{x:(xe+Ke)*Ze.value+Fe,y:(Oe+Be)*Ze.value+Je}},te=function(Y){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(Y))},R=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),D=function(Y){return R.test(Y)},fe=function(Y){var $=(0,c.Z)(Y,2);return{x:$[0],y:$[1]}},q=function(Y){if((Y==null?void 0:Y.name)!=="AbortError")throw Y;console.warn(Y)},H=function(Y,$){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;xe<0&&(xe=Y.length+xe);for(var Oe=(xe=Math.min(Y.length,Math.max(xe,0)))-1;++Oe<Y.length;)if($(Y[Oe],Oe,Y))return Oe;return-1},h=function(Y,$){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y.length-1;xe<0&&(xe=Y.length+xe);for(var Oe=(xe=Math.min(Y.length-1,Math.max(xe,0)))+1;--Oe>-1;)if($(Y[Oe],Oe,Y))return Oe;return-1},_=function(Y){var $=Y.length===5&&Y.substr(4,1)==="0",xe=Y.length===9&&Y.substr(7,2)==="00";return $||xe||Y===A.Z.elementBackground[0]},W=function(){var Y,$,xe=new Promise(function(Oe,Ze){Y=Oe,$=Ze});return xe.resolve=Y,xe.reject=$,xe},M=function(Y){return function($){(0,o.unstable_batchedUpdates)(Y,$)}},re=function(Y){return g(function($){(0,o.unstable_batchedUpdates)(Y,$)})},O=function(){var Y=document.createElement("canvas").getContext("2d");return Y?(Y.fillStyle="#f00",Y.textBaseline="top",Y.font="32px Arial",Y.fillText("",0,0),Y.getImageData(12,12,1,1).data[0]!==0):!1},S=function(Y){for(var $=Y.parentElement;$;){if($===document.body)return document;var xe=window.getComputedStyle($).overflowY;if($.scrollHeight>$.clientHeight&&(xe==="auto"||xe==="scroll"||xe==="overlay"))return $;$=$.parentElement}return document},b=function(Y){for(var $=Y.parentElement;$;){if($.tabIndex>-1)return void $.focus();$=$.parentElement}},d=function(Y){return Array.from(Y).map(function($){return"0".concat($.toString(16)).slice(-2)}).join("")},x=function(){return U()?1:Date.now()},P=function(Y){return Y.reduce(function($,xe){return $.set(typeof xe=="string"?xe:xe.id,xe),$},new Map)},U=function(){var Y;return typeof process<"u"&&((Y={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})===null||Y===void 0?void 0:Y.NODE_ENV)==="test"},L=function(Y,$){return new CustomEvent(Y,{detail:{nativeEvent:$},cancelable:!0})},ce=function(Y,$){var xe=!1;for(var Oe in $){var Ze=$[Oe];if(Ze!==void 0){if(Y[Oe]===Ze&&((0,w.Z)(Ze)!=="object"||Ze===null))continue;xe=!0}}return xe?G(G({},Y),$):Y},ae=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},ue=function(Y){return!!Y&&(0,w.Z)(Y)==="object"&&"then"in Y&&"catch"in Y&&"finally"in Y},Ce=function(Y){var $=Y==null?void 0:Y.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return $?Array.from($).filter(function(xe){return xe.tabIndex>-1&&!xe.disabled}):[]},Pe=function(Y,$){var xe=Object.keys(Y),Oe=Object.keys(Y);return xe.length===Oe.length&&xe.every(function(Ze){return Y[Ze]===$[Ze]})},N=function(Y,$){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Oe=xe.checkForDefaultPrevented,Ze=Oe===void 0||Oe;return function(Fe){if(Y==null||Y(Fe),!Ze||!Fe.defaultPrevented)return $==null?void 0:$(Fe)}}},9669:function(ge){ge.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(ge){ge.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(ge){ge.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Cascadia.woff2"},3940:function(ge,Q,t){ge.exports=t.p+"excalidraw-assets/Virgil.woff2"},9787:function(ge){ge.exports=Wr},5156:function(ge){ge.exports=an},9649:function(ge,Q,t){var w=t(8114).default;function y(){ge.exports=y=function(){return f},ge.exports.__esModule=!0,ge.exports.default=ge.exports;var f={},c=Object.prototype,j=c.hasOwnProperty,A=Object.defineProperty||function(a,l,p){a[l]=p.value},F=typeof Symbol=="function"?Symbol:{},o=F.iterator||"@@iterator",z=F.asyncIterator||"@@asyncIterator",B=F.toStringTag||"@@toStringTag";function G(a,l,p){return Object.defineProperty(a,l,{value:p,enumerable:!0,configurable:!0,writable:!0}),a[l]}try{G({},"")}catch{G=function(l,p,T){return l[p]=T}}function le(a,l,p,T){var X=l&&l.prototype instanceof pe?l:pe,te=Object.create(X.prototype),R=new n(T||[]);return A(te,"_invoke",{value:C(a,p,R)}),te}function k(a,l,p){try{return{type:"normal",arg:a.call(l,p)}}catch(T){return{type:"throw",arg:T}}}f.wrap=le;var se={};function pe(){}function Ee(){}function ie(){}var de={};G(de,o,function(){return this});var ye=Object.getPrototypeOf,I=ye&&ye(ye(e([])));I&&I!==c&&j.call(I,o)&&(de=I);var J=ie.prototype=pe.prototype=Object.create(de);function g(a){["next","throw","return"].forEach(function(l){G(a,l,function(p){return this._invoke(l,p)})})}function m(a,l){function p(X,te,R,D){var fe=k(a[X],a,te);if(fe.type!=="throw"){var q=fe.arg,H=q.value;return H&&w(H)=="object"&&j.call(H,"__await")?l.resolve(H.__await).then(function(h){p("next",h,R,D)},function(h){p("throw",h,R,D)}):l.resolve(H).then(function(h){q.value=h,R(q)},function(h){return p("throw",h,R,D)})}D(fe.arg)}var T;A(this,"_invoke",{value:function(X,te){function R(){return new l(function(D,fe){p(X,te,D,fe)})}return T=T?T.then(R,R):R()}})}function C(a,l,p){var T="suspendedStart";return function(X,te){if(T==="executing")throw new Error("Generator is already running");if(T==="completed"){if(X==="throw")throw te;return i()}for(p.method=X,p.arg=te;;){var R=p.delegate;if(R){var D=v(R,p);if(D){if(D===se)continue;return D}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(T==="suspendedStart")throw T="completed",p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);T="executing";var fe=k(a,l,p);if(fe.type==="normal"){if(T=p.done?"completed":"suspendedYield",fe.arg===se)continue;return{value:fe.arg,done:p.done}}fe.type==="throw"&&(T="completed",p.method="throw",p.arg=fe.arg)}}}function v(a,l){var p=a.iterator[l.method];if(p===void 0){if(l.delegate=null,l.method==="throw"){if(a.iterator.return&&(l.method="return",l.arg=void 0,v(a,l),l.method==="throw"))return se;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return se}var T=k(p,a.iterator,l.arg);if(T.type==="throw")return l.method="throw",l.arg=T.arg,l.delegate=null,se;var X=T.arg;return X?X.done?(l[a.resultName]=X.value,l.next=a.nextLoc,l.method!=="return"&&(l.method="next",l.arg=void 0),l.delegate=null,se):X:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,se)}function u(a){var l={tryLoc:a[0]};1 in a&&(l.catchLoc=a[1]),2 in a&&(l.finallyLoc=a[2],l.afterLoc=a[3]),this.tryEntries.push(l)}function s(a){var l=a.completion||{};l.type="normal",delete l.arg,a.completion=l}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(u,this),this.reset(!0)}function e(a){if(a){var l=a[o];if(l)return l.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length)){var p=-1,T=function X(){for(;++p<a.length;)if(j.call(a,p))return X.value=a[p],X.done=!1,X;return X.value=void 0,X.done=!0,X};return T.next=T}}return{next:i}}function i(){return{value:void 0,done:!0}}return Ee.prototype=ie,A(J,"constructor",{value:ie,configurable:!0}),A(ie,"constructor",{value:Ee,configurable:!0}),Ee.displayName=G(ie,B,"GeneratorFunction"),f.isGeneratorFunction=function(a){var l=typeof a=="function"&&a.constructor;return!!l&&(l===Ee||(l.displayName||l.name)==="GeneratorFunction")},f.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,ie):(a.__proto__=ie,G(a,B,"GeneratorFunction")),a.prototype=Object.create(J),a},f.awrap=function(a){return{__await:a}},g(m.prototype),G(m.prototype,z,function(){return this}),f.AsyncIterator=m,f.async=function(a,l,p,T,X){X===void 0&&(X=Promise);var te=new m(le(a,l,p,T),X);return f.isGeneratorFunction(l)?te:te.next().then(function(R){return R.done?R.value:te.next()})},g(J),G(J,B,"Generator"),G(J,o,function(){return this}),G(J,"toString",function(){return"[object Generator]"}),f.keys=function(a){var l=Object(a),p=[];for(var T in l)p.push(T);return p.reverse(),function X(){for(;p.length;){var te=p.pop();if(te in l)return X.value=te,X.done=!1,X}return X.done=!0,X}},f.values=e,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(s),!a)for(var l in this)l.charAt(0)==="t"&&j.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var l=this;function p(fe,q){return te.type="throw",te.arg=a,l.next=fe,q&&(l.method="next",l.arg=void 0),!!q}for(var T=this.tryEntries.length-1;T>=0;--T){var X=this.tryEntries[T],te=X.completion;if(X.tryLoc==="root")return p("end");if(X.tryLoc<=this.prev){var R=j.call(X,"catchLoc"),D=j.call(X,"finallyLoc");if(R&&D){if(this.prev<X.catchLoc)return p(X.catchLoc,!0);if(this.prev<X.finallyLoc)return p(X.finallyLoc)}else if(R){if(this.prev<X.catchLoc)return p(X.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return p(X.finallyLoc)}}}},abrupt:function(a,l){for(var p=this.tryEntries.length-1;p>=0;--p){var T=this.tryEntries[p];if(T.tryLoc<=this.prev&&j.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var X=T;break}}X&&(a==="break"||a==="continue")&&X.tryLoc<=l&&l<=X.finallyLoc&&(X=null);var te=X?X.completion:{};return te.type=a,te.arg=l,X?(this.method="next",this.next=X.finallyLoc,se):this.complete(te)},complete:function(a,l){if(a.type==="throw")throw a.arg;return a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&l&&(this.next=l),se},finish:function(a){for(var l=this.tryEntries.length-1;l>=0;--l){var p=this.tryEntries[l];if(p.finallyLoc===a)return this.complete(p.completion,p.afterLoc),s(p),se}},catch:function(a){for(var l=this.tryEntries.length-1;l>=0;--l){var p=this.tryEntries[l];if(p.tryLoc===a){var T=p.completion;if(T.type==="throw"){var X=T.arg;s(p)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(a,l,p){return this.delegate={iterator:e(a),resultName:l,nextLoc:p},this.method==="next"&&(this.arg=void 0),se}},f}ge.exports=y,ge.exports.__esModule=!0,ge.exports.default=ge.exports},8114:function(ge){function Q(t){return ge.exports=Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ge.exports.__esModule=!0,ge.exports.default=ge.exports,Q(t)}ge.exports=Q,ge.exports.__esModule=!0,ge.exports.default=ge.exports},2975:function(ge,Q,t){var w=t(9649)();ge.exports=w;try{regeneratorRuntime=w}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=w:Function("r","regeneratorRuntime = r")(w)}},7017:function(ge,Q,t){function w(y,f){(f==null||f>y.length)&&(f=y.length);for(var c=0,j=new Array(f);c<f;c++)j[c]=y[c];return j}t.d(Q,{Z:function(){return w}})},3173:function(ge,Q,t){function w(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}t.d(Q,{Z:function(){return w}})},8950:function(ge,Q,t){function w(f,c,j,A,F,o,z){try{var B=f[o](z),G=B.value}catch(le){return void j(le)}B.done?c(G):Promise.resolve(G).then(A,F)}function y(f){return function(){var c=this,j=arguments;return new Promise(function(A,F){var o=f.apply(c,j);function z(G){w(o,A,F,z,B,"next",G)}function B(G){w(o,A,F,z,B,"throw",G)}z(void 0)})}}t.d(Q,{Z:function(){return y}})},8821:function(ge,Q,t){function w(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}t.d(Q,{Z:function(){return w}})},5169:function(ge,Q,t){function w(f,c){for(var j=0;j<c.length;j++){var A=c[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(f,A.key,A)}}function y(f,c,j){return c&&w(f.prototype,c),j&&w(f,j),Object.defineProperty(f,"prototype",{writable:!1}),f}t.d(Q,{Z:function(){return y}})},7169:function(ge,Q,t){function w(y,f,c){return f in y?Object.defineProperty(y,f,{value:c,enumerable:!0,configurable:!0,writable:!0}):y[f]=c,y}t.d(Q,{Z:function(){return w}})},2312:function(ge,Q,t){function w(y){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},w(y)}t.d(Q,{Z:function(){return w}})},2248:function(ge,Q,t){t.d(Q,{Z:function(){return y}});var w=t(5901);function y(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),c&&(0,w.Z)(f,c)}},2726:function(ge,Q,t){function w(y,f){if(y==null)return{};var c,j,A=function(o,z){if(o==null)return{};var B,G,le={},k=Object.keys(o);for(G=0;G<k.length;G++)B=k[G],z.indexOf(B)>=0||(le[B]=o[B]);return le}(y,f);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(y);for(j=0;j<F.length;j++)c=F[j],f.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(y,c)&&(A[c]=y[c])}return A}t.d(Q,{Z:function(){return w}})},7245:function(ge,Q,t){t.d(Q,{Z:function(){return f}});var w=t(6655),y=t(3173);function f(c,j){if(j&&((0,w.Z)(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,y.Z)(c)}},5901:function(ge,Q,t){function w(y,f){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,j){return c.__proto__=j,c},w(y,f)}t.d(Q,{Z:function(){return w}})},2577:function(ge,Q,t){t.d(Q,{Z:function(){return y}});var w=t(9139);function y(f,c){return function(j){if(Array.isArray(j))return j}(f)||function(j,A){var F=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(F!=null){var o,z,B=[],G=!0,le=!1;try{for(F=F.call(j);!(G=(o=F.next()).done)&&(B.push(o.value),!A||B.length!==A);G=!0);}catch(k){le=!0,z=k}finally{try{G||F.return==null||F.return()}finally{if(le)throw z}}return B}}(f,c)||(0,w.Z)(f,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(ge,Q,t){t.d(Q,{Z:function(){return f}});var w=t(7017),y=t(9139);function f(c){return function(j){if(Array.isArray(j))return(0,w.Z)(j)}(c)||function(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}(c)||(0,y.Z)(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(ge,Q,t){function w(y){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},w(y)}t.d(Q,{Z:function(){return w}})},9139:function(ge,Q,t){t.d(Q,{Z:function(){return y}});var w=t(7017);function y(f,c){if(f){if(typeof f=="string")return(0,w.Z)(f,c);var j=Object.prototype.toString.call(f).slice(8,-1);return j==="Object"&&f.constructor&&(j=f.constructor.name),j==="Map"||j==="Set"?Array.from(f):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?(0,w.Z)(f,c):void 0}}},5605:function(ge,Q,t){t.d(Q,{x0:function(){return w}});let w=(y=21)=>crypto.getRandomValues(new Uint8Array(y)).reduce((f,c)=>f+=(c&=63)<36?c.toString(36):c<62?(c-26).toString(36).toUpperCase():c>62?"-":"_","")},5284:function(ge){ge.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(ge){ge.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}`)},4451:function(ge){ge.exports=JSON.parse('{"ar-SA":87,"bg-BG":55,"bn-BD":60,"ca-ES":94,"cs-CZ":75,"da-DK":33,"de-DE":100,"el-GR":100,"en":100,"es-ES":100,"eu-ES":100,"fa-IR":96,"fi-FI":93,"fr-FR":100,"gl-ES":100,"he-IL":90,"hi-IN":69,"hu-HU":89,"id-ID":100,"it-IT":100,"ja-JP":100,"kab-KAB":93,"kk-KZ":21,"ko-KR":99,"ku-TR":96,"lt-LT":64,"lv-LV":98,"mr-IN":98,"my-MM":41,"nb-NO":100,"nl-NL":91,"nn-NO":90,"oc-FR":98,"pa-IN":83,"pl-PL":85,"pt-BR":98,"pt-PT":100,"ro-RO":100,"ru-RU":98,"si-LK":8,"sk-SK":100,"sl-SI":100,"sv-SE":96,"ta-IN":93,"tr-TR":98,"uk-UA":96,"vi-VN":20,"zh-CN":100,"zh-HK":26,"zh-TW":100}')}},Tn={};function ut(ge){var Q=Tn[ge];if(Q!==void 0)return Q.exports;var t=Tn[ge]={id:ge,exports:{}};return sn[ge](t,t.exports,ut),t.exports}ut.m=sn,ut.n=function(ge){var Q=ge&&ge.__esModule?function(){return ge.default}:function(){return ge};return ut.d(Q,{a:Q}),Q},Vr=Object.getPrototypeOf?function(ge){return Object.getPrototypeOf(ge)}:function(ge){return ge.__proto__},ut.t=function(ge,Q){if(1&Q&&(ge=this(ge)),8&Q||typeof ge=="object"&&ge&&(4&Q&&ge.__esModule||16&Q&&typeof ge.then=="function"))return ge;var t=Object.create(null);ut.r(t);var w={};Gr=Gr||[null,Vr({}),Vr([]),Vr(Vr)];for(var y=2&Q&&ge;typeof y=="object"&&!~Gr.indexOf(y);y=Vr(y))Object.getOwnPropertyNames(y).forEach(function(f){w[f]=function(){return ge[f]}});return w.default=function(){return ge},ut.d(t,w),t},ut.d=function(ge,Q){for(var t in Q)ut.o(Q,t)&&!ut.o(ge,t)&&Object.defineProperty(ge,t,{enumerable:!0,get:Q[t]})},ut.f={},ut.e=function(ge){return Promise.all(Object.keys(ut.f).reduce(function(Q,t){return ut.f[t](ge,Q),Q},[]))},ut.u=function(ge){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[ge]+"-"+{22:"99a76a48916e784a3941",1204:"fe7beb29f046cf979c5a",1302:"e13dc6084f655194af4f",1477:"42e19993d78f0511571b",1513:"908e098345bfe344ced8",1628:"44988db4fe7f7bee07bc",1690:"78fba0f25867078ee02f",1790:"d6ab0523c9f9ac4d4c9e",2091:"7917b25a9d62d616fcc5",2312:"990bb8880202c20c3785",2359:"4f22057d9bc9df25cb6a",2404:"489ab902f9b0c9beda2e",2943:"efa2a7afe9e96f9e3f3e",3024:"57a2b32c58feb9bae878",3031:"05e1c3849ef5154e3157",3082:"9ee7f888aa463032fc1c",3162:"9ec2bd766af522488b44",3397:"018610e3231f3e9bd068",3421:"34674e3698d74ccdf98b",3512:"192a5cc851541797f756",3674:"474c6d4804d20d89d2dc",3682:"a7f8d76d690714b6eb78",3721:"94fa57d1ac7d244fde4e",3808:"41353abc8704e1038943",3885:"5e0a10f6fe31c9155bd4",4e3:"111b8f1260701cbdeb96",4680:"75e3e6cf7a1cb55917ed",4736:"53d1c69ef585b6dd219b",4977:"7cb48008ab8645becf37",5089:"7e65c3ca40525a2b7f5e",5130:"4d5527dd80e208ef2522",5330:"97bb57d1147c72892c68",5395:"6d8fb5092f873fdd74be",6071:"a0dbeb91d8ddbfac8ac1",6239:"b14da0116f6f5e0712e9",6265:"3ff3ea69ff9ae725c469",6768:"c31a44bb3a66bf7e2106",6844:"04089ce24a73ee1c83f0",7368:"545e1923f5ad1c94c6ab",7429:"7ff651d150881fbbfb13",7759:"2360947dd1e1db4ee5ad",7920:"696f940b619ce66fe8d2",8081:"5720590cf9a63067baf3",8124:"96975eab7a07d2d6b772",8340:"f0baeb52b74ec4e2b65e",8534:"209bf1d6aa674d6550df",8750:"cd3468557b0bce2c8793",8759:"47d0ae898ef2c67ce309",9551:"17519996c12e47f5fded",9828:"33a69bbfe9268d9133d4"}[ge]+".js"},ut.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ut.o=function(ge,Q){return Object.prototype.hasOwnProperty.call(ge,Q)},Sr={},ln="ExcalidrawLib:",ut.l=function(ge,Q,t,w){if(Sr[ge])Sr[ge].push(Q);else{var y,f;if(t!==void 0)for(var c=document.getElementsByTagName("script"),j=0;j<c.length;j++){var A=c[j];if(A.getAttribute("src")==ge||A.getAttribute("data-webpack")==ln+t){y=A;break}}y||(f=!0,(y=document.createElement("script")).charset="utf-8",y.timeout=120,ut.nc&&y.setAttribute("nonce",ut.nc),y.setAttribute("data-webpack",ln+t),y.src=ge),Sr[ge]=[Q];var F=function(z,B){y.onerror=y.onload=null,clearTimeout(o);var G=Sr[ge];if(delete Sr[ge],y.parentNode&&y.parentNode.removeChild(y),G&&G.forEach(function(le){return le(B)}),z)return z(B)},o=setTimeout(F.bind(null,void 0,{type:"timeout",target:y}),12e4);y.onerror=F.bind(null,y.onerror),y.onload=F.bind(null,y.onload),f&&document.head.appendChild(y)}},ut.r=function(ge){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ge,"__esModule",{value:!0})},ut.p="",function(){ut.b=document.baseURI||self.location.href;var ge={1388:0};ut.f.j=function(w,y){var f=ut.o(ge,w)?ge[w]:void 0;if(f!==0)if(f)y.push(f[2]);else{var c=new Promise(function(F,o){f=ge[w]=[F,o]});y.push(f[2]=c);var j=ut.p+ut.u(w),A=new Error;ut.l(j,function(F){if(ut.o(ge,w)&&((f=ge[w])!==0&&(ge[w]=void 0),f)){var o=F&&(F.type==="load"?"missing":F.type),z=F&&F.target&&F.target.src;A.message="Loading chunk "+w+` failed.
(`+o+": "+z+")",A.name="ChunkLoadError",A.type=o,A.request=z,f[1](A)}},"chunk-"+w,w)}};var Q=function(w,y){var f,c,j=y[0],A=y[1],F=y[2],o=0;if(j.some(function(z){return ge[z]!==0})){for(f in A)ut.o(A,f)&&(ut.m[f]=A[f]);F&&F(ut)}for(w&&w(y);o<j.length;o++)c=j[o],ut.o(ge,c)&&ge[c]&&ge[c][0](),ge[c]=0},t=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];t.forEach(Q.bind(null,0)),t.push=Q.bind(null,t.push.bind(t))}(),ut.nc=void 0;var Xr={};return function(){ut.r(Xr),ut.d(Xr,{Button:function(){return we},Excalidraw:function(){return At},FONT_FAMILY:function(){return ge.ut},Footer:function(){return H},LiveCollaborationTrigger:function(){return et},MIME_TYPES:function(){return ge.LO},MainMenu:function(){return h.Z},Sidebar:function(){return _t.Y},THEME:function(){return ge.C6},WelcomeScreen:function(){return Ke},bumpVersion:function(){return Et.ZP},defaultLang:function(){return v.Fp},exportToBlob:function(){return tt.Fl},exportToCanvas:function(){return tt.NL},exportToClipboard:function(){return tt.i1},exportToSvg:function(){return tt.$D},getFreeDrawSvgPath:function(){return tt.N7},getNonDeletedElements:function(){return it.Lm},getSceneVersion:function(){return it.Uo},isInvisiblySmallElement:function(){return it.QD},isLinearElement:function(){return st.bt},languages:function(){return v.Mj},loadFromBlob:function(){return tt.cT},loadLibraryFromBlob:function(){return tt.lV},loadSceneOrLibraryFromBlob:function(){return tt.ZY},mergeLibraryItems:function(){return tt.zh},mutateElement:function(){return Et.DR},newElementWith:function(){return Et.BE},parseLibraryTokensFromUrl:function(){return Pt.Di},restore:function(){return $e.nu},restoreAppState:function(){return $e.lY},restoreElements:function(){return $e.ET},restoreLibraryItems:function(){return $e.wJ},sceneCoordsToViewportCoords:function(){return e._i},serializeAsJSON:function(){return tt.I_},serializeLibraryAsJSON:function(){return tt.NI},useDevice:function(){return n.Fy},useHandleLibrary:function(){return Pt.xS},viewportCoordsToSceneCoords:function(){return e.dE}});var ge=ut(2335);ge.Vi.TEST!=="production"&&(ut.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.14.2","/dist/"));var Q=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(Ne){if((Ne=Math.trunc(Ne)||0)<0&&(Ne+=this.length),!(Ne<0||Ne>=this.length))return this[Ne]},writable:!0,enumerable:!1,configurable:!0})},t=ut(487),w=ut.n(t),y=ut(631),f=ut.n(y),c=ut(2052),j=ut.n(c),A=ut(4010),F=ut.n(A),o=ut(1469),z=ut.n(o),B=ut(9329),G=ut.n(B),le=ut(4295),k={};k.styleTagTransform=G(),k.setAttributes=F(),k.insert=j().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=z(),w()(le.Z,k),le.Z&&le.Z.locals&&le.Z.locals;var se=ut(6479),pe=ut.n(se),Ee=ut(9713),ie=ut.n(Ee),de=ut(9787),ye=ut.n(de),I=ut(8950),J=ut(2577),g=ut(2975),m=ut.n(g),C=ut(5440),v=ut(8211),u=ut(4512),s=function(Ne){var Ue=(0,de.useState)(!0),ot=(0,J.Z)(Ue,2),at=ot[0],dt=ot[1];return(0,de.useEffect)(function(){var gt=function(){var Ot=(0,I.Z)(m().mark(function Zt(){return m().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Bt.next=2,(0,v.m0)(jt);case 2:dt(!1);case 3:case"end":return Bt.stop()}},Zt)}));return function(){return Ot.apply(this,arguments)}}(),jt=v.Mj.find(function(Ot){return Ot.code===Ne.langCode})||v.Fp;gt()},[Ne.langCode]),at?(0,u.jsx)(C.z,{theme:Ne.theme}):Ne.children},n=ut(4206),e=ut(6340),i=ut(9915),a={};a.styleTagTransform=G(),a.setAttributes=F(),a.insert=j().bind(null,"head"),a.domAPI=f(),a.insertStyleElement=z(),w()(i.Z,a),i.Z&&i.Z.locals&&i.Z.locals;var l=ut(9310),p={};p.styleTagTransform=G(),p.setAttributes=F(),p.insert=j().bind(null,"head"),p.domAPI=f(),p.insertStyleElement=z(),w()(l.Z,p),l.Z&&l.Z.locals&&l.Z.locals;var T=ut(4739),X=ut(9487),te=ut(45),R=ut(8888),D=ut(8793),fe={};fe.styleTagTransform=G(),fe.setAttributes=F(),fe.insert=j().bind(null,"head"),fe.domAPI=f(),fe.insertStyleElement=z(),w()(D.Z,fe),D.Z&&D.Z.locals&&D.Z.locals;var q=function(Ne){var Ue=Ne.children,ot=(0,R.R6)().footerCenterTunnel,at=(0,n.gF)();return(0,u.jsx)(ot.In,{children:(0,u.jsx)("div",{className:(0,te.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":at.zenModeEnabled}),children:Ue})})},H=q;q.displayName="FooterCenter";var h=ut(4709),_=ut(7169),W=ut(2726),M=ut(5654),re=ut(785),O=ut(3646),S=["onSelect","children","icon","shortcut","className"],b=["children","href","icon","shortcut","className"];function d(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Ne);Ue&&(at=at.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,at)}return ot}function x(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?d(Object(ot),!0).forEach(function(at){(0,_.Z)(Ne,at,ot[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):d(Object(ot)).forEach(function(at){Object.defineProperty(Ne,at,Object.getOwnPropertyDescriptor(ot,at))})}return Ne}var P=function(Ne){var Ue=Ne.icon,ot=Ne.shortcut,at=Ne.children,dt=(0,n.Fy)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Ue}),(0,u.jsx)("div",{className:"welcome-screen-menu-item__text",children:at}),ot&&!dt.isMobile&&(0,u.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:ot})]})};P.displayName="WelcomeScreenMenuItemContent";var U=function(Ne){var Ue=Ne.onSelect,ot=Ne.children,at=Ne.icon,dt=Ne.shortcut,gt=Ne.className,jt=gt===void 0?"":gt,Ot=(0,W.Z)(Ne,S);return(0,u.jsx)("button",x(x({},Ot),{},{type:"button",className:"welcome-screen-menu-item ".concat(jt),onClick:Ue,children:(0,u.jsx)(P,{icon:at,shortcut:dt,children:ot})}))};U.displayName="WelcomeScreenMenuItem";var L=function(Ne){var Ue=Ne.children,ot=Ne.href,at=Ne.icon,dt=Ne.shortcut,gt=Ne.className,jt=gt===void 0?"":gt,Ot=(0,W.Z)(Ne,b);return(0,u.jsx)("a",x(x({},Ot),{},{className:"welcome-screen-menu-item ".concat(jt),href:ot,target:"_blank",rel:"noreferrer",children:(0,u.jsx)(P,{icon:at,shortcut:dt,children:Ue})}))};L.displayName="WelcomeScreenMenuItemLink";var ce=function(Ne){var Ue=Ne.children,ot=(0,R.R6)().welcomeScreenCenterTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsx)("div",{className:"welcome-screen-center",children:Ue||(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ae,{}),(0,u.jsx)(ue,{children:(0,v.t)("welcomeScreen.defaults.center_heading")}),(0,u.jsxs)(Ce,{children:[(0,u.jsx)(N,{}),(0,u.jsx)(Pe,{})]})]})})})};ce.displayName="Center";var ae=function(Ne){var Ue=Ne.children;return(0,u.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Ue||(0,u.jsxs)(u.Fragment,{children:[O.Mw," Excalidraw"]})})};ae.displayName="Logo";var ue=function(Ne){var Ue=Ne.children;return(0,u.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Ue})};ue.displayName="Heading";var Ce=function(Ne){var Ue=Ne.children;return(0,u.jsx)("div",{className:"welcome-screen-menu",children:Ue})};Ce.displayName="Menu";var Pe=function(){var Ne=(0,n.eh)();return(0,u.jsx)(U,{onSelect:function(){return Ne.executeAction(M.jY)},shortcut:"?",icon:O.by,children:(0,v.t)("helpDialog.title")})};Pe.displayName="MenuItemHelp";var N=function(){var Ne=(0,n.gF)(),Ue=(0,n.eh)();return Ne.viewModeEnabled?null:(0,u.jsx)(U,{onSelect:function(){return Ue.executeAction(M._d)},shortcut:(0,re.C)("loadScene"),icon:O.Tl,children:(0,v.t)("buttons.load")})};N.displayName="MenuItemLoadScene";var Y=function(Ne){var Ue=Ne.onSelect;return(0,n.gF)(),(0,u.jsx)(U,{shortcut:null,onSelect:Ue,icon:O.jn,children:(0,v.t)("labels.liveCollaboration")})};Y.displayName="MenuItemLiveCollaborationTrigger",ce.Logo=ae,ce.Heading=ue,ce.Menu=Ce,ce.MenuItem=U,ce.MenuItemLink=L,ce.MenuItemHelp=Pe,ce.MenuItemLoadScene=N,ce.MenuItemLiveCollaborationTrigger=Y;var $=function(Ne){var Ue=Ne.children,ot=(0,R.R6)().welcomeScreenMenuHintTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[O.oQ,(0,u.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ue||(0,v.t)("welcomeScreen.defaults.menuHint")})]})})};$.displayName="MenuHint";var xe=function(Ne){var Ue=Ne.children,ot=(0,R.R6)().welcomeScreenToolbarHintTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,u.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ue||(0,v.t)("welcomeScreen.defaults.toolbarHint")}),O.DJ]})})};xe.displayName="ToolbarHint";var Oe=function(Ne){var Ue=Ne.children,ot=(0,R.R6)().welcomeScreenHelpHintTunnel;return(0,u.jsx)(ot.In,{children:(0,u.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,u.jsx)("div",{children:Ue||(0,v.t)("welcomeScreen.defaults.helpHint")}),O._U]})})};Oe.displayName="HelpHint";var Ze=ut(1569),Fe={};Fe.styleTagTransform=G(),Fe.setAttributes=F(),Fe.insert=j().bind(null,"head"),Fe.domAPI=f(),Fe.insertStyleElement=z(),w()(Ze.Z,Fe),Ze.Z&&Ze.Z.locals&&Ze.Z.locals;var Je=function(Ne){return(0,u.jsx)(u.Fragment,{children:Ne.children||(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ce,{}),(0,u.jsx)($,{}),(0,u.jsx)(xe,{}),(0,u.jsx)(Oe,{})]})})};Je.displayName="WelcomeScreen",Je.Center=ce,Je.Hints={MenuHint:$,ToolbarHint:xe,HelpHint:Oe};var Ke=Je,Be=ut(3137),Le={};Le.styleTagTransform=G(),Le.setAttributes=F(),Le.insert=j().bind(null,"head"),Le.domAPI=f(),Le.insertStyleElement=z(),w()(Be.Z,Le),Be.Z&&Be.Z.locals&&Be.Z.locals;var ne=["type","onSelect","children","className"];function me(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Ne);Ue&&(at=at.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,at)}return ot}function ve(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?me(Object(ot),!0).forEach(function(at){(0,_.Z)(Ne,at,ot[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):me(Object(ot)).forEach(function(at){Object.defineProperty(Ne,at,Object.getOwnPropertyDescriptor(ot,at))})}return Ne}var we=function(Ne){var Ue=Ne.type,ot=Ue===void 0?"button":Ue,at=Ne.onSelect,dt=Ne.children,gt=Ne.className,jt=gt===void 0?"":gt,Ot=(0,W.Z)(Ne,ne);return(0,u.jsx)("button",ve(ve({onClick:function(Zt){var Bt;at(),(Bt=Ot.onClick)===null||Bt===void 0||Bt.call(Ot,Zt)},type:ot,className:"excalidraw-button ".concat(jt)},Ot),{},{children:dt}))},Me=ut(3397),Te={};Te.styleTagTransform=G(),Te.setAttributes=F(),Te.insert=j().bind(null,"head"),Te.domAPI=f(),Te.insertStyleElement=z(),w()(Me.Z,Te),Me.Z&&Me.Z.locals&&Me.Z.locals;var ze=["isCollaborating","onSelect"];function We(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Ne);Ue&&(at=at.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,at)}return ot}function He(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?We(Object(ot),!0).forEach(function(at){(0,_.Z)(Ne,at,ot[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):We(Object(ot)).forEach(function(at){Object.defineProperty(Ne,at,Object.getOwnPropertyDescriptor(ot,at))})}return Ne}var Ye=function(Ne){var Ue=Ne.isCollaborating,ot=Ne.onSelect,at=(0,W.Z)(Ne,ze),dt=(0,n.gF)();return(0,u.jsxs)(we,He(He({},at),{},{className:(0,te.Z)("collab-button",{active:Ue}),type:"button",onSelect:ot,style:{position:"relative"},title:(0,v.t)("labels.liveCollaboration"),children:[O.jn,dt.collaborators.size>0&&(0,u.jsx)("div",{className:"CollabButton-collaborators",children:dt.collaborators.size})]}))},et=Ye;Ye.displayName="LiveCollaborationTrigger";var it=ut(1047),$e=ut(679),tt=ut(3024),st=ut(1974),Et=ut(1935),Pt=ut(7053),_t=ut(9430),vt=["initialData","UIOptions"],yt=["initialData","UIOptions"];function ft(Ne,Ue){var ot=Object.keys(Ne);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(Ne);Ue&&(at=at.filter(function(dt){return Object.getOwnPropertyDescriptor(Ne,dt).enumerable})),ot.push.apply(ot,at)}return ot}function St(Ne){for(var Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?ft(Object(ot),!0).forEach(function(at){ie()(Ne,at,ot[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(ot)):ft(Object(ot)).forEach(function(at){Object.defineProperty(Ne,at,Object.getOwnPropertyDescriptor(ot,at))})}return Ne}var Yt=function(Ne){var Ue,ot,at,dt=Ne.onChange,gt=Ne.initialData,jt=Ne.excalidrawRef,Ot=Ne.isCollaborating,Zt=Ot!==void 0&&Ot,Bt=Ne.onPointerUpdate,Tt=Ne.renderTopRightUI,Jt=Ne.renderSidebar,nr=Ne.langCode,lr=nr===void 0?v.Fp.code:nr,or=Ne.viewModeEnabled,zt=Ne.zenModeEnabled,Ft=Ne.gridModeEnabled,$t=Ne.libraryReturnUrl,ir=Ne.theme,wr=Ne.name,Rr=Ne.renderCustomStats,Nr=Ne.onPaste,Br=Ne.detectScroll,Dr=Br===void 0||Br,ur=Ne.handleKeyboardGlobally,Ur=ur!==void 0&&ur,_r=Ne.onLibraryChange,Lr=Ne.autoFocus,Kr=Lr!==void 0&&Lr,Hr=Ne.generateIdForFile,cn=Ne.onLinkOpen,V=Ne.onPointerDown,he=Ne.onScrollChange,je=Ne.children,_e=(Ue=Ne.UIOptions)===null||Ue===void 0?void 0:Ue.canvasActions,Ge=St(St({},Ne.UIOptions),{},{canvasActions:St(St({},ge.cW.canvasActions),_e)});return _e!=null&&_e.export&&(Ge.canvasActions.export.saveFileToDisk=(ot=(at=_e.export)===null||at===void 0?void 0:at.saveFileToDisk)!==null&&ot!==void 0?ot:ge.cW.canvasActions.export.saveFileToDisk),Ge.canvasActions.toggleTheme===null&&ir===void 0&&(Ge.canvasActions.toggleTheme=!0),(0,de.useEffect)(function(){var Qe=function(bt){typeof bt.scale=="number"&&bt.scale!==1&&bt.preventDefault()};return document.addEventListener("touchmove",Qe,{passive:!1}),function(){document.removeEventListener("touchmove",Qe)}},[]),(0,u.jsx)(s,{langCode:lr,theme:ir,children:(0,u.jsx)(T.zt,{unstable_createStore:function(){return X.e_},scope:X.yE,children:(0,u.jsx)(n.ZP,{onChange:dt,initialData:gt,excalidrawRef:jt,isCollaborating:Zt,onPointerUpdate:Bt,renderTopRightUI:Tt,langCode:lr,viewModeEnabled:or,zenModeEnabled:zt,gridModeEnabled:Ft,libraryReturnUrl:$t,theme:ir,name:wr,renderCustomStats:Rr,UIOptions:Ge,onPaste:Nr,detectScroll:Dr,handleKeyboardGlobally:Ur,onLibraryChange:_r,autoFocus:Kr,generateIdForFile:Hr,onLinkOpen:cn,onPointerDown:V,onScrollChange:he,renderSidebar:Jt,children:je})})})},qt=function(Ne,Ue){if(Ne.children!==Ue.children)return!1;Ne.initialData;var ot=Ne.UIOptions,at=ot===void 0?{}:ot,dt=pe()(Ne,vt),gt=(Ue.initialData,Ue.UIOptions),jt=gt===void 0?{}:gt,Ot=pe()(Ue,yt),Zt=Object.keys(at),Bt=Object.keys(jt);return Zt.length===Bt.length&&Zt.every(function(Tt){return Tt==="canvasActions"?Object.keys(at.canvasActions).every(function(Jt){var nr,lr,or,zt;return Jt==="export"&&at!=null&&(nr=at.canvasActions)!==null&&nr!==void 0&&nr.export&&jt!=null&&(lr=jt.canvasActions)!==null&&lr!==void 0&&lr.export?at.canvasActions.export.saveFileToDisk===jt.canvasActions.export.saveFileToDisk:(at==null||(or=at.canvasActions)===null||or===void 0?void 0:or[Jt])===(jt==null||(zt=jt.canvasActions)===null||zt===void 0?void 0:zt[Jt])}):at[Tt]===jt[Tt]})&&(0,e.w8)(dt,Ot)},Ct=(0,de.forwardRef)(function(Ne,Ue){return(0,u.jsx)(Yt,St(St({},Ne),{},{excalidrawRef:Ue}))}),At=ye().memo(Ct,qt);At.displayName="Excalidraw",Q()}(),Xr}()})}(eo)),eo.exports}var Io;function Ca(){return Io||(Io=1,Qn.exports=Oa()),Qn.exports}var Mo=Ca();function za(yr){const{state:Fr,dispatch:Wr}=ha.useContext(ma),an=ga(),Gr=ja(),Vr=gn.useContext(va),Sr=gn.useRef(null),ln=gn.useRef();Ma(Sr.current,yr.card.cardId);const sn=ba(Fr,an),ut=Object.values((sn==null?void 0:sn.layoutsBySize)||{}).flat().filter(t=>t.i===yr.card.cardId),Xr=Ia(yr.card);gn.useEffect(()=>{var t;(t=Sr.current)!=null&&t.ready&&Sr.current.refresh()},[ut]),gn.useEffect(()=>{var y;if(!((y=Sr.current)!=null&&y.ready))return;const t=Sr.current.getAppState();if(t.editingElement||t.resizingElement||t.draggingElement)return;const w=Mo.restoreElements(Xr,Sr.current.getSceneElements());Sr.current.updateScene({elements:w})},[Xr]);const ge=Vr!==ya.Player||yr.card.playerViewPermission===xa.Interact,Q=Xr.length===0?"freedraw":"selection";return $n.jsx(wa,{cardState:yr.card,commands:[],children:$n.jsx(ka,{fill:!0,tabIndex:0,children:$n.jsx(Mo.Excalidraw,{ref:Sr,viewModeEnabled:!ge,initialData:{elements:Xr,appState:{elementType:Q}},onChange:(t,w,y)=>{var c;if(!((c=Sr.current)!=null&&c.ready))return;const f={editingElement:w.editingElement,draggingElement:w.draggingElement,resizingElement:w.resizingElement,selectionElement:w.selectionElement,nonDeletedElementCount:t.filter(j=>j.isDeleted).length,fileCount:Object.keys(y).length};if(!Ea.isEqual(ln.current,f)){ln.current=f,Wr(Sa.SetSceneElements({cardId:yr.card.cardId,sceneElementJSONs:t.map(A=>JSON.stringify(A))}));const j=Object.keys(y).length;Gr&&j>0&&Po.SetCardFiles(Gr,yr.card.cardId,y)}}})})})}function Ia(yr){return yr.sceneElementJSONs?yr.sceneElementJSONs.map(Fr=>{try{return JSON.parse(Fr)}catch(Wr){return console.log("Error parsing JSON: ",Wr),null}}).filter(Fr=>Fr!==null):[]}function Ma(yr,Fr){const Wr=_a();gn.useEffect(()=>{if(!Wr)return;(async()=>{const Gr=await Po.GetCardFiles(Wr,Fr);yr!=null&&yr.ready&&yr.addFiles(Object.values(Gr))})()},[Wr,Fr,yr])}export{za as default};
